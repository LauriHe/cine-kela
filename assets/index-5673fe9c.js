function rA(t,e){for(var i=0;i<e.length;i++){const n=e[i];if(typeof n!="string"&&!Array.isArray(n)){for(const r in n)if(r!=="default"&&!(r in t)){const s=Object.getOwnPropertyDescriptor(n,r);s&&Object.defineProperty(t,r,s.get?s:{enumerable:!0,get:()=>n[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function i(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=i(r);fetch(r.href,s)}})();var Y=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function fi(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function gd(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var i=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};i.prototype=e.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(i,n,r.get?r:{enumerable:!0,get:function(){return t[n]}})}),i}var mb={exports:{}},yd={},gb={exports:{}},_e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var El=Symbol.for("react.element"),sA=Symbol.for("react.portal"),oA=Symbol.for("react.fragment"),aA=Symbol.for("react.strict_mode"),lA=Symbol.for("react.profiler"),uA=Symbol.for("react.provider"),cA=Symbol.for("react.context"),dA=Symbol.for("react.forward_ref"),hA=Symbol.for("react.suspense"),fA=Symbol.for("react.memo"),pA=Symbol.for("react.lazy"),xv=Symbol.iterator;function mA(t){return t===null||typeof t!="object"?null:(t=xv&&t[xv]||t["@@iterator"],typeof t=="function"?t:null)}var yb={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},vb=Object.assign,_b={};function Do(t,e,i){this.props=t,this.context=e,this.refs=_b,this.updater=i||yb}Do.prototype.isReactComponent={};Do.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Do.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function bb(){}bb.prototype=Do.prototype;function mg(t,e,i){this.props=t,this.context=e,this.refs=_b,this.updater=i||yb}var gg=mg.prototype=new bb;gg.constructor=mg;vb(gg,Do.prototype);gg.isPureReactComponent=!0;var Tv=Array.isArray,xb=Object.prototype.hasOwnProperty,yg={current:null},Tb={key:!0,ref:!0,__self:!0,__source:!0};function wb(t,e,i){var n,r={},s=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)xb.call(e,n)&&!Tb.hasOwnProperty(n)&&(r[n]=e[n]);var a=arguments.length-2;if(a===1)r.children=i;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)r[n]===void 0&&(r[n]=a[n]);return{$$typeof:El,type:t,key:s,ref:o,props:r,_owner:yg.current}}function gA(t,e){return{$$typeof:El,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function vg(t){return typeof t=="object"&&t!==null&&t.$$typeof===El}function yA(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(i){return e[i]})}var wv=/\/+/g;function Kh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?yA(""+t.key):e.toString(36)}function Xu(t,e,i,n,r){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case El:case sA:o=!0}}if(o)return o=t,r=r(o),t=n===""?"."+Kh(o,0):n,Tv(r)?(i="",t!=null&&(i=t.replace(wv,"$&/")+"/"),Xu(r,e,i,"",function(u){return u})):r!=null&&(vg(r)&&(r=gA(r,i+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(wv,"$&/")+"/")+t)),e.push(r)),1;if(o=0,n=n===""?".":n+":",Tv(t))for(var a=0;a<t.length;a++){s=t[a];var l=n+Kh(s,a);o+=Xu(s,e,i,l,r)}else if(l=mA(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=n+Kh(s,a++),o+=Xu(s,e,i,l,r);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function pu(t,e,i){if(t==null)return t;var n=[],r=0;return Xu(t,n,"","",function(s){return e.call(i,s,r++)}),n}function vA(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(i){(t._status===0||t._status===-1)&&(t._status=1,t._result=i)},function(i){(t._status===0||t._status===-1)&&(t._status=2,t._result=i)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var jt={current:null},Ku={transition:null},_A={ReactCurrentDispatcher:jt,ReactCurrentBatchConfig:Ku,ReactCurrentOwner:yg};_e.Children={map:pu,forEach:function(t,e,i){pu(t,function(){e.apply(this,arguments)},i)},count:function(t){var e=0;return pu(t,function(){e++}),e},toArray:function(t){return pu(t,function(e){return e})||[]},only:function(t){if(!vg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};_e.Component=Do;_e.Fragment=oA;_e.Profiler=lA;_e.PureComponent=mg;_e.StrictMode=aA;_e.Suspense=hA;_e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_A;_e.cloneElement=function(t,e,i){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=vb({},t.props),r=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=yg.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)xb.call(e,l)&&!Tb.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=i;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:El,type:t.type,key:r,ref:s,props:n,_owner:o}};_e.createContext=function(t){return t={$$typeof:cA,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:uA,_context:t},t.Consumer=t};_e.createElement=wb;_e.createFactory=function(t){var e=wb.bind(null,t);return e.type=t,e};_e.createRef=function(){return{current:null}};_e.forwardRef=function(t){return{$$typeof:dA,render:t}};_e.isValidElement=vg;_e.lazy=function(t){return{$$typeof:pA,_payload:{_status:-1,_result:t},_init:vA}};_e.memo=function(t,e){return{$$typeof:fA,type:t,compare:e===void 0?null:e}};_e.startTransition=function(t){var e=Ku.transition;Ku.transition={};try{t()}finally{Ku.transition=e}};_e.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};_e.useCallback=function(t,e){return jt.current.useCallback(t,e)};_e.useContext=function(t){return jt.current.useContext(t)};_e.useDebugValue=function(){};_e.useDeferredValue=function(t){return jt.current.useDeferredValue(t)};_e.useEffect=function(t,e){return jt.current.useEffect(t,e)};_e.useId=function(){return jt.current.useId()};_e.useImperativeHandle=function(t,e,i){return jt.current.useImperativeHandle(t,e,i)};_e.useInsertionEffect=function(t,e){return jt.current.useInsertionEffect(t,e)};_e.useLayoutEffect=function(t,e){return jt.current.useLayoutEffect(t,e)};_e.useMemo=function(t,e){return jt.current.useMemo(t,e)};_e.useReducer=function(t,e,i){return jt.current.useReducer(t,e,i)};_e.useRef=function(t){return jt.current.useRef(t)};_e.useState=function(t){return jt.current.useState(t)};_e.useSyncExternalStore=function(t,e,i){return jt.current.useSyncExternalStore(t,e,i)};_e.useTransition=function(){return jt.current.useTransition()};_e.version="18.2.0";gb.exports=_e;var z=gb.exports;const J=fi(z),bA=rA({__proto__:null,default:J},[z]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xA=z,TA=Symbol.for("react.element"),wA=Symbol.for("react.fragment"),SA=Object.prototype.hasOwnProperty,EA=xA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,CA={key:!0,ref:!0,__self:!0,__source:!0};function Sb(t,e,i){var n,r={},s=null,o=null;i!==void 0&&(s=""+i),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)SA.call(e,n)&&!CA.hasOwnProperty(n)&&(r[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)r[n]===void 0&&(r[n]=e[n]);return{$$typeof:TA,type:t,key:s,ref:o,props:r,_owner:EA.current}}yd.Fragment=wA;yd.jsx=Sb;yd.jsxs=Sb;mb.exports=yd;var C=mb.exports,Tp={},Eb={exports:{}},pi={},Cb={exports:{}},kb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(W,te){var ue=W.length;W.push(te);e:for(;0<ue;){var we=ue-1>>>1,De=W[we];if(0<r(De,te))W[we]=te,W[ue]=De,ue=we;else break e}}function i(W){return W.length===0?null:W[0]}function n(W){if(W.length===0)return null;var te=W[0],ue=W.pop();if(ue!==te){W[0]=ue;e:for(var we=0,De=W.length,be=De>>>1;we<be;){var bt=2*(we+1)-1,us=W[bt],Zi=bt+1,cs=W[Zi];if(0>r(us,ue))Zi<De&&0>r(cs,us)?(W[we]=cs,W[Zi]=ue,we=Zi):(W[we]=us,W[bt]=ue,we=bt);else if(Zi<De&&0>r(cs,ue))W[we]=cs,W[Zi]=ue,we=Zi;else break e}}return te}function r(W,te){var ue=W.sortIndex-te.sortIndex;return ue!==0?ue:W.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,p=null,y=3,T=!1,v=!1,w=!1,k=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(W){for(var te=i(u);te!==null;){if(te.callback===null)n(u);else if(te.startTime<=W)n(u),te.sortIndex=te.expirationTime,e(l,te);else break;te=i(u)}}function E(W){if(w=!1,S(W),!v)if(i(l)!==null)v=!0,Z(A);else{var te=i(u);te!==null&&ee(E,te.startTime-W)}}function A(W,te){v=!1,w&&(w=!1,x(U),U=-1),T=!0;var ue=y;try{for(S(te),p=i(l);p!==null&&(!(p.expirationTime>te)||W&&!Q());){var we=p.callback;if(typeof we=="function"){p.callback=null,y=p.priorityLevel;var De=we(p.expirationTime<=te);te=t.unstable_now(),typeof De=="function"?p.callback=De:p===i(l)&&n(l),S(te)}else n(l);p=i(l)}if(p!==null)var be=!0;else{var bt=i(u);bt!==null&&ee(E,bt.startTime-te),be=!1}return be}finally{p=null,y=ue,T=!1}}var N=!1,M=null,U=-1,H=5,j=-1;function Q(){return!(t.unstable_now()-j<H)}function ie(){if(M!==null){var W=t.unstable_now();j=W;var te=!0;try{te=M(!0,W)}finally{te?q():(N=!1,M=null)}}else N=!1}var q;if(typeof b=="function")q=function(){b(ie)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,ae=oe.port2;oe.port1.onmessage=ie,q=function(){ae.postMessage(null)}}else q=function(){k(ie,0)};function Z(W){M=W,N||(N=!0,q())}function ee(W,te){U=k(function(){W(t.unstable_now())},te)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_continueExecution=function(){v||T||(v=!0,Z(A))},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return i(l)},t.unstable_next=function(W){switch(y){case 1:case 2:case 3:var te=3;break;default:te=y}var ue=y;y=te;try{return W()}finally{y=ue}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(W,te){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ue=y;y=W;try{return te()}finally{y=ue}},t.unstable_scheduleCallback=function(W,te,ue){var we=t.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?we+ue:we):ue=we,W){case 1:var De=-1;break;case 2:De=250;break;case 5:De=1073741823;break;case 4:De=1e4;break;default:De=5e3}return De=ue+De,W={id:d++,callback:te,priorityLevel:W,startTime:ue,expirationTime:De,sortIndex:-1},ue>we?(W.sortIndex=ue,e(u,W),i(l)===null&&W===i(u)&&(w?(x(U),U=-1):w=!0,ee(E,ue-we))):(W.sortIndex=De,e(l,W),v||T||(v=!0,Z(A))),W},t.unstable_shouldYield=Q,t.unstable_wrapCallback=function(W){var te=y;return function(){var ue=y;y=te;try{return W.apply(this,arguments)}finally{y=ue}}}})(kb);Cb.exports=kb;var kA=Cb.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Db=z,di=kA;function X(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,i=1;i<arguments.length;i++)e+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ab=new Set,Xa={};function ss(t,e){ro(t,e),ro(t+"Capture",e)}function ro(t,e){for(Xa[t]=e,t=0;t<e.length;t++)Ab.add(e[t])}var Mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wp=Object.prototype.hasOwnProperty,DA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Sv={},Ev={};function AA(t){return wp.call(Ev,t)?!0:wp.call(Sv,t)?!1:DA.test(t)?Ev[t]=!0:(Sv[t]=!0,!1)}function PA(t,e,i,n){if(i!==null&&i.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:i!==null?!i.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function IA(t,e,i,n){if(e===null||typeof e>"u"||PA(t,e,i,n))return!0;if(n)return!1;if(i!==null)switch(i.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ut(t,e,i,n,r,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=r,this.mustUseProperty=i,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var _t={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){_t[t]=new Ut(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];_t[e]=new Ut(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){_t[t]=new Ut(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){_t[t]=new Ut(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){_t[t]=new Ut(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){_t[t]=new Ut(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){_t[t]=new Ut(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){_t[t]=new Ut(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){_t[t]=new Ut(t,5,!1,t.toLowerCase(),null,!1,!1)});var _g=/[\-:]([a-z])/g;function bg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(_g,bg);_t[e]=new Ut(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(_g,bg);_t[e]=new Ut(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(_g,bg);_t[e]=new Ut(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){_t[t]=new Ut(t,1,!1,t.toLowerCase(),null,!1,!1)});_t.xlinkHref=new Ut("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){_t[t]=new Ut(t,1,!1,t.toLowerCase(),null,!0,!0)});function xg(t,e,i,n){var r=_t.hasOwnProperty(e)?_t[e]:null;(r!==null?r.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(IA(e,i,r,n)&&(i=null),n||r===null?AA(e)&&(i===null?t.removeAttribute(e):t.setAttribute(e,""+i)):r.mustUseProperty?t[r.propertyName]=i===null?r.type===3?!1:"":i:(e=r.attributeName,n=r.attributeNamespace,i===null?t.removeAttribute(e):(r=r.type,i=r===3||r===4&&i===!0?"":""+i,n?t.setAttributeNS(n,e,i):t.setAttribute(e,i))))}var qn=Db.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,mu=Symbol.for("react.element"),ks=Symbol.for("react.portal"),Ds=Symbol.for("react.fragment"),Tg=Symbol.for("react.strict_mode"),Sp=Symbol.for("react.profiler"),Pb=Symbol.for("react.provider"),Ib=Symbol.for("react.context"),wg=Symbol.for("react.forward_ref"),Ep=Symbol.for("react.suspense"),Cp=Symbol.for("react.suspense_list"),Sg=Symbol.for("react.memo"),Zn=Symbol.for("react.lazy"),Ob=Symbol.for("react.offscreen"),Cv=Symbol.iterator;function ta(t){return t===null||typeof t!="object"?null:(t=Cv&&t[Cv]||t["@@iterator"],typeof t=="function"?t:null)}var Ge=Object.assign,Yh;function ba(t){if(Yh===void 0)try{throw Error()}catch(i){var e=i.stack.trim().match(/\n( *(at )?)/);Yh=e&&e[1]||""}return`
`+Yh+t}var Qh=!1;function Jh(t,e){if(!t||Qh)return"";Qh=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var r=u.stack.split(`
`),s=n.stack.split(`
`),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==s[a]){var l=`
`+r[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Qh=!1,Error.prepareStackTrace=i}return(t=t?t.displayName||t.name:"")?ba(t):""}function OA(t){switch(t.tag){case 5:return ba(t.type);case 16:return ba("Lazy");case 13:return ba("Suspense");case 19:return ba("SuspenseList");case 0:case 2:case 15:return t=Jh(t.type,!1),t;case 11:return t=Jh(t.type.render,!1),t;case 1:return t=Jh(t.type,!0),t;default:return""}}function kp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ds:return"Fragment";case ks:return"Portal";case Sp:return"Profiler";case Tg:return"StrictMode";case Ep:return"Suspense";case Cp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Ib:return(t.displayName||"Context")+".Consumer";case Pb:return(t._context.displayName||"Context")+".Provider";case wg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Sg:return e=t.displayName||null,e!==null?e:kp(t.type)||"Memo";case Zn:e=t._payload,t=t._init;try{return kp(t(e))}catch{}}return null}function LA(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return kp(e);case 8:return e===Tg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function vr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Lb(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function NA(t){var e=Lb(t)?"checked":"value",i=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var r=i.get,s=i.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function gu(t){t._valueTracker||(t._valueTracker=NA(t))}function Nb(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var i=e.getValue(),n="";return t&&(n=Lb(t)?t.checked?"true":"false":t.value),t=n,t!==i?(e.setValue(t),!0):!1}function gc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Dp(t,e){var i=e.checked;return Ge({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??t._wrapperState.initialChecked})}function kv(t,e){var i=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;i=vr(e.value!=null?e.value:i),t._wrapperState={initialChecked:n,initialValue:i,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Rb(t,e){e=e.checked,e!=null&&xg(t,"checked",e,!1)}function Ap(t,e){Rb(t,e);var i=vr(e.value),n=e.type;if(i!=null)n==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+i):t.value!==""+i&&(t.value=""+i);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Pp(t,e.type,i):e.hasOwnProperty("defaultValue")&&Pp(t,e.type,vr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Dv(t,e,i){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,i||e===t.value||(t.value=e),t.defaultValue=e}i=t.name,i!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,i!==""&&(t.name=i)}function Pp(t,e,i){(e!=="number"||gc(t.ownerDocument)!==t)&&(i==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+i&&(t.defaultValue=""+i))}var xa=Array.isArray;function Hs(t,e,i,n){if(t=t.options,e){e={};for(var r=0;r<i.length;r++)e["$"+i[r]]=!0;for(i=0;i<t.length;i++)r=e.hasOwnProperty("$"+t[i].value),t[i].selected!==r&&(t[i].selected=r),r&&n&&(t[i].defaultSelected=!0)}else{for(i=""+vr(i),e=null,r=0;r<t.length;r++){if(t[r].value===i){t[r].selected=!0,n&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function Ip(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(X(91));return Ge({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Av(t,e){var i=e.value;if(i==null){if(i=e.children,e=e.defaultValue,i!=null){if(e!=null)throw Error(X(92));if(xa(i)){if(1<i.length)throw Error(X(93));i=i[0]}e=i}e==null&&(e=""),i=e}t._wrapperState={initialValue:vr(i)}}function Mb(t,e){var i=vr(e.value),n=vr(e.defaultValue);i!=null&&(i=""+i,i!==t.value&&(t.value=i),e.defaultValue==null&&t.defaultValue!==i&&(t.defaultValue=i)),n!=null&&(t.defaultValue=""+n)}function Pv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Bb(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Op(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Bb(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var yu,Fb=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,i,n,r){MSApp.execUnsafeLocalFunction(function(){return t(e,i,n,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(yu=yu||document.createElement("div"),yu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=yu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ka(t,e){if(e){var i=t.firstChild;if(i&&i===t.lastChild&&i.nodeType===3){i.nodeValue=e;return}}t.textContent=e}var Ia={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},RA=["Webkit","ms","Moz","O"];Object.keys(Ia).forEach(function(t){RA.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ia[e]=Ia[t]})});function jb(t,e,i){return e==null||typeof e=="boolean"||e===""?"":i||typeof e!="number"||e===0||Ia.hasOwnProperty(t)&&Ia[t]?(""+e).trim():e+"px"}function Ub(t,e){t=t.style;for(var i in e)if(e.hasOwnProperty(i)){var n=i.indexOf("--")===0,r=jb(i,e[i],n);i==="float"&&(i="cssFloat"),n?t.setProperty(i,r):t[i]=r}}var MA=Ge({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Lp(t,e){if(e){if(MA[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(X(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(X(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(X(61))}if(e.style!=null&&typeof e.style!="object")throw Error(X(62))}}function Np(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rp=null;function Eg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Mp=null,qs=null,Ws=null;function Iv(t){if(t=Dl(t)){if(typeof Mp!="function")throw Error(X(280));var e=t.stateNode;e&&(e=Td(e),Mp(t.stateNode,t.type,e))}}function $b(t){qs?Ws?Ws.push(t):Ws=[t]:qs=t}function zb(){if(qs){var t=qs,e=Ws;if(Ws=qs=null,Iv(t),e)for(t=0;t<e.length;t++)Iv(e[t])}}function Vb(t,e){return t(e)}function Hb(){}var Zh=!1;function qb(t,e,i){if(Zh)return t(e,i);Zh=!0;try{return Vb(t,e,i)}finally{Zh=!1,(qs!==null||Ws!==null)&&(Hb(),zb())}}function Ya(t,e){var i=t.stateNode;if(i===null)return null;var n=Td(i);if(n===null)return null;i=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(i&&typeof i!="function")throw Error(X(231,e,typeof i));return i}var Bp=!1;if(Mn)try{var ia={};Object.defineProperty(ia,"passive",{get:function(){Bp=!0}}),window.addEventListener("test",ia,ia),window.removeEventListener("test",ia,ia)}catch{Bp=!1}function BA(t,e,i,n,r,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(i,u)}catch(d){this.onError(d)}}var Oa=!1,yc=null,vc=!1,Fp=null,FA={onError:function(t){Oa=!0,yc=t}};function jA(t,e,i,n,r,s,o,a,l){Oa=!1,yc=null,BA.apply(FA,arguments)}function UA(t,e,i,n,r,s,o,a,l){if(jA.apply(this,arguments),Oa){if(Oa){var u=yc;Oa=!1,yc=null}else throw Error(X(198));vc||(vc=!0,Fp=u)}}function os(t){var e=t,i=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(i=e.return),t=e.return;while(t)}return e.tag===3?i:null}function Wb(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Ov(t){if(os(t)!==t)throw Error(X(188))}function $A(t){var e=t.alternate;if(!e){if(e=os(t),e===null)throw Error(X(188));return e!==t?null:t}for(var i=t,n=e;;){var r=i.return;if(r===null)break;var s=r.alternate;if(s===null){if(n=r.return,n!==null){i=n;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===i)return Ov(r),t;if(s===n)return Ov(r),e;s=s.sibling}throw Error(X(188))}if(i.return!==n.return)i=r,n=s;else{for(var o=!1,a=r.child;a;){if(a===i){o=!0,i=r,n=s;break}if(a===n){o=!0,n=r,i=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===i){o=!0,i=s,n=r;break}if(a===n){o=!0,n=s,i=r;break}a=a.sibling}if(!o)throw Error(X(189))}}if(i.alternate!==n)throw Error(X(190))}if(i.tag!==3)throw Error(X(188));return i.stateNode.current===i?t:e}function Gb(t){return t=$A(t),t!==null?Xb(t):null}function Xb(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Xb(t);if(e!==null)return e;t=t.sibling}return null}var Kb=di.unstable_scheduleCallback,Lv=di.unstable_cancelCallback,zA=di.unstable_shouldYield,VA=di.unstable_requestPaint,Je=di.unstable_now,HA=di.unstable_getCurrentPriorityLevel,Cg=di.unstable_ImmediatePriority,Yb=di.unstable_UserBlockingPriority,_c=di.unstable_NormalPriority,qA=di.unstable_LowPriority,Qb=di.unstable_IdlePriority,vd=null,cn=null;function WA(t){if(cn&&typeof cn.onCommitFiberRoot=="function")try{cn.onCommitFiberRoot(vd,t,void 0,(t.current.flags&128)===128)}catch{}}var Vi=Math.clz32?Math.clz32:KA,GA=Math.log,XA=Math.LN2;function KA(t){return t>>>=0,t===0?32:31-(GA(t)/XA|0)|0}var vu=64,_u=4194304;function Ta(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function bc(t,e){var i=t.pendingLanes;if(i===0)return 0;var n=0,r=t.suspendedLanes,s=t.pingedLanes,o=i&268435455;if(o!==0){var a=o&~r;a!==0?n=Ta(a):(s&=o,s!==0&&(n=Ta(s)))}else o=i&~r,o!==0?n=Ta(o):s!==0&&(n=Ta(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&r)&&(r=n&-n,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(n&4&&(n|=i&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)i=31-Vi(e),r=1<<i,n|=t[i],e&=~r;return n}function YA(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function QA(t,e){for(var i=t.suspendedLanes,n=t.pingedLanes,r=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Vi(s),a=1<<o,l=r[o];l===-1?(!(a&i)||a&n)&&(r[o]=YA(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function jp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Jb(){var t=vu;return vu<<=1,!(vu&4194240)&&(vu=64),t}function ef(t){for(var e=[],i=0;31>i;i++)e.push(t);return e}function Cl(t,e,i){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Vi(e),t[e]=i}function JA(t,e){var i=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<i;){var r=31-Vi(i),s=1<<r;e[r]=0,n[r]=-1,t[r]=-1,i&=~s}}function kg(t,e){var i=t.entangledLanes|=e;for(t=t.entanglements;i;){var n=31-Vi(i),r=1<<n;r&e|t[n]&e&&(t[n]|=e),i&=~r}}var Ce=0;function Zb(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ex,Dg,tx,ix,nx,Up=!1,bu=[],lr=null,ur=null,cr=null,Qa=new Map,Ja=new Map,ir=[],ZA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Nv(t,e){switch(t){case"focusin":case"focusout":lr=null;break;case"dragenter":case"dragleave":ur=null;break;case"mouseover":case"mouseout":cr=null;break;case"pointerover":case"pointerout":Qa.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ja.delete(e.pointerId)}}function na(t,e,i,n,r,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:i,eventSystemFlags:n,nativeEvent:s,targetContainers:[r]},e!==null&&(e=Dl(e),e!==null&&Dg(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function e3(t,e,i,n,r){switch(e){case"focusin":return lr=na(lr,t,e,i,n,r),!0;case"dragenter":return ur=na(ur,t,e,i,n,r),!0;case"mouseover":return cr=na(cr,t,e,i,n,r),!0;case"pointerover":var s=r.pointerId;return Qa.set(s,na(Qa.get(s)||null,t,e,i,n,r)),!0;case"gotpointercapture":return s=r.pointerId,Ja.set(s,na(Ja.get(s)||null,t,e,i,n,r)),!0}return!1}function rx(t){var e=Ur(t.target);if(e!==null){var i=os(e);if(i!==null){if(e=i.tag,e===13){if(e=Wb(i),e!==null){t.blockedOn=e,nx(t.priority,function(){tx(i)});return}}else if(e===3&&i.stateNode.current.memoizedState.isDehydrated){t.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Yu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var i=$p(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(i===null){i=t.nativeEvent;var n=new i.constructor(i.type,i);Rp=n,i.target.dispatchEvent(n),Rp=null}else return e=Dl(i),e!==null&&Dg(e),t.blockedOn=i,!1;e.shift()}return!0}function Rv(t,e,i){Yu(t)&&i.delete(e)}function t3(){Up=!1,lr!==null&&Yu(lr)&&(lr=null),ur!==null&&Yu(ur)&&(ur=null),cr!==null&&Yu(cr)&&(cr=null),Qa.forEach(Rv),Ja.forEach(Rv)}function ra(t,e){t.blockedOn===e&&(t.blockedOn=null,Up||(Up=!0,di.unstable_scheduleCallback(di.unstable_NormalPriority,t3)))}function Za(t){function e(r){return ra(r,t)}if(0<bu.length){ra(bu[0],t);for(var i=1;i<bu.length;i++){var n=bu[i];n.blockedOn===t&&(n.blockedOn=null)}}for(lr!==null&&ra(lr,t),ur!==null&&ra(ur,t),cr!==null&&ra(cr,t),Qa.forEach(e),Ja.forEach(e),i=0;i<ir.length;i++)n=ir[i],n.blockedOn===t&&(n.blockedOn=null);for(;0<ir.length&&(i=ir[0],i.blockedOn===null);)rx(i),i.blockedOn===null&&ir.shift()}var Gs=qn.ReactCurrentBatchConfig,xc=!0;function i3(t,e,i,n){var r=Ce,s=Gs.transition;Gs.transition=null;try{Ce=1,Ag(t,e,i,n)}finally{Ce=r,Gs.transition=s}}function n3(t,e,i,n){var r=Ce,s=Gs.transition;Gs.transition=null;try{Ce=4,Ag(t,e,i,n)}finally{Ce=r,Gs.transition=s}}function Ag(t,e,i,n){if(xc){var r=$p(t,e,i,n);if(r===null)df(t,e,n,Tc,i),Nv(t,n);else if(e3(r,t,e,i,n))n.stopPropagation();else if(Nv(t,n),e&4&&-1<ZA.indexOf(t)){for(;r!==null;){var s=Dl(r);if(s!==null&&ex(s),s=$p(t,e,i,n),s===null&&df(t,e,n,Tc,i),s===r)break;r=s}r!==null&&n.stopPropagation()}else df(t,e,n,null,i)}}var Tc=null;function $p(t,e,i,n){if(Tc=null,t=Eg(n),t=Ur(t),t!==null)if(e=os(t),e===null)t=null;else if(i=e.tag,i===13){if(t=Wb(e),t!==null)return t;t=null}else if(i===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Tc=t,null}function sx(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(HA()){case Cg:return 1;case Yb:return 4;case _c:case qA:return 16;case Qb:return 536870912;default:return 16}default:return 16}}var sr=null,Pg=null,Qu=null;function ox(){if(Qu)return Qu;var t,e=Pg,i=e.length,n,r="value"in sr?sr.value:sr.textContent,s=r.length;for(t=0;t<i&&e[t]===r[t];t++);var o=i-t;for(n=1;n<=o&&e[i-n]===r[s-n];n++);return Qu=r.slice(t,1<n?1-n:void 0)}function Ju(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function xu(){return!0}function Mv(){return!1}function mi(t){function e(i,n,r,s,o){this._reactName=i,this._targetInst=r,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(i=t[a],this[a]=i?i(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?xu:Mv,this.isPropagationStopped=Mv,this}return Ge(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=xu)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=xu)},persist:function(){},isPersistent:xu}),e}var Ao={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ig=mi(Ao),kl=Ge({},Ao,{view:0,detail:0}),r3=mi(kl),tf,nf,sa,_d=Ge({},kl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Og,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==sa&&(sa&&t.type==="mousemove"?(tf=t.screenX-sa.screenX,nf=t.screenY-sa.screenY):nf=tf=0,sa=t),tf)},movementY:function(t){return"movementY"in t?t.movementY:nf}}),Bv=mi(_d),s3=Ge({},_d,{dataTransfer:0}),o3=mi(s3),a3=Ge({},kl,{relatedTarget:0}),rf=mi(a3),l3=Ge({},Ao,{animationName:0,elapsedTime:0,pseudoElement:0}),u3=mi(l3),c3=Ge({},Ao,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),d3=mi(c3),h3=Ge({},Ao,{data:0}),Fv=mi(h3),f3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},p3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},m3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function g3(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=m3[t])?!!e[t]:!1}function Og(){return g3}var y3=Ge({},kl,{key:function(t){if(t.key){var e=f3[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ju(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?p3[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Og,charCode:function(t){return t.type==="keypress"?Ju(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ju(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),v3=mi(y3),_3=Ge({},_d,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jv=mi(_3),b3=Ge({},kl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Og}),x3=mi(b3),T3=Ge({},Ao,{propertyName:0,elapsedTime:0,pseudoElement:0}),w3=mi(T3),S3=Ge({},_d,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),E3=mi(S3),C3=[9,13,27,32],Lg=Mn&&"CompositionEvent"in window,La=null;Mn&&"documentMode"in document&&(La=document.documentMode);var k3=Mn&&"TextEvent"in window&&!La,ax=Mn&&(!Lg||La&&8<La&&11>=La),Uv=String.fromCharCode(32),$v=!1;function lx(t,e){switch(t){case"keyup":return C3.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ux(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var As=!1;function D3(t,e){switch(t){case"compositionend":return ux(e);case"keypress":return e.which!==32?null:($v=!0,Uv);case"textInput":return t=e.data,t===Uv&&$v?null:t;default:return null}}function A3(t,e){if(As)return t==="compositionend"||!Lg&&lx(t,e)?(t=ox(),Qu=Pg=sr=null,As=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return ax&&e.locale!=="ko"?null:e.data;default:return null}}var P3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!P3[t.type]:e==="textarea"}function cx(t,e,i,n){$b(n),e=wc(e,"onChange"),0<e.length&&(i=new Ig("onChange","change",null,i,n),t.push({event:i,listeners:e}))}var Na=null,el=null;function I3(t){xx(t,0)}function bd(t){var e=Os(t);if(Nb(e))return t}function O3(t,e){if(t==="change")return e}var dx=!1;if(Mn){var sf;if(Mn){var of="oninput"in document;if(!of){var Vv=document.createElement("div");Vv.setAttribute("oninput","return;"),of=typeof Vv.oninput=="function"}sf=of}else sf=!1;dx=sf&&(!document.documentMode||9<document.documentMode)}function Hv(){Na&&(Na.detachEvent("onpropertychange",hx),el=Na=null)}function hx(t){if(t.propertyName==="value"&&bd(el)){var e=[];cx(e,el,t,Eg(t)),qb(I3,e)}}function L3(t,e,i){t==="focusin"?(Hv(),Na=e,el=i,Na.attachEvent("onpropertychange",hx)):t==="focusout"&&Hv()}function N3(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return bd(el)}function R3(t,e){if(t==="click")return bd(e)}function M3(t,e){if(t==="input"||t==="change")return bd(e)}function B3(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Wi=typeof Object.is=="function"?Object.is:B3;function tl(t,e){if(Wi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var i=Object.keys(t),n=Object.keys(e);if(i.length!==n.length)return!1;for(n=0;n<i.length;n++){var r=i[n];if(!wp.call(e,r)||!Wi(t[r],e[r]))return!1}return!0}function qv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Wv(t,e){var i=qv(t);t=0;for(var n;i;){if(i.nodeType===3){if(n=t+i.textContent.length,t<=e&&n>=e)return{node:i,offset:e-t};t=n}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=qv(i)}}function fx(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?fx(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function px(){for(var t=window,e=gc();e instanceof t.HTMLIFrameElement;){try{var i=typeof e.contentWindow.location.href=="string"}catch{i=!1}if(i)t=e.contentWindow;else break;e=gc(t.document)}return e}function Ng(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function F3(t){var e=px(),i=t.focusedElem,n=t.selectionRange;if(e!==i&&i&&i.ownerDocument&&fx(i.ownerDocument.documentElement,i)){if(n!==null&&Ng(i)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in i)i.selectionStart=e,i.selectionEnd=Math.min(t,i.value.length);else if(t=(e=i.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=i.textContent.length,s=Math.min(n.start,r);n=n.end===void 0?s:Math.min(n.end,r),!t.extend&&s>n&&(r=n,n=s,s=r),r=Wv(i,s);var o=Wv(i,n);r&&o&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=i;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<e.length;i++)t=e[i],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var j3=Mn&&"documentMode"in document&&11>=document.documentMode,Ps=null,zp=null,Ra=null,Vp=!1;function Gv(t,e,i){var n=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Vp||Ps==null||Ps!==gc(n)||(n=Ps,"selectionStart"in n&&Ng(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ra&&tl(Ra,n)||(Ra=n,n=wc(zp,"onSelect"),0<n.length&&(e=new Ig("onSelect","select",null,e,i),t.push({event:e,listeners:n}),e.target=Ps)))}function Tu(t,e){var i={};return i[t.toLowerCase()]=e.toLowerCase(),i["Webkit"+t]="webkit"+e,i["Moz"+t]="moz"+e,i}var Is={animationend:Tu("Animation","AnimationEnd"),animationiteration:Tu("Animation","AnimationIteration"),animationstart:Tu("Animation","AnimationStart"),transitionend:Tu("Transition","TransitionEnd")},af={},mx={};Mn&&(mx=document.createElement("div").style,"AnimationEvent"in window||(delete Is.animationend.animation,delete Is.animationiteration.animation,delete Is.animationstart.animation),"TransitionEvent"in window||delete Is.transitionend.transition);function xd(t){if(af[t])return af[t];if(!Is[t])return t;var e=Is[t],i;for(i in e)if(e.hasOwnProperty(i)&&i in mx)return af[t]=e[i];return t}var gx=xd("animationend"),yx=xd("animationiteration"),vx=xd("animationstart"),_x=xd("transitionend"),bx=new Map,Xv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Sr(t,e){bx.set(t,e),ss(e,[t])}for(var lf=0;lf<Xv.length;lf++){var uf=Xv[lf],U3=uf.toLowerCase(),$3=uf[0].toUpperCase()+uf.slice(1);Sr(U3,"on"+$3)}Sr(gx,"onAnimationEnd");Sr(yx,"onAnimationIteration");Sr(vx,"onAnimationStart");Sr("dblclick","onDoubleClick");Sr("focusin","onFocus");Sr("focusout","onBlur");Sr(_x,"onTransitionEnd");ro("onMouseEnter",["mouseout","mouseover"]);ro("onMouseLeave",["mouseout","mouseover"]);ro("onPointerEnter",["pointerout","pointerover"]);ro("onPointerLeave",["pointerout","pointerover"]);ss("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ss("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ss("onBeforeInput",["compositionend","keypress","textInput","paste"]);ss("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ss("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ss("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),z3=new Set("cancel close invalid load scroll toggle".split(" ").concat(wa));function Kv(t,e,i){var n=t.type||"unknown-event";t.currentTarget=i,UA(n,e,void 0,t),t.currentTarget=null}function xx(t,e){e=(e&4)!==0;for(var i=0;i<t.length;i++){var n=t[i],r=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break e;Kv(r,a,u),s=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break e;Kv(r,a,u),s=l}}}if(vc)throw t=Fp,vc=!1,Fp=null,t}function Be(t,e){var i=e[Xp];i===void 0&&(i=e[Xp]=new Set);var n=t+"__bubble";i.has(n)||(Tx(e,t,2,!1),i.add(n))}function cf(t,e,i){var n=0;e&&(n|=4),Tx(i,t,n,e)}var wu="_reactListening"+Math.random().toString(36).slice(2);function il(t){if(!t[wu]){t[wu]=!0,Ab.forEach(function(i){i!=="selectionchange"&&(z3.has(i)||cf(i,!1,t),cf(i,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[wu]||(e[wu]=!0,cf("selectionchange",!1,e))}}function Tx(t,e,i,n){switch(sx(e)){case 1:var r=i3;break;case 4:r=n3;break;default:r=Ag}i=r.bind(null,e,i,t),r=void 0,!Bp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),n?r!==void 0?t.addEventListener(e,i,{capture:!0,passive:r}):t.addEventListener(e,i,!0):r!==void 0?t.addEventListener(e,i,{passive:r}):t.addEventListener(e,i,!1)}function df(t,e,i,n,r){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;a!==null;){if(o=Ur(a),o===null)return;if(l=o.tag,l===5||l===6){n=s=o;continue e}a=a.parentNode}}n=n.return}qb(function(){var u=s,d=Eg(i),p=[];e:{var y=bx.get(t);if(y!==void 0){var T=Ig,v=t;switch(t){case"keypress":if(Ju(i)===0)break e;case"keydown":case"keyup":T=v3;break;case"focusin":v="focus",T=rf;break;case"focusout":v="blur",T=rf;break;case"beforeblur":case"afterblur":T=rf;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":T=Bv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":T=o3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":T=x3;break;case gx:case yx:case vx:T=u3;break;case _x:T=w3;break;case"scroll":T=r3;break;case"wheel":T=E3;break;case"copy":case"cut":case"paste":T=d3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":T=jv}var w=(e&4)!==0,k=!w&&t==="scroll",x=w?y!==null?y+"Capture":null:y;w=[];for(var b=u,S;b!==null;){S=b;var E=S.stateNode;if(S.tag===5&&E!==null&&(S=E,x!==null&&(E=Ya(b,x),E!=null&&w.push(nl(b,E,S)))),k)break;b=b.return}0<w.length&&(y=new T(y,v,null,i,d),p.push({event:y,listeners:w}))}}if(!(e&7)){e:{if(y=t==="mouseover"||t==="pointerover",T=t==="mouseout"||t==="pointerout",y&&i!==Rp&&(v=i.relatedTarget||i.fromElement)&&(Ur(v)||v[Bn]))break e;if((T||y)&&(y=d.window===d?d:(y=d.ownerDocument)?y.defaultView||y.parentWindow:window,T?(v=i.relatedTarget||i.toElement,T=u,v=v?Ur(v):null,v!==null&&(k=os(v),v!==k||v.tag!==5&&v.tag!==6)&&(v=null)):(T=null,v=u),T!==v)){if(w=Bv,E="onMouseLeave",x="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(w=jv,E="onPointerLeave",x="onPointerEnter",b="pointer"),k=T==null?y:Os(T),S=v==null?y:Os(v),y=new w(E,b+"leave",T,i,d),y.target=k,y.relatedTarget=S,E=null,Ur(d)===u&&(w=new w(x,b+"enter",v,i,d),w.target=S,w.relatedTarget=k,E=w),k=E,T&&v)t:{for(w=T,x=v,b=0,S=w;S;S=ms(S))b++;for(S=0,E=x;E;E=ms(E))S++;for(;0<b-S;)w=ms(w),b--;for(;0<S-b;)x=ms(x),S--;for(;b--;){if(w===x||x!==null&&w===x.alternate)break t;w=ms(w),x=ms(x)}w=null}else w=null;T!==null&&Yv(p,y,T,w,!1),v!==null&&k!==null&&Yv(p,k,v,w,!0)}}e:{if(y=u?Os(u):window,T=y.nodeName&&y.nodeName.toLowerCase(),T==="select"||T==="input"&&y.type==="file")var A=O3;else if(zv(y))if(dx)A=M3;else{A=N3;var N=L3}else(T=y.nodeName)&&T.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(A=R3);if(A&&(A=A(t,u))){cx(p,A,i,d);break e}N&&N(t,y,u),t==="focusout"&&(N=y._wrapperState)&&N.controlled&&y.type==="number"&&Pp(y,"number",y.value)}switch(N=u?Os(u):window,t){case"focusin":(zv(N)||N.contentEditable==="true")&&(Ps=N,zp=u,Ra=null);break;case"focusout":Ra=zp=Ps=null;break;case"mousedown":Vp=!0;break;case"contextmenu":case"mouseup":case"dragend":Vp=!1,Gv(p,i,d);break;case"selectionchange":if(j3)break;case"keydown":case"keyup":Gv(p,i,d)}var M;if(Lg)e:{switch(t){case"compositionstart":var U="onCompositionStart";break e;case"compositionend":U="onCompositionEnd";break e;case"compositionupdate":U="onCompositionUpdate";break e}U=void 0}else As?lx(t,i)&&(U="onCompositionEnd"):t==="keydown"&&i.keyCode===229&&(U="onCompositionStart");U&&(ax&&i.locale!=="ko"&&(As||U!=="onCompositionStart"?U==="onCompositionEnd"&&As&&(M=ox()):(sr=d,Pg="value"in sr?sr.value:sr.textContent,As=!0)),N=wc(u,U),0<N.length&&(U=new Fv(U,t,null,i,d),p.push({event:U,listeners:N}),M?U.data=M:(M=ux(i),M!==null&&(U.data=M)))),(M=k3?D3(t,i):A3(t,i))&&(u=wc(u,"onBeforeInput"),0<u.length&&(d=new Fv("onBeforeInput","beforeinput",null,i,d),p.push({event:d,listeners:u}),d.data=M))}xx(p,e)})}function nl(t,e,i){return{instance:t,listener:e,currentTarget:i}}function wc(t,e){for(var i=e+"Capture",n=[];t!==null;){var r=t,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=Ya(t,i),s!=null&&n.unshift(nl(t,s,r)),s=Ya(t,e),s!=null&&n.push(nl(t,s,r))),t=t.return}return n}function ms(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Yv(t,e,i,n,r){for(var s=e._reactName,o=[];i!==null&&i!==n;){var a=i,l=a.alternate,u=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&u!==null&&(a=u,r?(l=Ya(i,s),l!=null&&o.unshift(nl(i,l,a))):r||(l=Ya(i,s),l!=null&&o.push(nl(i,l,a)))),i=i.return}o.length!==0&&t.push({event:e,listeners:o})}var V3=/\r\n?/g,H3=/\u0000|\uFFFD/g;function Qv(t){return(typeof t=="string"?t:""+t).replace(V3,`
`).replace(H3,"")}function Su(t,e,i){if(e=Qv(e),Qv(t)!==e&&i)throw Error(X(425))}function Sc(){}var Hp=null,qp=null;function Wp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Gp=typeof setTimeout=="function"?setTimeout:void 0,q3=typeof clearTimeout=="function"?clearTimeout:void 0,Jv=typeof Promise=="function"?Promise:void 0,W3=typeof queueMicrotask=="function"?queueMicrotask:typeof Jv<"u"?function(t){return Jv.resolve(null).then(t).catch(G3)}:Gp;function G3(t){setTimeout(function(){throw t})}function hf(t,e){var i=e,n=0;do{var r=i.nextSibling;if(t.removeChild(i),r&&r.nodeType===8)if(i=r.data,i==="/$"){if(n===0){t.removeChild(r),Za(e);return}n--}else i!=="$"&&i!=="$?"&&i!=="$!"||n++;i=r}while(i);Za(e)}function dr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Zv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var i=t.data;if(i==="$"||i==="$!"||i==="$?"){if(e===0)return t;e--}else i==="/$"&&e++}t=t.previousSibling}return null}var Po=Math.random().toString(36).slice(2),on="__reactFiber$"+Po,rl="__reactProps$"+Po,Bn="__reactContainer$"+Po,Xp="__reactEvents$"+Po,X3="__reactListeners$"+Po,K3="__reactHandles$"+Po;function Ur(t){var e=t[on];if(e)return e;for(var i=t.parentNode;i;){if(e=i[Bn]||i[on]){if(i=e.alternate,e.child!==null||i!==null&&i.child!==null)for(t=Zv(t);t!==null;){if(i=t[on])return i;t=Zv(t)}return e}t=i,i=t.parentNode}return null}function Dl(t){return t=t[on]||t[Bn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Os(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(X(33))}function Td(t){return t[rl]||null}var Kp=[],Ls=-1;function Er(t){return{current:t}}function Fe(t){0>Ls||(t.current=Kp[Ls],Kp[Ls]=null,Ls--)}function Le(t,e){Ls++,Kp[Ls]=t.current,t.current=e}var _r={},kt=Er(_r),Xt=Er(!1),Qr=_r;function so(t,e){var i=t.type.contextTypes;if(!i)return _r;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in i)r[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function Kt(t){return t=t.childContextTypes,t!=null}function Ec(){Fe(Xt),Fe(kt)}function e_(t,e,i){if(kt.current!==_r)throw Error(X(168));Le(kt,e),Le(Xt,i)}function wx(t,e,i){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return i;n=n.getChildContext();for(var r in n)if(!(r in e))throw Error(X(108,LA(t)||"Unknown",r));return Ge({},i,n)}function Cc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||_r,Qr=kt.current,Le(kt,t),Le(Xt,Xt.current),!0}function t_(t,e,i){var n=t.stateNode;if(!n)throw Error(X(169));i?(t=wx(t,e,Qr),n.__reactInternalMemoizedMergedChildContext=t,Fe(Xt),Fe(kt),Le(kt,t)):Fe(Xt),Le(Xt,i)}var Dn=null,wd=!1,ff=!1;function Sx(t){Dn===null?Dn=[t]:Dn.push(t)}function Y3(t){wd=!0,Sx(t)}function Cr(){if(!ff&&Dn!==null){ff=!0;var t=0,e=Ce;try{var i=Dn;for(Ce=1;t<i.length;t++){var n=i[t];do n=n(!0);while(n!==null)}Dn=null,wd=!1}catch(r){throw Dn!==null&&(Dn=Dn.slice(t+1)),Kb(Cg,Cr),r}finally{Ce=e,ff=!1}}return null}var Ns=[],Rs=0,kc=null,Dc=0,xi=[],Ti=0,Jr=null,In=1,On="";function Mr(t,e){Ns[Rs++]=Dc,Ns[Rs++]=kc,kc=t,Dc=e}function Ex(t,e,i){xi[Ti++]=In,xi[Ti++]=On,xi[Ti++]=Jr,Jr=t;var n=In;t=On;var r=32-Vi(n)-1;n&=~(1<<r),i+=1;var s=32-Vi(e)+r;if(30<s){var o=r-r%5;s=(n&(1<<o)-1).toString(32),n>>=o,r-=o,In=1<<32-Vi(e)+r|i<<r|n,On=s+t}else In=1<<s|i<<r|n,On=t}function Rg(t){t.return!==null&&(Mr(t,1),Ex(t,1,0))}function Mg(t){for(;t===kc;)kc=Ns[--Rs],Ns[Rs]=null,Dc=Ns[--Rs],Ns[Rs]=null;for(;t===Jr;)Jr=xi[--Ti],xi[Ti]=null,On=xi[--Ti],xi[Ti]=null,In=xi[--Ti],xi[Ti]=null}var li=null,ai=null,ze=!1,$i=null;function Cx(t,e){var i=Si(5,null,null,0);i.elementType="DELETED",i.stateNode=e,i.return=t,e=t.deletions,e===null?(t.deletions=[i],t.flags|=16):e.push(i)}function i_(t,e){switch(t.tag){case 5:var i=t.type;return e=e.nodeType!==1||i.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,li=t,ai=dr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,li=t,ai=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(i=Jr!==null?{id:In,overflow:On}:null,t.memoizedState={dehydrated:e,treeContext:i,retryLane:1073741824},i=Si(18,null,null,0),i.stateNode=e,i.return=t,t.child=i,li=t,ai=null,!0):!1;default:return!1}}function Yp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Qp(t){if(ze){var e=ai;if(e){var i=e;if(!i_(t,e)){if(Yp(t))throw Error(X(418));e=dr(i.nextSibling);var n=li;e&&i_(t,e)?Cx(n,i):(t.flags=t.flags&-4097|2,ze=!1,li=t)}}else{if(Yp(t))throw Error(X(418));t.flags=t.flags&-4097|2,ze=!1,li=t}}}function n_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;li=t}function Eu(t){if(t!==li)return!1;if(!ze)return n_(t),ze=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Wp(t.type,t.memoizedProps)),e&&(e=ai)){if(Yp(t))throw kx(),Error(X(418));for(;e;)Cx(t,e),e=dr(e.nextSibling)}if(n_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(X(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var i=t.data;if(i==="/$"){if(e===0){ai=dr(t.nextSibling);break e}e--}else i!=="$"&&i!=="$!"&&i!=="$?"||e++}t=t.nextSibling}ai=null}}else ai=li?dr(t.stateNode.nextSibling):null;return!0}function kx(){for(var t=ai;t;)t=dr(t.nextSibling)}function oo(){ai=li=null,ze=!1}function Bg(t){$i===null?$i=[t]:$i.push(t)}var Q3=qn.ReactCurrentBatchConfig;function Fi(t,e){if(t&&t.defaultProps){e=Ge({},e),t=t.defaultProps;for(var i in t)e[i]===void 0&&(e[i]=t[i]);return e}return e}var Ac=Er(null),Pc=null,Ms=null,Fg=null;function jg(){Fg=Ms=Pc=null}function Ug(t){var e=Ac.current;Fe(Ac),t._currentValue=e}function Jp(t,e,i){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===i)break;t=t.return}}function Xs(t,e){Pc=t,Fg=Ms=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Wt=!0),t.firstContext=null)}function Ai(t){var e=t._currentValue;if(Fg!==t)if(t={context:t,memoizedValue:e,next:null},Ms===null){if(Pc===null)throw Error(X(308));Ms=t,Pc.dependencies={lanes:0,firstContext:t}}else Ms=Ms.next=t;return e}var $r=null;function $g(t){$r===null?$r=[t]:$r.push(t)}function Dx(t,e,i,n){var r=e.interleaved;return r===null?(i.next=i,$g(e)):(i.next=r.next,r.next=i),e.interleaved=i,Fn(t,n)}function Fn(t,e){t.lanes|=e;var i=t.alternate;for(i!==null&&(i.lanes|=e),i=t,t=t.return;t!==null;)t.childLanes|=e,i=t.alternate,i!==null&&(i.childLanes|=e),i=t,t=t.return;return i.tag===3?i.stateNode:null}var er=!1;function zg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ax(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ln(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function hr(t,e,i){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Te&2){var r=n.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),n.pending=e,Fn(t,i)}return r=n.interleaved,r===null?(e.next=e,$g(n)):(e.next=r.next,r.next=e),n.interleaved=e,Fn(t,i)}function Zu(t,e,i){if(e=e.updateQueue,e!==null&&(e=e.shared,(i&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,i|=n,e.lanes=i,kg(t,i)}}function r_(t,e){var i=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,i===n)){var r=null,s=null;if(i=i.firstBaseUpdate,i!==null){do{var o={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};s===null?r=s=o:s=s.next=o,i=i.next}while(i!==null);s===null?r=s=e:s=s.next=e}else r=s=e;i={baseState:n.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=i;return}t=i.lastBaseUpdate,t===null?i.firstBaseUpdate=e:t.next=e,i.lastBaseUpdate=e}function Ic(t,e,i,n){var r=t.updateQueue;er=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(s!==null){var p=r.baseState;o=0,d=u=l=null,a=s;do{var y=a.lane,T=a.eventTime;if((n&y)===y){d!==null&&(d=d.next={eventTime:T,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,w=a;switch(y=e,T=i,w.tag){case 1:if(v=w.payload,typeof v=="function"){p=v.call(T,p,y);break e}p=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=w.payload,y=typeof v=="function"?v.call(T,p,y):v,y==null)break e;p=Ge({},p,y);break e;case 2:er=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,y=r.effects,y===null?r.effects=[a]:y.push(a))}else T={eventTime:T,lane:y,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=T,l=p):d=d.next=T,o|=y;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;y=a,a=y.next,y.next=null,r.lastBaseUpdate=y,r.shared.pending=null}}while(1);if(d===null&&(l=p),r.baseState=l,r.firstBaseUpdate=u,r.lastBaseUpdate=d,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);es|=o,t.lanes=o,t.memoizedState=p}}function s_(t,e,i){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],r=n.callback;if(r!==null){if(n.callback=null,n=i,typeof r!="function")throw Error(X(191,r));r.call(n)}}}var Px=new Db.Component().refs;function Zp(t,e,i,n){e=t.memoizedState,i=i(n,e),i=i==null?e:Ge({},e,i),t.memoizedState=i,t.lanes===0&&(t.updateQueue.baseState=i)}var Sd={isMounted:function(t){return(t=t._reactInternals)?os(t)===t:!1},enqueueSetState:function(t,e,i){t=t._reactInternals;var n=Bt(),r=pr(t),s=Ln(n,r);s.payload=e,i!=null&&(s.callback=i),e=hr(t,s,r),e!==null&&(Hi(e,t,r,n),Zu(e,t,r))},enqueueReplaceState:function(t,e,i){t=t._reactInternals;var n=Bt(),r=pr(t),s=Ln(n,r);s.tag=1,s.payload=e,i!=null&&(s.callback=i),e=hr(t,s,r),e!==null&&(Hi(e,t,r,n),Zu(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var i=Bt(),n=pr(t),r=Ln(i,n);r.tag=2,e!=null&&(r.callback=e),e=hr(t,r,n),e!==null&&(Hi(e,t,n,i),Zu(e,t,n))}};function o_(t,e,i,n,r,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,o):e.prototype&&e.prototype.isPureReactComponent?!tl(i,n)||!tl(r,s):!0}function Ix(t,e,i){var n=!1,r=_r,s=e.contextType;return typeof s=="object"&&s!==null?s=Ai(s):(r=Kt(e)?Qr:kt.current,n=e.contextTypes,s=(n=n!=null)?so(t,r):_r),e=new e(i,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Sd,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=s),e}function a_(t,e,i,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(i,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(i,n),e.state!==t&&Sd.enqueueReplaceState(e,e.state,null)}function em(t,e,i,n){var r=t.stateNode;r.props=i,r.state=t.memoizedState,r.refs=Px,zg(t);var s=e.contextType;typeof s=="object"&&s!==null?r.context=Ai(s):(s=Kt(e)?Qr:kt.current,r.context=so(t,s)),r.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Zp(t,e,s,i),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&Sd.enqueueReplaceState(r,r.state,null),Ic(t,i,r,n),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function oa(t,e,i){if(t=i.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(X(309));var n=i.stateNode}if(!n)throw Error(X(147,t));var r=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=r.refs;a===Px&&(a=r.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(X(284));if(!i._owner)throw Error(X(290,t))}return t}function Cu(t,e){throw t=Object.prototype.toString.call(e),Error(X(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function l_(t){var e=t._init;return e(t._payload)}function Ox(t){function e(x,b){if(t){var S=x.deletions;S===null?(x.deletions=[b],x.flags|=16):S.push(b)}}function i(x,b){if(!t)return null;for(;b!==null;)e(x,b),b=b.sibling;return null}function n(x,b){for(x=new Map;b!==null;)b.key!==null?x.set(b.key,b):x.set(b.index,b),b=b.sibling;return x}function r(x,b){return x=mr(x,b),x.index=0,x.sibling=null,x}function s(x,b,S){return x.index=S,t?(S=x.alternate,S!==null?(S=S.index,S<b?(x.flags|=2,b):S):(x.flags|=2,b)):(x.flags|=1048576,b)}function o(x){return t&&x.alternate===null&&(x.flags|=2),x}function a(x,b,S,E){return b===null||b.tag!==6?(b=bf(S,x.mode,E),b.return=x,b):(b=r(b,S),b.return=x,b)}function l(x,b,S,E){var A=S.type;return A===Ds?d(x,b,S.props.children,E,S.key):b!==null&&(b.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Zn&&l_(A)===b.type)?(E=r(b,S.props),E.ref=oa(x,b,S),E.return=x,E):(E=sc(S.type,S.key,S.props,null,x.mode,E),E.ref=oa(x,b,S),E.return=x,E)}function u(x,b,S,E){return b===null||b.tag!==4||b.stateNode.containerInfo!==S.containerInfo||b.stateNode.implementation!==S.implementation?(b=xf(S,x.mode,E),b.return=x,b):(b=r(b,S.children||[]),b.return=x,b)}function d(x,b,S,E,A){return b===null||b.tag!==7?(b=Wr(S,x.mode,E,A),b.return=x,b):(b=r(b,S),b.return=x,b)}function p(x,b,S){if(typeof b=="string"&&b!==""||typeof b=="number")return b=bf(""+b,x.mode,S),b.return=x,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case mu:return S=sc(b.type,b.key,b.props,null,x.mode,S),S.ref=oa(x,null,b),S.return=x,S;case ks:return b=xf(b,x.mode,S),b.return=x,b;case Zn:var E=b._init;return p(x,E(b._payload),S)}if(xa(b)||ta(b))return b=Wr(b,x.mode,S,null),b.return=x,b;Cu(x,b)}return null}function y(x,b,S,E){var A=b!==null?b.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return A!==null?null:a(x,b,""+S,E);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case mu:return S.key===A?l(x,b,S,E):null;case ks:return S.key===A?u(x,b,S,E):null;case Zn:return A=S._init,y(x,b,A(S._payload),E)}if(xa(S)||ta(S))return A!==null?null:d(x,b,S,E,null);Cu(x,S)}return null}function T(x,b,S,E,A){if(typeof E=="string"&&E!==""||typeof E=="number")return x=x.get(S)||null,a(b,x,""+E,A);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case mu:return x=x.get(E.key===null?S:E.key)||null,l(b,x,E,A);case ks:return x=x.get(E.key===null?S:E.key)||null,u(b,x,E,A);case Zn:var N=E._init;return T(x,b,S,N(E._payload),A)}if(xa(E)||ta(E))return x=x.get(S)||null,d(b,x,E,A,null);Cu(b,E)}return null}function v(x,b,S,E){for(var A=null,N=null,M=b,U=b=0,H=null;M!==null&&U<S.length;U++){M.index>U?(H=M,M=null):H=M.sibling;var j=y(x,M,S[U],E);if(j===null){M===null&&(M=H);break}t&&M&&j.alternate===null&&e(x,M),b=s(j,b,U),N===null?A=j:N.sibling=j,N=j,M=H}if(U===S.length)return i(x,M),ze&&Mr(x,U),A;if(M===null){for(;U<S.length;U++)M=p(x,S[U],E),M!==null&&(b=s(M,b,U),N===null?A=M:N.sibling=M,N=M);return ze&&Mr(x,U),A}for(M=n(x,M);U<S.length;U++)H=T(M,x,U,S[U],E),H!==null&&(t&&H.alternate!==null&&M.delete(H.key===null?U:H.key),b=s(H,b,U),N===null?A=H:N.sibling=H,N=H);return t&&M.forEach(function(Q){return e(x,Q)}),ze&&Mr(x,U),A}function w(x,b,S,E){var A=ta(S);if(typeof A!="function")throw Error(X(150));if(S=A.call(S),S==null)throw Error(X(151));for(var N=A=null,M=b,U=b=0,H=null,j=S.next();M!==null&&!j.done;U++,j=S.next()){M.index>U?(H=M,M=null):H=M.sibling;var Q=y(x,M,j.value,E);if(Q===null){M===null&&(M=H);break}t&&M&&Q.alternate===null&&e(x,M),b=s(Q,b,U),N===null?A=Q:N.sibling=Q,N=Q,M=H}if(j.done)return i(x,M),ze&&Mr(x,U),A;if(M===null){for(;!j.done;U++,j=S.next())j=p(x,j.value,E),j!==null&&(b=s(j,b,U),N===null?A=j:N.sibling=j,N=j);return ze&&Mr(x,U),A}for(M=n(x,M);!j.done;U++,j=S.next())j=T(M,x,U,j.value,E),j!==null&&(t&&j.alternate!==null&&M.delete(j.key===null?U:j.key),b=s(j,b,U),N===null?A=j:N.sibling=j,N=j);return t&&M.forEach(function(ie){return e(x,ie)}),ze&&Mr(x,U),A}function k(x,b,S,E){if(typeof S=="object"&&S!==null&&S.type===Ds&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case mu:e:{for(var A=S.key,N=b;N!==null;){if(N.key===A){if(A=S.type,A===Ds){if(N.tag===7){i(x,N.sibling),b=r(N,S.props.children),b.return=x,x=b;break e}}else if(N.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Zn&&l_(A)===N.type){i(x,N.sibling),b=r(N,S.props),b.ref=oa(x,N,S),b.return=x,x=b;break e}i(x,N);break}else e(x,N);N=N.sibling}S.type===Ds?(b=Wr(S.props.children,x.mode,E,S.key),b.return=x,x=b):(E=sc(S.type,S.key,S.props,null,x.mode,E),E.ref=oa(x,b,S),E.return=x,x=E)}return o(x);case ks:e:{for(N=S.key;b!==null;){if(b.key===N)if(b.tag===4&&b.stateNode.containerInfo===S.containerInfo&&b.stateNode.implementation===S.implementation){i(x,b.sibling),b=r(b,S.children||[]),b.return=x,x=b;break e}else{i(x,b);break}else e(x,b);b=b.sibling}b=xf(S,x.mode,E),b.return=x,x=b}return o(x);case Zn:return N=S._init,k(x,b,N(S._payload),E)}if(xa(S))return v(x,b,S,E);if(ta(S))return w(x,b,S,E);Cu(x,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,b!==null&&b.tag===6?(i(x,b.sibling),b=r(b,S),b.return=x,x=b):(i(x,b),b=bf(S,x.mode,E),b.return=x,x=b),o(x)):i(x,b)}return k}var ao=Ox(!0),Lx=Ox(!1),Al={},dn=Er(Al),sl=Er(Al),ol=Er(Al);function zr(t){if(t===Al)throw Error(X(174));return t}function Vg(t,e){switch(Le(ol,e),Le(sl,t),Le(dn,Al),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Op(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Op(e,t)}Fe(dn),Le(dn,e)}function lo(){Fe(dn),Fe(sl),Fe(ol)}function Nx(t){zr(ol.current);var e=zr(dn.current),i=Op(e,t.type);e!==i&&(Le(sl,t),Le(dn,i))}function Hg(t){sl.current===t&&(Fe(dn),Fe(sl))}var He=Er(0);function Oc(t){for(var e=t;e!==null;){if(e.tag===13){var i=e.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var pf=[];function qg(){for(var t=0;t<pf.length;t++)pf[t]._workInProgressVersionPrimary=null;pf.length=0}var ec=qn.ReactCurrentDispatcher,mf=qn.ReactCurrentBatchConfig,Zr=0,We=null,st=null,lt=null,Lc=!1,Ma=!1,al=0,J3=0;function xt(){throw Error(X(321))}function Wg(t,e){if(e===null)return!1;for(var i=0;i<e.length&&i<t.length;i++)if(!Wi(t[i],e[i]))return!1;return!0}function Gg(t,e,i,n,r,s){if(Zr=s,We=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ec.current=t===null||t.memoizedState===null?i4:n4,t=i(n,r),Ma){s=0;do{if(Ma=!1,al=0,25<=s)throw Error(X(301));s+=1,lt=st=null,e.updateQueue=null,ec.current=r4,t=i(n,r)}while(Ma)}if(ec.current=Nc,e=st!==null&&st.next!==null,Zr=0,lt=st=We=null,Lc=!1,e)throw Error(X(300));return t}function Xg(){var t=al!==0;return al=0,t}function nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lt===null?We.memoizedState=lt=t:lt=lt.next=t,lt}function Pi(){if(st===null){var t=We.alternate;t=t!==null?t.memoizedState:null}else t=st.next;var e=lt===null?We.memoizedState:lt.next;if(e!==null)lt=e,st=t;else{if(t===null)throw Error(X(310));st=t,t={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},lt===null?We.memoizedState=lt=t:lt=lt.next=t}return lt}function ll(t,e){return typeof e=="function"?e(t):e}function gf(t){var e=Pi(),i=e.queue;if(i===null)throw Error(X(311));i.lastRenderedReducer=t;var n=st,r=n.baseQueue,s=i.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}n.baseQueue=r=s,i.pending=null}if(r!==null){s=r.next,n=n.baseState;var a=o=null,l=null,u=s;do{var d=u.lane;if((Zr&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var p={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=p,o=n):l=l.next=p,We.lanes|=d,es|=d}u=u.next}while(u!==null&&u!==s);l===null?o=n:l.next=a,Wi(n,e.memoizedState)||(Wt=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=l,i.lastRenderedState=n}if(t=i.interleaved,t!==null){r=t;do s=r.lane,We.lanes|=s,es|=s,r=r.next;while(r!==t)}else r===null&&(i.lanes=0);return[e.memoizedState,i.dispatch]}function yf(t){var e=Pi(),i=e.queue;if(i===null)throw Error(X(311));i.lastRenderedReducer=t;var n=i.dispatch,r=i.pending,s=e.memoizedState;if(r!==null){i.pending=null;var o=r=r.next;do s=t(s,o.action),o=o.next;while(o!==r);Wi(s,e.memoizedState)||(Wt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),i.lastRenderedState=s}return[s,n]}function Rx(){}function Mx(t,e){var i=We,n=Pi(),r=e(),s=!Wi(n.memoizedState,r);if(s&&(n.memoizedState=r,Wt=!0),n=n.queue,Kg(jx.bind(null,i,n,t),[t]),n.getSnapshot!==e||s||lt!==null&&lt.memoizedState.tag&1){if(i.flags|=2048,ul(9,Fx.bind(null,i,n,r,e),void 0,null),dt===null)throw Error(X(349));Zr&30||Bx(i,e,r)}return r}function Bx(t,e,i){t.flags|=16384,t={getSnapshot:e,value:i},e=We.updateQueue,e===null?(e={lastEffect:null,stores:null},We.updateQueue=e,e.stores=[t]):(i=e.stores,i===null?e.stores=[t]:i.push(t))}function Fx(t,e,i,n){e.value=i,e.getSnapshot=n,Ux(e)&&$x(t)}function jx(t,e,i){return i(function(){Ux(e)&&$x(t)})}function Ux(t){var e=t.getSnapshot;t=t.value;try{var i=e();return!Wi(t,i)}catch{return!0}}function $x(t){var e=Fn(t,1);e!==null&&Hi(e,t,1,-1)}function u_(t){var e=nn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ll,lastRenderedState:t},e.queue=t,t=t.dispatch=t4.bind(null,We,t),[e.memoizedState,t]}function ul(t,e,i,n){return t={tag:t,create:e,destroy:i,deps:n,next:null},e=We.updateQueue,e===null?(e={lastEffect:null,stores:null},We.updateQueue=e,e.lastEffect=t.next=t):(i=e.lastEffect,i===null?e.lastEffect=t.next=t:(n=i.next,i.next=t,t.next=n,e.lastEffect=t)),t}function zx(){return Pi().memoizedState}function tc(t,e,i,n){var r=nn();We.flags|=t,r.memoizedState=ul(1|e,i,void 0,n===void 0?null:n)}function Ed(t,e,i,n){var r=Pi();n=n===void 0?null:n;var s=void 0;if(st!==null){var o=st.memoizedState;if(s=o.destroy,n!==null&&Wg(n,o.deps)){r.memoizedState=ul(e,i,s,n);return}}We.flags|=t,r.memoizedState=ul(1|e,i,s,n)}function c_(t,e){return tc(8390656,8,t,e)}function Kg(t,e){return Ed(2048,8,t,e)}function Vx(t,e){return Ed(4,2,t,e)}function Hx(t,e){return Ed(4,4,t,e)}function qx(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Wx(t,e,i){return i=i!=null?i.concat([t]):null,Ed(4,4,qx.bind(null,e,t),i)}function Yg(){}function Gx(t,e){var i=Pi();e=e===void 0?null:e;var n=i.memoizedState;return n!==null&&e!==null&&Wg(e,n[1])?n[0]:(i.memoizedState=[t,e],t)}function Xx(t,e){var i=Pi();e=e===void 0?null:e;var n=i.memoizedState;return n!==null&&e!==null&&Wg(e,n[1])?n[0]:(t=t(),i.memoizedState=[t,e],t)}function Kx(t,e,i){return Zr&21?(Wi(i,e)||(i=Jb(),We.lanes|=i,es|=i,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Wt=!0),t.memoizedState=i)}function Z3(t,e){var i=Ce;Ce=i!==0&&4>i?i:4,t(!0);var n=mf.transition;mf.transition={};try{t(!1),e()}finally{Ce=i,mf.transition=n}}function Yx(){return Pi().memoizedState}function e4(t,e,i){var n=pr(t);if(i={lane:n,action:i,hasEagerState:!1,eagerState:null,next:null},Qx(t))Jx(e,i);else if(i=Dx(t,e,i,n),i!==null){var r=Bt();Hi(i,t,n,r),Zx(i,e,n)}}function t4(t,e,i){var n=pr(t),r={lane:n,action:i,hasEagerState:!1,eagerState:null,next:null};if(Qx(t))Jx(e,r);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,i);if(r.hasEagerState=!0,r.eagerState=a,Wi(a,o)){var l=e.interleaved;l===null?(r.next=r,$g(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}i=Dx(t,e,r,n),i!==null&&(r=Bt(),Hi(i,t,n,r),Zx(i,e,n))}}function Qx(t){var e=t.alternate;return t===We||e!==null&&e===We}function Jx(t,e){Ma=Lc=!0;var i=t.pending;i===null?e.next=e:(e.next=i.next,i.next=e),t.pending=e}function Zx(t,e,i){if(i&4194240){var n=e.lanes;n&=t.pendingLanes,i|=n,e.lanes=i,kg(t,i)}}var Nc={readContext:Ai,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useInsertionEffect:xt,useLayoutEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useMutableSource:xt,useSyncExternalStore:xt,useId:xt,unstable_isNewReconciler:!1},i4={readContext:Ai,useCallback:function(t,e){return nn().memoizedState=[t,e===void 0?null:e],t},useContext:Ai,useEffect:c_,useImperativeHandle:function(t,e,i){return i=i!=null?i.concat([t]):null,tc(4194308,4,qx.bind(null,e,t),i)},useLayoutEffect:function(t,e){return tc(4194308,4,t,e)},useInsertionEffect:function(t,e){return tc(4,2,t,e)},useMemo:function(t,e){var i=nn();return e=e===void 0?null:e,t=t(),i.memoizedState=[t,e],t},useReducer:function(t,e,i){var n=nn();return e=i!==void 0?i(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=e4.bind(null,We,t),[n.memoizedState,t]},useRef:function(t){var e=nn();return t={current:t},e.memoizedState=t},useState:u_,useDebugValue:Yg,useDeferredValue:function(t){return nn().memoizedState=t},useTransition:function(){var t=u_(!1),e=t[0];return t=Z3.bind(null,t[1]),nn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,i){var n=We,r=nn();if(ze){if(i===void 0)throw Error(X(407));i=i()}else{if(i=e(),dt===null)throw Error(X(349));Zr&30||Bx(n,e,i)}r.memoizedState=i;var s={value:i,getSnapshot:e};return r.queue=s,c_(jx.bind(null,n,s,t),[t]),n.flags|=2048,ul(9,Fx.bind(null,n,s,i,e),void 0,null),i},useId:function(){var t=nn(),e=dt.identifierPrefix;if(ze){var i=On,n=In;i=(n&~(1<<32-Vi(n)-1)).toString(32)+i,e=":"+e+"R"+i,i=al++,0<i&&(e+="H"+i.toString(32)),e+=":"}else i=J3++,e=":"+e+"r"+i.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},n4={readContext:Ai,useCallback:Gx,useContext:Ai,useEffect:Kg,useImperativeHandle:Wx,useInsertionEffect:Vx,useLayoutEffect:Hx,useMemo:Xx,useReducer:gf,useRef:zx,useState:function(){return gf(ll)},useDebugValue:Yg,useDeferredValue:function(t){var e=Pi();return Kx(e,st.memoizedState,t)},useTransition:function(){var t=gf(ll)[0],e=Pi().memoizedState;return[t,e]},useMutableSource:Rx,useSyncExternalStore:Mx,useId:Yx,unstable_isNewReconciler:!1},r4={readContext:Ai,useCallback:Gx,useContext:Ai,useEffect:Kg,useImperativeHandle:Wx,useInsertionEffect:Vx,useLayoutEffect:Hx,useMemo:Xx,useReducer:yf,useRef:zx,useState:function(){return yf(ll)},useDebugValue:Yg,useDeferredValue:function(t){var e=Pi();return st===null?e.memoizedState=t:Kx(e,st.memoizedState,t)},useTransition:function(){var t=yf(ll)[0],e=Pi().memoizedState;return[t,e]},useMutableSource:Rx,useSyncExternalStore:Mx,useId:Yx,unstable_isNewReconciler:!1};function uo(t,e){try{var i="",n=e;do i+=OA(n),n=n.return;while(n);var r=i}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:r,digest:null}}function vf(t,e,i){return{value:t,source:null,stack:i??null,digest:e??null}}function tm(t,e){try{console.error(e.value)}catch(i){setTimeout(function(){throw i})}}var s4=typeof WeakMap=="function"?WeakMap:Map;function eT(t,e,i){i=Ln(-1,i),i.tag=3,i.payload={element:null};var n=e.value;return i.callback=function(){Mc||(Mc=!0,dm=n),tm(t,e)},i}function tT(t,e,i){i=Ln(-1,i),i.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var r=e.value;i.payload=function(){return n(r)},i.callback=function(){tm(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(i.callback=function(){tm(t,e),typeof n!="function"&&(fr===null?fr=new Set([this]):fr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),i}function d_(t,e,i){var n=t.pingCache;if(n===null){n=t.pingCache=new s4;var r=new Set;n.set(e,r)}else r=n.get(e),r===void 0&&(r=new Set,n.set(e,r));r.has(i)||(r.add(i),t=_4.bind(null,t,e,i),e.then(t,t))}function h_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function f_(t,e,i,n,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(e=Ln(-1,1),e.tag=2,hr(i,e,1))),i.lanes|=1),t)}var o4=qn.ReactCurrentOwner,Wt=!1;function Ot(t,e,i,n){e.child=t===null?Lx(e,null,i,n):ao(e,t.child,i,n)}function p_(t,e,i,n,r){i=i.render;var s=e.ref;return Xs(e,r),n=Gg(t,e,i,n,s,r),i=Xg(),t!==null&&!Wt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,jn(t,e,r)):(ze&&i&&Rg(e),e.flags|=1,Ot(t,e,n,r),e.child)}function m_(t,e,i,n,r){if(t===null){var s=i.type;return typeof s=="function"&&!r0(s)&&s.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(e.tag=15,e.type=s,iT(t,e,s,n,r)):(t=sc(i.type,null,n,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&r)){var o=s.memoizedProps;if(i=i.compare,i=i!==null?i:tl,i(o,n)&&t.ref===e.ref)return jn(t,e,r)}return e.flags|=1,t=mr(s,n),t.ref=e.ref,t.return=e,e.child=t}function iT(t,e,i,n,r){if(t!==null){var s=t.memoizedProps;if(tl(s,n)&&t.ref===e.ref)if(Wt=!1,e.pendingProps=n=s,(t.lanes&r)!==0)t.flags&131072&&(Wt=!0);else return e.lanes=t.lanes,jn(t,e,r)}return im(t,e,i,n,r)}function nT(t,e,i){var n=e.pendingProps,r=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Le(Fs,si),si|=i;else{if(!(i&1073741824))return t=s!==null?s.baseLanes|i:i,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Le(Fs,si),si|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:i,Le(Fs,si),si|=n}else s!==null?(n=s.baseLanes|i,e.memoizedState=null):n=i,Le(Fs,si),si|=n;return Ot(t,e,r,i),e.child}function rT(t,e){var i=e.ref;(t===null&&i!==null||t!==null&&t.ref!==i)&&(e.flags|=512,e.flags|=2097152)}function im(t,e,i,n,r){var s=Kt(i)?Qr:kt.current;return s=so(e,s),Xs(e,r),i=Gg(t,e,i,n,s,r),n=Xg(),t!==null&&!Wt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,jn(t,e,r)):(ze&&n&&Rg(e),e.flags|=1,Ot(t,e,i,r),e.child)}function g_(t,e,i,n,r){if(Kt(i)){var s=!0;Cc(e)}else s=!1;if(Xs(e,r),e.stateNode===null)ic(t,e),Ix(e,i,n),em(e,i,n,r),n=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=i.contextType;typeof u=="object"&&u!==null?u=Ai(u):(u=Kt(i)?Qr:kt.current,u=so(e,u));var d=i.getDerivedStateFromProps,p=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==u)&&a_(e,o,n,u),er=!1;var y=e.memoizedState;o.state=y,Ic(e,n,o,r),l=e.memoizedState,a!==n||y!==l||Xt.current||er?(typeof d=="function"&&(Zp(e,i,d,n),l=e.memoizedState),(a=er||o_(e,i,a,n,y,l,u))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),o.props=n,o.state=l,o.context=u,n=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,Ax(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Fi(e.type,a),o.props=u,p=e.pendingProps,y=o.context,l=i.contextType,typeof l=="object"&&l!==null?l=Ai(l):(l=Kt(i)?Qr:kt.current,l=so(e,l));var T=i.getDerivedStateFromProps;(d=typeof T=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==p||y!==l)&&a_(e,o,n,l),er=!1,y=e.memoizedState,o.state=y,Ic(e,n,o,r);var v=e.memoizedState;a!==p||y!==v||Xt.current||er?(typeof T=="function"&&(Zp(e,i,T,n),v=e.memoizedState),(u=er||o_(e,i,u,n,y,v,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=v),o.props=n,o.state=v,o.context=l,n=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),n=!1)}return nm(t,e,i,n,s,r)}function nm(t,e,i,n,r,s){rT(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return r&&t_(e,i,!1),jn(t,e,s);n=e.stateNode,o4.current=e;var a=o&&typeof i.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=ao(e,t.child,null,s),e.child=ao(e,null,a,s)):Ot(t,e,a,s),e.memoizedState=n.state,r&&t_(e,i,!0),e.child}function sT(t){var e=t.stateNode;e.pendingContext?e_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&e_(t,e.context,!1),Vg(t,e.containerInfo)}function y_(t,e,i,n,r){return oo(),Bg(r),e.flags|=256,Ot(t,e,i,n),e.child}var rm={dehydrated:null,treeContext:null,retryLane:0};function sm(t){return{baseLanes:t,cachePool:null,transitions:null}}function oT(t,e,i){var n=e.pendingProps,r=He.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(r&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),Le(He,r&1),t===null)return Qp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,s?(n=e.mode,s=e.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Dd(o,n,0,null),t=Wr(t,n,i,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=sm(i),e.memoizedState=rm,t):Qg(e,o));if(r=t.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return a4(t,e,o,n,a,r,i);if(s){s=n.fallback,o=e.mode,r=t.child,a=r.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&e.child!==r?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=mr(r,l),n.subtreeFlags=r.subtreeFlags&14680064),a!==null?s=mr(a,s):(s=Wr(s,o,i,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,o=t.child.memoizedState,o=o===null?sm(i):{baseLanes:o.baseLanes|i,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~i,e.memoizedState=rm,n}return s=t.child,t=s.sibling,n=mr(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=i),n.return=e,n.sibling=null,t!==null&&(i=e.deletions,i===null?(e.deletions=[t],e.flags|=16):i.push(t)),e.child=n,e.memoizedState=null,n}function Qg(t,e){return e=Dd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ku(t,e,i,n){return n!==null&&Bg(n),ao(e,t.child,null,i),t=Qg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function a4(t,e,i,n,r,s,o){if(i)return e.flags&256?(e.flags&=-257,n=vf(Error(X(422))),ku(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,r=e.mode,n=Dd({mode:"visible",children:n.children},r,0,null),s=Wr(s,r,o,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&ao(e,t.child,null,o),e.child.memoizedState=sm(o),e.memoizedState=rm,s);if(!(e.mode&1))return ku(t,e,o,null);if(r.data==="$!"){if(n=r.nextSibling&&r.nextSibling.dataset,n)var a=n.dgst;return n=a,s=Error(X(419)),n=vf(s,n,void 0),ku(t,e,o,n)}if(a=(o&t.childLanes)!==0,Wt||a){if(n=dt,n!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(n.suspendedLanes|o)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,Fn(t,r),Hi(n,t,r,-1))}return n0(),n=vf(Error(X(421))),ku(t,e,o,n)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=b4.bind(null,t),r._reactRetry=e,null):(t=s.treeContext,ai=dr(r.nextSibling),li=e,ze=!0,$i=null,t!==null&&(xi[Ti++]=In,xi[Ti++]=On,xi[Ti++]=Jr,In=t.id,On=t.overflow,Jr=e),e=Qg(e,n.children),e.flags|=4096,e)}function v_(t,e,i){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Jp(t.return,e,i)}function _f(t,e,i,n,r){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:i,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=i,s.tailMode=r)}function aT(t,e,i){var n=e.pendingProps,r=n.revealOrder,s=n.tail;if(Ot(t,e,n.children,i),n=He.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&v_(t,i,e);else if(t.tag===19)v_(t,i,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Le(He,n),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(i=e.child,r=null;i!==null;)t=i.alternate,t!==null&&Oc(t)===null&&(r=i),i=i.sibling;i=r,i===null?(r=e.child,e.child=null):(r=i.sibling,i.sibling=null),_f(e,!1,r,i,s);break;case"backwards":for(i=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&Oc(t)===null){e.child=r;break}t=r.sibling,r.sibling=i,i=r,r=t}_f(e,!0,i,null,s);break;case"together":_f(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ic(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function jn(t,e,i){if(t!==null&&(e.dependencies=t.dependencies),es|=e.lanes,!(i&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(X(153));if(e.child!==null){for(t=e.child,i=mr(t,t.pendingProps),e.child=i,i.return=e;t.sibling!==null;)t=t.sibling,i=i.sibling=mr(t,t.pendingProps),i.return=e;i.sibling=null}return e.child}function l4(t,e,i){switch(e.tag){case 3:sT(e),oo();break;case 5:Nx(e);break;case 1:Kt(e.type)&&Cc(e);break;case 4:Vg(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,r=e.memoizedProps.value;Le(Ac,n._currentValue),n._currentValue=r;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Le(He,He.current&1),e.flags|=128,null):i&e.child.childLanes?oT(t,e,i):(Le(He,He.current&1),t=jn(t,e,i),t!==null?t.sibling:null);Le(He,He.current&1);break;case 19:if(n=(i&e.childLanes)!==0,t.flags&128){if(n)return aT(t,e,i);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Le(He,He.current),n)break;return null;case 22:case 23:return e.lanes=0,nT(t,e,i)}return jn(t,e,i)}var lT,om,uT,cT;lT=function(t,e){for(var i=e.child;i!==null;){if(i.tag===5||i.tag===6)t.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};om=function(){};uT=function(t,e,i,n){var r=t.memoizedProps;if(r!==n){t=e.stateNode,zr(dn.current);var s=null;switch(i){case"input":r=Dp(t,r),n=Dp(t,n),s=[];break;case"select":r=Ge({},r,{value:void 0}),n=Ge({},n,{value:void 0}),s=[];break;case"textarea":r=Ip(t,r),n=Ip(t,n),s=[];break;default:typeof r.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Sc)}Lp(i,n);var o;i=null;for(u in r)if(!n.hasOwnProperty(u)&&r.hasOwnProperty(u)&&r[u]!=null)if(u==="style"){var a=r[u];for(o in a)a.hasOwnProperty(o)&&(i||(i={}),i[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Xa.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var l=n[u];if(a=r!=null?r[u]:void 0,n.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(i||(i={}),i[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(i||(i={}),i[o]=l[o])}else i||(s||(s=[]),s.push(u,i)),i=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Xa.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Be("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}i&&(s=s||[]).push("style",i);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};cT=function(t,e,i,n){i!==n&&(e.flags|=4)};function aa(t,e){if(!ze)switch(t.tailMode){case"hidden":e=t.tail;for(var i=null;e!==null;)e.alternate!==null&&(i=e),e=e.sibling;i===null?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var n=null;i!==null;)i.alternate!==null&&(n=i),i=i.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Tt(t){var e=t.alternate!==null&&t.alternate.child===t.child,i=0,n=0;if(e)for(var r=t.child;r!==null;)i|=r.lanes|r.childLanes,n|=r.subtreeFlags&14680064,n|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)i|=r.lanes|r.childLanes,n|=r.subtreeFlags,n|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=n,t.childLanes=i,e}function u4(t,e,i){var n=e.pendingProps;switch(Mg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tt(e),null;case 1:return Kt(e.type)&&Ec(),Tt(e),null;case 3:return n=e.stateNode,lo(),Fe(Xt),Fe(kt),qg(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Eu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,$i!==null&&(pm($i),$i=null))),om(t,e),Tt(e),null;case 5:Hg(e);var r=zr(ol.current);if(i=e.type,t!==null&&e.stateNode!=null)uT(t,e,i,n,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(X(166));return Tt(e),null}if(t=zr(dn.current),Eu(e)){n=e.stateNode,i=e.type;var s=e.memoizedProps;switch(n[on]=e,n[rl]=s,t=(e.mode&1)!==0,i){case"dialog":Be("cancel",n),Be("close",n);break;case"iframe":case"object":case"embed":Be("load",n);break;case"video":case"audio":for(r=0;r<wa.length;r++)Be(wa[r],n);break;case"source":Be("error",n);break;case"img":case"image":case"link":Be("error",n),Be("load",n);break;case"details":Be("toggle",n);break;case"input":kv(n,s),Be("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Be("invalid",n);break;case"textarea":Av(n,s),Be("invalid",n)}Lp(i,s),r=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?n.textContent!==a&&(s.suppressHydrationWarning!==!0&&Su(n.textContent,a,t),r=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Su(n.textContent,a,t),r=["children",""+a]):Xa.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Be("scroll",n)}switch(i){case"input":gu(n),Dv(n,s,!0);break;case"textarea":gu(n),Pv(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Sc)}n=r,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Bb(i)),t==="http://www.w3.org/1999/xhtml"?i==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(i,{is:n.is}):(t=o.createElement(i),i==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,i),t[on]=e,t[rl]=n,lT(t,e,!1,!1),e.stateNode=t;e:{switch(o=Np(i,n),i){case"dialog":Be("cancel",t),Be("close",t),r=n;break;case"iframe":case"object":case"embed":Be("load",t),r=n;break;case"video":case"audio":for(r=0;r<wa.length;r++)Be(wa[r],t);r=n;break;case"source":Be("error",t),r=n;break;case"img":case"image":case"link":Be("error",t),Be("load",t),r=n;break;case"details":Be("toggle",t),r=n;break;case"input":kv(t,n),r=Dp(t,n),Be("invalid",t);break;case"option":r=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},r=Ge({},n,{value:void 0}),Be("invalid",t);break;case"textarea":Av(t,n),r=Ip(t,n),Be("invalid",t);break;default:r=n}Lp(i,r),a=r;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Ub(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Fb(t,l)):s==="children"?typeof l=="string"?(i!=="textarea"||l!=="")&&Ka(t,l):typeof l=="number"&&Ka(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Xa.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Be("scroll",t):l!=null&&xg(t,s,l,o))}switch(i){case"input":gu(t),Dv(t,n,!1);break;case"textarea":gu(t),Pv(t);break;case"option":n.value!=null&&t.setAttribute("value",""+vr(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?Hs(t,!!n.multiple,s,!1):n.defaultValue!=null&&Hs(t,!!n.multiple,n.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=Sc)}switch(i){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Tt(e),null;case 6:if(t&&e.stateNode!=null)cT(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(X(166));if(i=zr(ol.current),zr(dn.current),Eu(e)){if(n=e.stateNode,i=e.memoizedProps,n[on]=e,(s=n.nodeValue!==i)&&(t=li,t!==null))switch(t.tag){case 3:Su(n.nodeValue,i,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Su(n.nodeValue,i,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(i.nodeType===9?i:i.ownerDocument).createTextNode(n),n[on]=e,e.stateNode=n}return Tt(e),null;case 13:if(Fe(He),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ze&&ai!==null&&e.mode&1&&!(e.flags&128))kx(),oo(),e.flags|=98560,s=!1;else if(s=Eu(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(X(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(X(317));s[on]=e}else oo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Tt(e),s=!1}else $i!==null&&(pm($i),$i=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=i,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||He.current&1?ot===0&&(ot=3):n0())),e.updateQueue!==null&&(e.flags|=4),Tt(e),null);case 4:return lo(),om(t,e),t===null&&il(e.stateNode.containerInfo),Tt(e),null;case 10:return Ug(e.type._context),Tt(e),null;case 17:return Kt(e.type)&&Ec(),Tt(e),null;case 19:if(Fe(He),s=e.memoizedState,s===null)return Tt(e),null;if(n=(e.flags&128)!==0,o=s.rendering,o===null)if(n)aa(s,!1);else{if(ot!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Oc(t),o!==null){for(e.flags|=128,aa(s,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=i,i=e.child;i!==null;)s=i,t=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),i=i.sibling;return Le(He,He.current&1|2),e.child}t=t.sibling}s.tail!==null&&Je()>co&&(e.flags|=128,n=!0,aa(s,!1),e.lanes=4194304)}else{if(!n)if(t=Oc(o),t!==null){if(e.flags|=128,n=!0,i=t.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),aa(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ze)return Tt(e),null}else 2*Je()-s.renderingStartTime>co&&i!==1073741824&&(e.flags|=128,n=!0,aa(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(i=s.last,i!==null?i.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Je(),e.sibling=null,i=He.current,Le(He,n?i&1|2:i&1),e):(Tt(e),null);case 22:case 23:return i0(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?si&1073741824&&(Tt(e),e.subtreeFlags&6&&(e.flags|=8192)):Tt(e),null;case 24:return null;case 25:return null}throw Error(X(156,e.tag))}function c4(t,e){switch(Mg(e),e.tag){case 1:return Kt(e.type)&&Ec(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return lo(),Fe(Xt),Fe(kt),qg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Hg(e),null;case 13:if(Fe(He),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(X(340));oo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Fe(He),null;case 4:return lo(),null;case 10:return Ug(e.type._context),null;case 22:case 23:return i0(),null;case 24:return null;default:return null}}var Du=!1,St=!1,d4=typeof WeakSet=="function"?WeakSet:Set,se=null;function Bs(t,e){var i=t.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(n){Xe(t,e,n)}else i.current=null}function am(t,e,i){try{i()}catch(n){Xe(t,e,n)}}var __=!1;function h4(t,e){if(Hp=xc,t=px(),Ng(t)){if("selectionStart"in t)var i={start:t.selectionStart,end:t.selectionEnd};else e:{i=(i=t.ownerDocument)&&i.defaultView||window;var n=i.getSelection&&i.getSelection();if(n&&n.rangeCount!==0){i=n.anchorNode;var r=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{i.nodeType,s.nodeType}catch{i=null;break e}var o=0,a=-1,l=-1,u=0,d=0,p=t,y=null;t:for(;;){for(var T;p!==i||r!==0&&p.nodeType!==3||(a=o+r),p!==s||n!==0&&p.nodeType!==3||(l=o+n),p.nodeType===3&&(o+=p.nodeValue.length),(T=p.firstChild)!==null;)y=p,p=T;for(;;){if(p===t)break t;if(y===i&&++u===r&&(a=o),y===s&&++d===n&&(l=o),(T=p.nextSibling)!==null)break;p=y,y=p.parentNode}p=T}i=a===-1||l===-1?null:{start:a,end:l}}else i=null}i=i||{start:0,end:0}}else i=null;for(qp={focusedElem:t,selectionRange:i},xc=!1,se=e;se!==null;)if(e=se,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,se=t;else for(;se!==null;){e=se;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var w=v.memoizedProps,k=v.memoizedState,x=e.stateNode,b=x.getSnapshotBeforeUpdate(e.elementType===e.type?w:Fi(e.type,w),k);x.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(X(163))}}catch(E){Xe(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,se=t;break}se=e.return}return v=__,__=!1,v}function Ba(t,e,i){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var r=n=n.next;do{if((r.tag&t)===t){var s=r.destroy;r.destroy=void 0,s!==void 0&&am(e,i,s)}r=r.next}while(r!==n)}}function Cd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var i=e=e.next;do{if((i.tag&t)===t){var n=i.create;i.destroy=n()}i=i.next}while(i!==e)}}function lm(t){var e=t.ref;if(e!==null){var i=t.stateNode;switch(t.tag){case 5:t=i;break;default:t=i}typeof e=="function"?e(t):e.current=t}}function dT(t){var e=t.alternate;e!==null&&(t.alternate=null,dT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[on],delete e[rl],delete e[Xp],delete e[X3],delete e[K3])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function hT(t){return t.tag===5||t.tag===3||t.tag===4}function b_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||hT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function um(t,e,i){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?i.nodeType===8?i.parentNode.insertBefore(t,e):i.insertBefore(t,e):(i.nodeType===8?(e=i.parentNode,e.insertBefore(t,i)):(e=i,e.appendChild(t)),i=i._reactRootContainer,i!=null||e.onclick!==null||(e.onclick=Sc));else if(n!==4&&(t=t.child,t!==null))for(um(t,e,i),t=t.sibling;t!==null;)um(t,e,i),t=t.sibling}function cm(t,e,i){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?i.insertBefore(t,e):i.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(cm(t,e,i),t=t.sibling;t!==null;)cm(t,e,i),t=t.sibling}var mt=null,ji=!1;function Yn(t,e,i){for(i=i.child;i!==null;)fT(t,e,i),i=i.sibling}function fT(t,e,i){if(cn&&typeof cn.onCommitFiberUnmount=="function")try{cn.onCommitFiberUnmount(vd,i)}catch{}switch(i.tag){case 5:St||Bs(i,e);case 6:var n=mt,r=ji;mt=null,Yn(t,e,i),mt=n,ji=r,mt!==null&&(ji?(t=mt,i=i.stateNode,t.nodeType===8?t.parentNode.removeChild(i):t.removeChild(i)):mt.removeChild(i.stateNode));break;case 18:mt!==null&&(ji?(t=mt,i=i.stateNode,t.nodeType===8?hf(t.parentNode,i):t.nodeType===1&&hf(t,i),Za(t)):hf(mt,i.stateNode));break;case 4:n=mt,r=ji,mt=i.stateNode.containerInfo,ji=!0,Yn(t,e,i),mt=n,ji=r;break;case 0:case 11:case 14:case 15:if(!St&&(n=i.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){r=n=n.next;do{var s=r,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&am(i,e,o),r=r.next}while(r!==n)}Yn(t,e,i);break;case 1:if(!St&&(Bs(i,e),n=i.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=i.memoizedProps,n.state=i.memoizedState,n.componentWillUnmount()}catch(a){Xe(i,e,a)}Yn(t,e,i);break;case 21:Yn(t,e,i);break;case 22:i.mode&1?(St=(n=St)||i.memoizedState!==null,Yn(t,e,i),St=n):Yn(t,e,i);break;default:Yn(t,e,i)}}function x_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var i=t.stateNode;i===null&&(i=t.stateNode=new d4),e.forEach(function(n){var r=x4.bind(null,t,n);i.has(n)||(i.add(n),n.then(r,r))})}}function Bi(t,e){var i=e.deletions;if(i!==null)for(var n=0;n<i.length;n++){var r=i[n];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:mt=a.stateNode,ji=!1;break e;case 3:mt=a.stateNode.containerInfo,ji=!0;break e;case 4:mt=a.stateNode.containerInfo,ji=!0;break e}a=a.return}if(mt===null)throw Error(X(160));fT(s,o,r),mt=null,ji=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(u){Xe(r,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)pT(e,t),e=e.sibling}function pT(t,e){var i=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Bi(e,t),tn(t),n&4){try{Ba(3,t,t.return),Cd(3,t)}catch(w){Xe(t,t.return,w)}try{Ba(5,t,t.return)}catch(w){Xe(t,t.return,w)}}break;case 1:Bi(e,t),tn(t),n&512&&i!==null&&Bs(i,i.return);break;case 5:if(Bi(e,t),tn(t),n&512&&i!==null&&Bs(i,i.return),t.flags&32){var r=t.stateNode;try{Ka(r,"")}catch(w){Xe(t,t.return,w)}}if(n&4&&(r=t.stateNode,r!=null)){var s=t.memoizedProps,o=i!==null?i.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Rb(r,s),Np(a,o);var u=Np(a,s);for(o=0;o<l.length;o+=2){var d=l[o],p=l[o+1];d==="style"?Ub(r,p):d==="dangerouslySetInnerHTML"?Fb(r,p):d==="children"?Ka(r,p):xg(r,d,p,u)}switch(a){case"input":Ap(r,s);break;case"textarea":Mb(r,s);break;case"select":var y=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var T=s.value;T!=null?Hs(r,!!s.multiple,T,!1):y!==!!s.multiple&&(s.defaultValue!=null?Hs(r,!!s.multiple,s.defaultValue,!0):Hs(r,!!s.multiple,s.multiple?[]:"",!1))}r[rl]=s}catch(w){Xe(t,t.return,w)}}break;case 6:if(Bi(e,t),tn(t),n&4){if(t.stateNode===null)throw Error(X(162));r=t.stateNode,s=t.memoizedProps;try{r.nodeValue=s}catch(w){Xe(t,t.return,w)}}break;case 3:if(Bi(e,t),tn(t),n&4&&i!==null&&i.memoizedState.isDehydrated)try{Za(e.containerInfo)}catch(w){Xe(t,t.return,w)}break;case 4:Bi(e,t),tn(t);break;case 13:Bi(e,t),tn(t),r=t.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(e0=Je())),n&4&&x_(t);break;case 22:if(d=i!==null&&i.memoizedState!==null,t.mode&1?(St=(u=St)||d,Bi(e,t),St=u):Bi(e,t),tn(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(se=t,d=t.child;d!==null;){for(p=se=d;se!==null;){switch(y=se,T=y.child,y.tag){case 0:case 11:case 14:case 15:Ba(4,y,y.return);break;case 1:Bs(y,y.return);var v=y.stateNode;if(typeof v.componentWillUnmount=="function"){n=y,i=y.return;try{e=n,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(w){Xe(n,i,w)}}break;case 5:Bs(y,y.return);break;case 22:if(y.memoizedState!==null){w_(p);continue}}T!==null?(T.return=y,se=T):w_(p)}d=d.sibling}e:for(d=null,p=t;;){if(p.tag===5){if(d===null){d=p;try{r=p.stateNode,u?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=p.stateNode,l=p.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=jb("display",o))}catch(w){Xe(t,t.return,w)}}}else if(p.tag===6){if(d===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(w){Xe(t,t.return,w)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Bi(e,t),tn(t),n&4&&x_(t);break;case 21:break;default:Bi(e,t),tn(t)}}function tn(t){var e=t.flags;if(e&2){try{e:{for(var i=t.return;i!==null;){if(hT(i)){var n=i;break e}i=i.return}throw Error(X(160))}switch(n.tag){case 5:var r=n.stateNode;n.flags&32&&(Ka(r,""),n.flags&=-33);var s=b_(t);cm(t,s,r);break;case 3:case 4:var o=n.stateNode.containerInfo,a=b_(t);um(t,a,o);break;default:throw Error(X(161))}}catch(l){Xe(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function f4(t,e,i){se=t,mT(t)}function mT(t,e,i){for(var n=(t.mode&1)!==0;se!==null;){var r=se,s=r.child;if(r.tag===22&&n){var o=r.memoizedState!==null||Du;if(!o){var a=r.alternate,l=a!==null&&a.memoizedState!==null||St;a=Du;var u=St;if(Du=o,(St=l)&&!u)for(se=r;se!==null;)o=se,l=o.child,o.tag===22&&o.memoizedState!==null?S_(r):l!==null?(l.return=o,se=l):S_(r);for(;s!==null;)se=s,mT(s),s=s.sibling;se=r,Du=a,St=u}T_(t)}else r.subtreeFlags&8772&&s!==null?(s.return=r,se=s):T_(t)}}function T_(t){for(;se!==null;){var e=se;if(e.flags&8772){var i=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:St||Cd(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!St)if(i===null)n.componentDidMount();else{var r=e.elementType===e.type?i.memoizedProps:Fi(e.type,i.memoizedProps);n.componentDidUpdate(r,i.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&s_(e,s,n);break;case 3:var o=e.updateQueue;if(o!==null){if(i=null,e.child!==null)switch(e.child.tag){case 5:i=e.child.stateNode;break;case 1:i=e.child.stateNode}s_(e,o,i)}break;case 5:var a=e.stateNode;if(i===null&&e.flags&4){i=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&i.focus();break;case"img":l.src&&(i.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var p=d.dehydrated;p!==null&&Za(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(X(163))}St||e.flags&512&&lm(e)}catch(y){Xe(e,e.return,y)}}if(e===t){se=null;break}if(i=e.sibling,i!==null){i.return=e.return,se=i;break}se=e.return}}function w_(t){for(;se!==null;){var e=se;if(e===t){se=null;break}var i=e.sibling;if(i!==null){i.return=e.return,se=i;break}se=e.return}}function S_(t){for(;se!==null;){var e=se;try{switch(e.tag){case 0:case 11:case 15:var i=e.return;try{Cd(4,e)}catch(l){Xe(e,i,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var r=e.return;try{n.componentDidMount()}catch(l){Xe(e,r,l)}}var s=e.return;try{lm(e)}catch(l){Xe(e,s,l)}break;case 5:var o=e.return;try{lm(e)}catch(l){Xe(e,o,l)}}}catch(l){Xe(e,e.return,l)}if(e===t){se=null;break}var a=e.sibling;if(a!==null){a.return=e.return,se=a;break}se=e.return}}var p4=Math.ceil,Rc=qn.ReactCurrentDispatcher,Jg=qn.ReactCurrentOwner,Ei=qn.ReactCurrentBatchConfig,Te=0,dt=null,tt=null,yt=0,si=0,Fs=Er(0),ot=0,cl=null,es=0,kd=0,Zg=0,Fa=null,Vt=null,e0=0,co=1/0,kn=null,Mc=!1,dm=null,fr=null,Au=!1,or=null,Bc=0,ja=0,hm=null,nc=-1,rc=0;function Bt(){return Te&6?Je():nc!==-1?nc:nc=Je()}function pr(t){return t.mode&1?Te&2&&yt!==0?yt&-yt:Q3.transition!==null?(rc===0&&(rc=Jb()),rc):(t=Ce,t!==0||(t=window.event,t=t===void 0?16:sx(t.type)),t):1}function Hi(t,e,i,n){if(50<ja)throw ja=0,hm=null,Error(X(185));Cl(t,i,n),(!(Te&2)||t!==dt)&&(t===dt&&(!(Te&2)&&(kd|=i),ot===4&&nr(t,yt)),Yt(t,n),i===1&&Te===0&&!(e.mode&1)&&(co=Je()+500,wd&&Cr()))}function Yt(t,e){var i=t.callbackNode;QA(t,e);var n=bc(t,t===dt?yt:0);if(n===0)i!==null&&Lv(i),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(i!=null&&Lv(i),e===1)t.tag===0?Y3(E_.bind(null,t)):Sx(E_.bind(null,t)),W3(function(){!(Te&6)&&Cr()}),i=null;else{switch(Zb(n)){case 1:i=Cg;break;case 4:i=Yb;break;case 16:i=_c;break;case 536870912:i=Qb;break;default:i=_c}i=wT(i,gT.bind(null,t))}t.callbackPriority=e,t.callbackNode=i}}function gT(t,e){if(nc=-1,rc=0,Te&6)throw Error(X(327));var i=t.callbackNode;if(Ks()&&t.callbackNode!==i)return null;var n=bc(t,t===dt?yt:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Fc(t,n);else{e=n;var r=Te;Te|=2;var s=vT();(dt!==t||yt!==e)&&(kn=null,co=Je()+500,qr(t,e));do try{y4();break}catch(a){yT(t,a)}while(1);jg(),Rc.current=s,Te=r,tt!==null?e=0:(dt=null,yt=0,e=ot)}if(e!==0){if(e===2&&(r=jp(t),r!==0&&(n=r,e=fm(t,r))),e===1)throw i=cl,qr(t,0),nr(t,n),Yt(t,Je()),i;if(e===6)nr(t,n);else{if(r=t.current.alternate,!(n&30)&&!m4(r)&&(e=Fc(t,n),e===2&&(s=jp(t),s!==0&&(n=s,e=fm(t,s))),e===1))throw i=cl,qr(t,0),nr(t,n),Yt(t,Je()),i;switch(t.finishedWork=r,t.finishedLanes=n,e){case 0:case 1:throw Error(X(345));case 2:Br(t,Vt,kn);break;case 3:if(nr(t,n),(n&130023424)===n&&(e=e0+500-Je(),10<e)){if(bc(t,0)!==0)break;if(r=t.suspendedLanes,(r&n)!==n){Bt(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=Gp(Br.bind(null,t,Vt,kn),e);break}Br(t,Vt,kn);break;case 4:if(nr(t,n),(n&4194240)===n)break;for(e=t.eventTimes,r=-1;0<n;){var o=31-Vi(n);s=1<<o,o=e[o],o>r&&(r=o),n&=~s}if(n=r,n=Je()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*p4(n/1960))-n,10<n){t.timeoutHandle=Gp(Br.bind(null,t,Vt,kn),n);break}Br(t,Vt,kn);break;case 5:Br(t,Vt,kn);break;default:throw Error(X(329))}}}return Yt(t,Je()),t.callbackNode===i?gT.bind(null,t):null}function fm(t,e){var i=Fa;return t.current.memoizedState.isDehydrated&&(qr(t,e).flags|=256),t=Fc(t,e),t!==2&&(e=Vt,Vt=i,e!==null&&pm(e)),t}function pm(t){Vt===null?Vt=t:Vt.push.apply(Vt,t)}function m4(t){for(var e=t;;){if(e.flags&16384){var i=e.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var n=0;n<i.length;n++){var r=i[n],s=r.getSnapshot;r=r.value;try{if(!Wi(s(),r))return!1}catch{return!1}}}if(i=e.child,e.subtreeFlags&16384&&i!==null)i.return=e,e=i;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function nr(t,e){for(e&=~Zg,e&=~kd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var i=31-Vi(e),n=1<<i;t[i]=-1,e&=~n}}function E_(t){if(Te&6)throw Error(X(327));Ks();var e=bc(t,0);if(!(e&1))return Yt(t,Je()),null;var i=Fc(t,e);if(t.tag!==0&&i===2){var n=jp(t);n!==0&&(e=n,i=fm(t,n))}if(i===1)throw i=cl,qr(t,0),nr(t,e),Yt(t,Je()),i;if(i===6)throw Error(X(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Br(t,Vt,kn),Yt(t,Je()),null}function t0(t,e){var i=Te;Te|=1;try{return t(e)}finally{Te=i,Te===0&&(co=Je()+500,wd&&Cr())}}function ts(t){or!==null&&or.tag===0&&!(Te&6)&&Ks();var e=Te;Te|=1;var i=Ei.transition,n=Ce;try{if(Ei.transition=null,Ce=1,t)return t()}finally{Ce=n,Ei.transition=i,Te=e,!(Te&6)&&Cr()}}function i0(){si=Fs.current,Fe(Fs)}function qr(t,e){t.finishedWork=null,t.finishedLanes=0;var i=t.timeoutHandle;if(i!==-1&&(t.timeoutHandle=-1,q3(i)),tt!==null)for(i=tt.return;i!==null;){var n=i;switch(Mg(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Ec();break;case 3:lo(),Fe(Xt),Fe(kt),qg();break;case 5:Hg(n);break;case 4:lo();break;case 13:Fe(He);break;case 19:Fe(He);break;case 10:Ug(n.type._context);break;case 22:case 23:i0()}i=i.return}if(dt=t,tt=t=mr(t.current,null),yt=si=e,ot=0,cl=null,Zg=kd=es=0,Vt=Fa=null,$r!==null){for(e=0;e<$r.length;e++)if(i=$r[e],n=i.interleaved,n!==null){i.interleaved=null;var r=n.next,s=i.pending;if(s!==null){var o=s.next;s.next=r,n.next=o}i.pending=n}$r=null}return t}function yT(t,e){do{var i=tt;try{if(jg(),ec.current=Nc,Lc){for(var n=We.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}Lc=!1}if(Zr=0,lt=st=We=null,Ma=!1,al=0,Jg.current=null,i===null||i.return===null){ot=1,cl=e,tt=null;break}e:{var s=t,o=i.return,a=i,l=e;if(e=yt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,p=d.tag;if(!(d.mode&1)&&(p===0||p===11||p===15)){var y=d.alternate;y?(d.updateQueue=y.updateQueue,d.memoizedState=y.memoizedState,d.lanes=y.lanes):(d.updateQueue=null,d.memoizedState=null)}var T=h_(o);if(T!==null){T.flags&=-257,f_(T,o,a,s,e),T.mode&1&&d_(s,u,e),e=T,l=u;var v=e.updateQueue;if(v===null){var w=new Set;w.add(l),e.updateQueue=w}else v.add(l);break e}else{if(!(e&1)){d_(s,u,e),n0();break e}l=Error(X(426))}}else if(ze&&a.mode&1){var k=h_(o);if(k!==null){!(k.flags&65536)&&(k.flags|=256),f_(k,o,a,s,e),Bg(uo(l,a));break e}}s=l=uo(l,a),ot!==4&&(ot=2),Fa===null?Fa=[s]:Fa.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var x=eT(s,l,e);r_(s,x);break e;case 1:a=l;var b=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(fr===null||!fr.has(S)))){s.flags|=65536,e&=-e,s.lanes|=e;var E=tT(s,a,e);r_(s,E);break e}}s=s.return}while(s!==null)}bT(i)}catch(A){e=A,tt===i&&i!==null&&(tt=i=i.return);continue}break}while(1)}function vT(){var t=Rc.current;return Rc.current=Nc,t===null?Nc:t}function n0(){(ot===0||ot===3||ot===2)&&(ot=4),dt===null||!(es&268435455)&&!(kd&268435455)||nr(dt,yt)}function Fc(t,e){var i=Te;Te|=2;var n=vT();(dt!==t||yt!==e)&&(kn=null,qr(t,e));do try{g4();break}catch(r){yT(t,r)}while(1);if(jg(),Te=i,Rc.current=n,tt!==null)throw Error(X(261));return dt=null,yt=0,ot}function g4(){for(;tt!==null;)_T(tt)}function y4(){for(;tt!==null&&!zA();)_T(tt)}function _T(t){var e=TT(t.alternate,t,si);t.memoizedProps=t.pendingProps,e===null?bT(t):tt=e,Jg.current=null}function bT(t){var e=t;do{var i=e.alternate;if(t=e.return,e.flags&32768){if(i=c4(i,e),i!==null){i.flags&=32767,tt=i;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ot=6,tt=null;return}}else if(i=u4(i,e,si),i!==null){tt=i;return}if(e=e.sibling,e!==null){tt=e;return}tt=e=t}while(e!==null);ot===0&&(ot=5)}function Br(t,e,i){var n=Ce,r=Ei.transition;try{Ei.transition=null,Ce=1,v4(t,e,i,n)}finally{Ei.transition=r,Ce=n}return null}function v4(t,e,i,n){do Ks();while(or!==null);if(Te&6)throw Error(X(327));i=t.finishedWork;var r=t.finishedLanes;if(i===null)return null;if(t.finishedWork=null,t.finishedLanes=0,i===t.current)throw Error(X(177));t.callbackNode=null,t.callbackPriority=0;var s=i.lanes|i.childLanes;if(JA(t,s),t===dt&&(tt=dt=null,yt=0),!(i.subtreeFlags&2064)&&!(i.flags&2064)||Au||(Au=!0,wT(_c,function(){return Ks(),null})),s=(i.flags&15990)!==0,i.subtreeFlags&15990||s){s=Ei.transition,Ei.transition=null;var o=Ce;Ce=1;var a=Te;Te|=4,Jg.current=null,h4(t,i),pT(i,t),F3(qp),xc=!!Hp,qp=Hp=null,t.current=i,f4(i),VA(),Te=a,Ce=o,Ei.transition=s}else t.current=i;if(Au&&(Au=!1,or=t,Bc=r),s=t.pendingLanes,s===0&&(fr=null),WA(i.stateNode),Yt(t,Je()),e!==null)for(n=t.onRecoverableError,i=0;i<e.length;i++)r=e[i],n(r.value,{componentStack:r.stack,digest:r.digest});if(Mc)throw Mc=!1,t=dm,dm=null,t;return Bc&1&&t.tag!==0&&Ks(),s=t.pendingLanes,s&1?t===hm?ja++:(ja=0,hm=t):ja=0,Cr(),null}function Ks(){if(or!==null){var t=Zb(Bc),e=Ei.transition,i=Ce;try{if(Ei.transition=null,Ce=16>t?16:t,or===null)var n=!1;else{if(t=or,or=null,Bc=0,Te&6)throw Error(X(331));var r=Te;for(Te|=4,se=t.current;se!==null;){var s=se,o=s.child;if(se.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(se=u;se!==null;){var d=se;switch(d.tag){case 0:case 11:case 15:Ba(8,d,s)}var p=d.child;if(p!==null)p.return=d,se=p;else for(;se!==null;){d=se;var y=d.sibling,T=d.return;if(dT(d),d===u){se=null;break}if(y!==null){y.return=T,se=y;break}se=T}}}var v=s.alternate;if(v!==null){var w=v.child;if(w!==null){v.child=null;do{var k=w.sibling;w.sibling=null,w=k}while(w!==null)}}se=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,se=o;else e:for(;se!==null;){if(s=se,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ba(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,se=x;break e}se=s.return}}var b=t.current;for(se=b;se!==null;){o=se;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,se=S;else e:for(o=b;se!==null;){if(a=se,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Cd(9,a)}}catch(A){Xe(a,a.return,A)}if(a===o){se=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,se=E;break e}se=a.return}}if(Te=r,Cr(),cn&&typeof cn.onPostCommitFiberRoot=="function")try{cn.onPostCommitFiberRoot(vd,t)}catch{}n=!0}return n}finally{Ce=i,Ei.transition=e}}return!1}function C_(t,e,i){e=uo(i,e),e=eT(t,e,1),t=hr(t,e,1),e=Bt(),t!==null&&(Cl(t,1,e),Yt(t,e))}function Xe(t,e,i){if(t.tag===3)C_(t,t,i);else for(;e!==null;){if(e.tag===3){C_(e,t,i);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(fr===null||!fr.has(n))){t=uo(i,t),t=tT(e,t,1),e=hr(e,t,1),t=Bt(),e!==null&&(Cl(e,1,t),Yt(e,t));break}}e=e.return}}function _4(t,e,i){var n=t.pingCache;n!==null&&n.delete(e),e=Bt(),t.pingedLanes|=t.suspendedLanes&i,dt===t&&(yt&i)===i&&(ot===4||ot===3&&(yt&130023424)===yt&&500>Je()-e0?qr(t,0):Zg|=i),Yt(t,e)}function xT(t,e){e===0&&(t.mode&1?(e=_u,_u<<=1,!(_u&130023424)&&(_u=4194304)):e=1);var i=Bt();t=Fn(t,e),t!==null&&(Cl(t,e,i),Yt(t,i))}function b4(t){var e=t.memoizedState,i=0;e!==null&&(i=e.retryLane),xT(t,i)}function x4(t,e){var i=0;switch(t.tag){case 13:var n=t.stateNode,r=t.memoizedState;r!==null&&(i=r.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(X(314))}n!==null&&n.delete(e),xT(t,i)}var TT;TT=function(t,e,i){if(t!==null)if(t.memoizedProps!==e.pendingProps||Xt.current)Wt=!0;else{if(!(t.lanes&i)&&!(e.flags&128))return Wt=!1,l4(t,e,i);Wt=!!(t.flags&131072)}else Wt=!1,ze&&e.flags&1048576&&Ex(e,Dc,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;ic(t,e),t=e.pendingProps;var r=so(e,kt.current);Xs(e,i),r=Gg(null,e,n,t,r,i);var s=Xg();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Kt(n)?(s=!0,Cc(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,zg(e),r.updater=Sd,e.stateNode=r,r._reactInternals=e,em(e,n,t,i),e=nm(null,e,n,!0,s,i)):(e.tag=0,ze&&s&&Rg(e),Ot(null,e,r,i),e=e.child),e;case 16:n=e.elementType;e:{switch(ic(t,e),t=e.pendingProps,r=n._init,n=r(n._payload),e.type=n,r=e.tag=w4(n),t=Fi(n,t),r){case 0:e=im(null,e,n,t,i);break e;case 1:e=g_(null,e,n,t,i);break e;case 11:e=p_(null,e,n,t,i);break e;case 14:e=m_(null,e,n,Fi(n.type,t),i);break e}throw Error(X(306,n,""))}return e;case 0:return n=e.type,r=e.pendingProps,r=e.elementType===n?r:Fi(n,r),im(t,e,n,r,i);case 1:return n=e.type,r=e.pendingProps,r=e.elementType===n?r:Fi(n,r),g_(t,e,n,r,i);case 3:e:{if(sT(e),t===null)throw Error(X(387));n=e.pendingProps,s=e.memoizedState,r=s.element,Ax(t,e),Ic(e,n,null,i);var o=e.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=uo(Error(X(423)),e),e=y_(t,e,n,i,r);break e}else if(n!==r){r=uo(Error(X(424)),e),e=y_(t,e,n,i,r);break e}else for(ai=dr(e.stateNode.containerInfo.firstChild),li=e,ze=!0,$i=null,i=Lx(e,null,n,i),e.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(oo(),n===r){e=jn(t,e,i);break e}Ot(t,e,n,i)}e=e.child}return e;case 5:return Nx(e),t===null&&Qp(e),n=e.type,r=e.pendingProps,s=t!==null?t.memoizedProps:null,o=r.children,Wp(n,r)?o=null:s!==null&&Wp(n,s)&&(e.flags|=32),rT(t,e),Ot(t,e,o,i),e.child;case 6:return t===null&&Qp(e),null;case 13:return oT(t,e,i);case 4:return Vg(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=ao(e,null,n,i):Ot(t,e,n,i),e.child;case 11:return n=e.type,r=e.pendingProps,r=e.elementType===n?r:Fi(n,r),p_(t,e,n,r,i);case 7:return Ot(t,e,e.pendingProps,i),e.child;case 8:return Ot(t,e,e.pendingProps.children,i),e.child;case 12:return Ot(t,e,e.pendingProps.children,i),e.child;case 10:e:{if(n=e.type._context,r=e.pendingProps,s=e.memoizedProps,o=r.value,Le(Ac,n._currentValue),n._currentValue=o,s!==null)if(Wi(s.value,o)){if(s.children===r.children&&!Xt.current){e=jn(t,e,i);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=Ln(-1,i&-i),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}s.lanes|=i,l=s.alternate,l!==null&&(l.lanes|=i),Jp(s.return,i,e),a.lanes|=i;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(X(341));o.lanes|=i,a=o.alternate,a!==null&&(a.lanes|=i),Jp(o,i,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ot(t,e,r.children,i),e=e.child}return e;case 9:return r=e.type,n=e.pendingProps.children,Xs(e,i),r=Ai(r),n=n(r),e.flags|=1,Ot(t,e,n,i),e.child;case 14:return n=e.type,r=Fi(n,e.pendingProps),r=Fi(n.type,r),m_(t,e,n,r,i);case 15:return iT(t,e,e.type,e.pendingProps,i);case 17:return n=e.type,r=e.pendingProps,r=e.elementType===n?r:Fi(n,r),ic(t,e),e.tag=1,Kt(n)?(t=!0,Cc(e)):t=!1,Xs(e,i),Ix(e,n,r),em(e,n,r,i),nm(null,e,n,!0,t,i);case 19:return aT(t,e,i);case 22:return nT(t,e,i)}throw Error(X(156,e.tag))};function wT(t,e){return Kb(t,e)}function T4(t,e,i,n){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Si(t,e,i,n){return new T4(t,e,i,n)}function r0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function w4(t){if(typeof t=="function")return r0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===wg)return 11;if(t===Sg)return 14}return 2}function mr(t,e){var i=t.alternate;return i===null?(i=Si(t.tag,e,t.key,t.mode),i.elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=e,i.type=t.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=t.flags&14680064,i.childLanes=t.childLanes,i.lanes=t.lanes,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,e=t.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i}function sc(t,e,i,n,r,s){var o=2;if(n=t,typeof t=="function")r0(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ds:return Wr(i.children,r,s,e);case Tg:o=8,r|=8;break;case Sp:return t=Si(12,i,e,r|2),t.elementType=Sp,t.lanes=s,t;case Ep:return t=Si(13,i,e,r),t.elementType=Ep,t.lanes=s,t;case Cp:return t=Si(19,i,e,r),t.elementType=Cp,t.lanes=s,t;case Ob:return Dd(i,r,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Pb:o=10;break e;case Ib:o=9;break e;case wg:o=11;break e;case Sg:o=14;break e;case Zn:o=16,n=null;break e}throw Error(X(130,t==null?t:typeof t,""))}return e=Si(o,i,e,r),e.elementType=t,e.type=n,e.lanes=s,e}function Wr(t,e,i,n){return t=Si(7,t,n,e),t.lanes=i,t}function Dd(t,e,i,n){return t=Si(22,t,n,e),t.elementType=Ob,t.lanes=i,t.stateNode={isHidden:!1},t}function bf(t,e,i){return t=Si(6,t,null,e),t.lanes=i,t}function xf(t,e,i){return e=Si(4,t.children!==null?t.children:[],t.key,e),e.lanes=i,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function S4(t,e,i,n,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ef(0),this.expirationTimes=ef(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ef(0),this.identifierPrefix=n,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function s0(t,e,i,n,r,s,o,a,l){return t=new S4(t,e,i,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Si(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},zg(s),t}function E4(t,e,i){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ks,key:n==null?null:""+n,children:t,containerInfo:e,implementation:i}}function ST(t){if(!t)return _r;t=t._reactInternals;e:{if(os(t)!==t||t.tag!==1)throw Error(X(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Kt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(X(171))}if(t.tag===1){var i=t.type;if(Kt(i))return wx(t,i,e)}return e}function ET(t,e,i,n,r,s,o,a,l){return t=s0(i,n,!0,t,r,s,o,a,l),t.context=ST(null),i=t.current,n=Bt(),r=pr(i),s=Ln(n,r),s.callback=e??null,hr(i,s,r),t.current.lanes=r,Cl(t,r,n),Yt(t,n),t}function Ad(t,e,i,n){var r=e.current,s=Bt(),o=pr(r);return i=ST(i),e.context===null?e.context=i:e.pendingContext=i,e=Ln(s,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=hr(r,e,o),t!==null&&(Hi(t,r,o,s),Zu(t,r,o)),o}function jc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function k_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var i=t.retryLane;t.retryLane=i!==0&&i<e?i:e}}function o0(t,e){k_(t,e),(t=t.alternate)&&k_(t,e)}function C4(){return null}var CT=typeof reportError=="function"?reportError:function(t){console.error(t)};function a0(t){this._internalRoot=t}Pd.prototype.render=a0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(X(409));Ad(t,e,null,null)};Pd.prototype.unmount=a0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ts(function(){Ad(null,t,null,null)}),e[Bn]=null}};function Pd(t){this._internalRoot=t}Pd.prototype.unstable_scheduleHydration=function(t){if(t){var e=ix();t={blockedOn:null,target:t,priority:e};for(var i=0;i<ir.length&&e!==0&&e<ir[i].priority;i++);ir.splice(i,0,t),i===0&&rx(t)}};function l0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Id(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function D_(){}function k4(t,e,i,n,r){if(r){if(typeof n=="function"){var s=n;n=function(){var u=jc(o);s.call(u)}}var o=ET(e,n,t,0,null,!1,!1,"",D_);return t._reactRootContainer=o,t[Bn]=o.current,il(t.nodeType===8?t.parentNode:t),ts(),o}for(;r=t.lastChild;)t.removeChild(r);if(typeof n=="function"){var a=n;n=function(){var u=jc(l);a.call(u)}}var l=s0(t,0,!1,null,null,!1,!1,"",D_);return t._reactRootContainer=l,t[Bn]=l.current,il(t.nodeType===8?t.parentNode:t),ts(function(){Ad(e,l,i,n)}),l}function Od(t,e,i,n,r){var s=i._reactRootContainer;if(s){var o=s;if(typeof r=="function"){var a=r;r=function(){var l=jc(o);a.call(l)}}Ad(e,o,t,r)}else o=k4(i,e,t,r,n);return jc(o)}ex=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var i=Ta(e.pendingLanes);i!==0&&(kg(e,i|1),Yt(e,Je()),!(Te&6)&&(co=Je()+500,Cr()))}break;case 13:ts(function(){var n=Fn(t,1);if(n!==null){var r=Bt();Hi(n,t,1,r)}}),o0(t,1)}};Dg=function(t){if(t.tag===13){var e=Fn(t,134217728);if(e!==null){var i=Bt();Hi(e,t,134217728,i)}o0(t,134217728)}};tx=function(t){if(t.tag===13){var e=pr(t),i=Fn(t,e);if(i!==null){var n=Bt();Hi(i,t,e,n)}o0(t,e)}};ix=function(){return Ce};nx=function(t,e){var i=Ce;try{return Ce=t,e()}finally{Ce=i}};Mp=function(t,e,i){switch(e){case"input":if(Ap(t,i),e=i.name,i.type==="radio"&&e!=null){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<i.length;e++){var n=i[e];if(n!==t&&n.form===t.form){var r=Td(n);if(!r)throw Error(X(90));Nb(n),Ap(n,r)}}}break;case"textarea":Mb(t,i);break;case"select":e=i.value,e!=null&&Hs(t,!!i.multiple,e,!1)}};Vb=t0;Hb=ts;var D4={usingClientEntryPoint:!1,Events:[Dl,Os,Td,$b,zb,t0]},la={findFiberByHostInstance:Ur,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},A4={bundleType:la.bundleType,version:la.version,rendererPackageName:la.rendererPackageName,rendererConfig:la.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:qn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Gb(t),t===null?null:t.stateNode},findFiberByHostInstance:la.findFiberByHostInstance||C4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pu.isDisabled&&Pu.supportsFiber)try{vd=Pu.inject(A4),cn=Pu}catch{}}pi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D4;pi.createPortal=function(t,e){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!l0(e))throw Error(X(200));return E4(t,e,null,i)};pi.createRoot=function(t,e){if(!l0(t))throw Error(X(299));var i=!1,n="",r=CT;return e!=null&&(e.unstable_strictMode===!0&&(i=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=s0(t,1,!1,null,null,i,!1,n,r),t[Bn]=e.current,il(t.nodeType===8?t.parentNode:t),new a0(e)};pi.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(X(188)):(t=Object.keys(t).join(","),Error(X(268,t)));return t=Gb(e),t=t===null?null:t.stateNode,t};pi.flushSync=function(t){return ts(t)};pi.hydrate=function(t,e,i){if(!Id(e))throw Error(X(200));return Od(null,t,e,!0,i)};pi.hydrateRoot=function(t,e,i){if(!l0(t))throw Error(X(405));var n=i!=null&&i.hydratedSources||null,r=!1,s="",o=CT;if(i!=null&&(i.unstable_strictMode===!0&&(r=!0),i.identifierPrefix!==void 0&&(s=i.identifierPrefix),i.onRecoverableError!==void 0&&(o=i.onRecoverableError)),e=ET(e,null,t,1,i??null,r,!1,s,o),t[Bn]=e.current,il(t),n)for(t=0;t<n.length;t++)i=n[t],r=i._getVersion,r=r(i._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[i,r]:e.mutableSourceEagerHydrationData.push(i,r);return new Pd(e)};pi.render=function(t,e,i){if(!Id(e))throw Error(X(200));return Od(null,t,e,!1,i)};pi.unmountComponentAtNode=function(t){if(!Id(t))throw Error(X(40));return t._reactRootContainer?(ts(function(){Od(null,null,t,!1,function(){t._reactRootContainer=null,t[Bn]=null})}),!0):!1};pi.unstable_batchedUpdates=t0;pi.unstable_renderSubtreeIntoContainer=function(t,e,i,n){if(!Id(i))throw Error(X(200));if(t==null||t._reactInternals===void 0)throw Error(X(38));return Od(t,e,i,!1,n)};pi.version="18.2.0-next-9e3b772b8-20220608";function kT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(kT)}catch(t){console.error(t)}}kT(),Eb.exports=pi;var DT=Eb.exports;const P4=fi(DT);var A_=DT;Tp.createRoot=A_.createRoot,Tp.hydrateRoot=A_.hydrateRoot;/**
 * @remix-run/router v1.9.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dl(){return dl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},dl.apply(this,arguments)}var ar;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ar||(ar={}));const P_="popstate";function I4(t){t===void 0&&(t={});function e(n,r){let{pathname:s,search:o,hash:a}=n.location;return mm("",{pathname:s,search:o,hash:a},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function i(n,r){return typeof r=="string"?r:AT(r)}return L4(e,i,null,t)}function at(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function u0(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function O4(){return Math.random().toString(36).substr(2,8)}function I_(t,e){return{usr:t.state,key:t.key,idx:e}}function mm(t,e,i,n){return i===void 0&&(i=null),dl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Io(e):e,{state:i,key:e&&e.key||n||O4()})}function AT(t){let{pathname:e="/",search:i="",hash:n=""}=t;return i&&i!=="?"&&(e+=i.charAt(0)==="?"?i:"?"+i),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Io(t){let e={};if(t){let i=t.indexOf("#");i>=0&&(e.hash=t.substr(i),t=t.substr(0,i));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function L4(t,e,i,n){n===void 0&&(n={});let{window:r=document.defaultView,v5Compat:s=!1}=n,o=r.history,a=ar.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(dl({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function p(){a=ar.Pop;let k=d(),x=k==null?null:k-u;u=k,l&&l({action:a,location:w.location,delta:x})}function y(k,x){a=ar.Push;let b=mm(w.location,k,x);i&&i(b,k),u=d()+1;let S=I_(b,u),E=w.createHref(b);try{o.pushState(S,"",E)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;r.location.assign(E)}s&&l&&l({action:a,location:w.location,delta:1})}function T(k,x){a=ar.Replace;let b=mm(w.location,k,x);i&&i(b,k),u=d();let S=I_(b,u),E=w.createHref(b);o.replaceState(S,"",E),s&&l&&l({action:a,location:w.location,delta:0})}function v(k){let x=r.location.origin!=="null"?r.location.origin:r.location.href,b=typeof k=="string"?k:AT(k);return at(x,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,x)}let w={get action(){return a},get location(){return t(r,o)},listen(k){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(P_,p),l=k,()=>{r.removeEventListener(P_,p),l=null}},createHref(k){return e(r,k)},createURL:v,encodeLocation(k){let x=v(k);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:y,replace:T,go(k){return o.go(k)}};return w}var O_;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(O_||(O_={}));function N4(t,e,i){i===void 0&&(i="/");let n=typeof e=="string"?Io(e):e,r=OT(n.pathname||"/",i);if(r==null)return null;let s=PT(t);R4(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=H4(s[a],G4(r));return o}function PT(t,e,i,n){e===void 0&&(e=[]),i===void 0&&(i=[]),n===void 0&&(n="");let r=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(at(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=Gr([n,l.relativePath]),d=i.concat(l);s.children&&s.children.length>0&&(at(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),PT(s.children,e,d,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:z4(u,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))r(s,o);else for(let l of IT(s.path))r(s,o,l)}),e}function IT(t){let e=t.split("/");if(e.length===0)return[];let[i,...n]=e,r=i.endsWith("?"),s=i.replace(/\?$/,"");if(n.length===0)return r?[s,""]:[s];let o=IT(n.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),r&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function R4(t){t.sort((e,i)=>e.score!==i.score?i.score-e.score:V4(e.routesMeta.map(n=>n.childrenIndex),i.routesMeta.map(n=>n.childrenIndex)))}const M4=/^:\w+$/,B4=3,F4=2,j4=1,U4=10,$4=-2,L_=t=>t==="*";function z4(t,e){let i=t.split("/"),n=i.length;return i.some(L_)&&(n+=$4),e&&(n+=F4),i.filter(r=>!L_(r)).reduce((r,s)=>r+(M4.test(s)?B4:s===""?j4:U4),n)}function V4(t,e){return t.length===e.length&&t.slice(0,-1).every((n,r)=>n===e[r])?t[t.length-1]-e[e.length-1]:0}function H4(t,e){let{routesMeta:i}=t,n={},r="/",s=[];for(let o=0;o<i.length;++o){let a=i[o],l=o===i.length-1,u=r==="/"?e:e.slice(r.length)||"/",d=q4({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!d)return null;Object.assign(n,d.params);let p=a.route;s.push({params:n,pathname:Gr([r,d.pathname]),pathnameBase:Z4(Gr([r,d.pathnameBase])),route:p}),d.pathnameBase!=="/"&&(r=Gr([r,d.pathnameBase]))}return s}function q4(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[i,n]=W4(t.path,t.caseSensitive,t.end),r=e.match(i);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),a=r.slice(1);return{params:n.reduce((u,d,p)=>{if(d==="*"){let y=a[p]||"";o=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}return u[d]=X4(a[p]||"",d),u},{}),pathname:s,pathnameBase:o,pattern:t}}function W4(t,e,i){e===void 0&&(e=!1),i===void 0&&(i=!0),u0(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(n.push(a),"/([^\\/]+)"));return t.endsWith("*")?(n.push("*"),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),n]}function G4(t){try{return decodeURI(t)}catch(e){return u0(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function X4(t,e){try{return decodeURIComponent(t)}catch(i){return u0(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+i+").")),t}}function OT(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,n=t.charAt(i);return n&&n!=="/"?null:t.slice(i)||"/"}function K4(t,e){e===void 0&&(e="/");let{pathname:i,search:n="",hash:r=""}=typeof t=="string"?Io(t):t;return{pathname:i?i.startsWith("/")?i:Y4(i,e):e,search:eP(n),hash:tP(r)}}function Y4(t,e){let i=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?i.length>1&&i.pop():r!=="."&&i.push(r)}),i.length>1?i.join("/"):"/"}function Tf(t,e,i,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+i+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Q4(t){return t.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function J4(t,e,i,n){n===void 0&&(n=!1);let r;typeof t=="string"?r=Io(t):(r=dl({},t),at(!r.pathname||!r.pathname.includes("?"),Tf("?","pathname","search",r)),at(!r.pathname||!r.pathname.includes("#"),Tf("#","pathname","hash",r)),at(!r.search||!r.search.includes("#"),Tf("#","search","hash",r)));let s=t===""||r.pathname==="",o=s?"/":r.pathname,a;if(n||o==null)a=i;else{let p=e.length-1;if(o.startsWith("..")){let y=o.split("/");for(;y[0]==="..";)y.shift(),p-=1;r.pathname=y.join("/")}a=p>=0?e[p]:"/"}let l=K4(r,a),u=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&i.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const Gr=t=>t.join("/").replace(/\/\/+/g,"/"),Z4=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),eP=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,tP=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function iP(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const LT=["post","put","patch","delete"];new Set(LT);const nP=["get",...LT];new Set(nP);/**
 * React Router v6.16.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Uc(){return Uc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},Uc.apply(this,arguments)}const c0=z.createContext(null),rP=z.createContext(null),Ld=z.createContext(null),Nd=z.createContext(null),as=z.createContext({outlet:null,matches:[],isDataRoute:!1}),NT=z.createContext(null);function Rd(){return z.useContext(Nd)!=null}function d0(){return Rd()||at(!1),z.useContext(Nd).location}function RT(t){z.useContext(Ld).static||z.useLayoutEffect(t)}function MT(){let{isDataRoute:t}=z.useContext(as);return t?_P():sP()}function sP(){Rd()||at(!1);let t=z.useContext(c0),{basename:e,navigator:i}=z.useContext(Ld),{matches:n}=z.useContext(as),{pathname:r}=d0(),s=JSON.stringify(Q4(n).map(l=>l.pathnameBase)),o=z.useRef(!1);return RT(()=>{o.current=!0}),z.useCallback(function(l,u){if(u===void 0&&(u={}),!o.current)return;if(typeof l=="number"){i.go(l);return}let d=J4(l,JSON.parse(s),r,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Gr([e,d.pathname])),(u.replace?i.replace:i.push)(d,u.state,u)},[e,i,s,r,t])}const oP=z.createContext(null);function aP(t){let e=z.useContext(as).outlet;return e&&z.createElement(oP.Provider,{value:t},e)}function lP(t,e){return uP(t,e)}function uP(t,e,i){Rd()||at(!1);let{navigator:n}=z.useContext(Ld),{matches:r}=z.useContext(as),s=r[r.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=d0(),u;if(e){var d;let w=typeof e=="string"?Io(e):e;a==="/"||(d=w.pathname)!=null&&d.startsWith(a)||at(!1),u=w}else u=l;let p=u.pathname||"/",y=a==="/"?p:p.slice(a.length)||"/",T=N4(t,{pathname:y}),v=pP(T&&T.map(w=>Object.assign({},w,{params:Object.assign({},o,w.params),pathname:Gr([a,n.encodeLocation?n.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?a:Gr([a,n.encodeLocation?n.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),r,i);return e&&v?z.createElement(Nd.Provider,{value:{location:Uc({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:ar.Pop}},v):v}function cP(){let t=vP(),e=iP(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),i=t instanceof Error?t.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},e),i?z.createElement("pre",{style:r},i):null,s)}const dP=z.createElement(cP,null);class hP extends z.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,i){return i.location!==e.location||i.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||i.error,location:i.location,revalidation:e.revalidation||i.revalidation}}componentDidCatch(e,i){console.error("React Router caught the following error during render",e,i)}render(){return this.state.error?z.createElement(as.Provider,{value:this.props.routeContext},z.createElement(NT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function fP(t){let{routeContext:e,match:i,children:n}=t,r=z.useContext(c0);return r&&r.static&&r.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=i.route.id),z.createElement(as.Provider,{value:e},n)}function pP(t,e,i){var n;if(e===void 0&&(e=[]),i===void 0&&(i=null),t==null){var r;if((r=i)!=null&&r.errors)t=i.matches;else return null}let s=t,o=(n=i)==null?void 0:n.errors;if(o!=null){let a=s.findIndex(l=>l.route.id&&(o==null?void 0:o[l.route.id]));a>=0||at(!1),s=s.slice(0,Math.min(s.length,a+1))}return s.reduceRight((a,l,u)=>{let d=l.route.id?o==null?void 0:o[l.route.id]:null,p=null;i&&(p=l.route.errorElement||dP);let y=e.concat(s.slice(0,u+1)),T=()=>{let v;return d?v=p:l.route.Component?v=z.createElement(l.route.Component,null):l.route.element?v=l.route.element:v=a,z.createElement(fP,{match:l,routeContext:{outlet:a,matches:y,isDataRoute:i!=null},children:v})};return i&&(l.route.ErrorBoundary||l.route.errorElement||u===0)?z.createElement(hP,{location:i.location,revalidation:i.revalidation,component:p,error:d,children:T(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):T()},null)}var BT=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(BT||{}),$c=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}($c||{});function mP(t){let e=z.useContext(c0);return e||at(!1),e}function gP(t){let e=z.useContext(rP);return e||at(!1),e}function yP(t){let e=z.useContext(as);return e||at(!1),e}function FT(t){let e=yP(),i=e.matches[e.matches.length-1];return i.route.id||at(!1),i.route.id}function vP(){var t;let e=z.useContext(NT),i=gP($c.UseRouteError),n=FT($c.UseRouteError);return e||((t=i.errors)==null?void 0:t[n])}function _P(){let{router:t}=mP(BT.UseNavigateStable),e=FT($c.UseNavigateStable),i=z.useRef(!1);return RT(()=>{i.current=!0}),z.useCallback(function(r,s){s===void 0&&(s={}),i.current&&(typeof r=="number"?t.navigate(r):t.navigate(r,Uc({fromRouteId:e},s)))},[t,e])}function bP(t){return aP(t.context)}function Jn(t){at(!1)}function xP(t){let{basename:e="/",children:i=null,location:n,navigationType:r=ar.Pop,navigator:s,static:o=!1}=t;Rd()&&at(!1);let a=e.replace(/^\/*/,"/"),l=z.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof n=="string"&&(n=Io(n));let{pathname:u="/",search:d="",hash:p="",state:y=null,key:T="default"}=n,v=z.useMemo(()=>{let w=OT(u,a);return w==null?null:{location:{pathname:w,search:d,hash:p,state:y,key:T},navigationType:r}},[a,u,d,p,y,T,r]);return v==null?null:z.createElement(Ld.Provider,{value:l},z.createElement(Nd.Provider,{children:i,value:v}))}function TP(t){let{children:e,location:i}=t;return lP(gm(e),i)}new Promise(()=>{});function gm(t,e){e===void 0&&(e=[]);let i=[];return z.Children.forEach(t,(n,r)=>{if(!z.isValidElement(n))return;let s=[...e,r];if(n.type===z.Fragment){i.push.apply(i,gm(n.props.children,s));return}n.type!==Jn&&at(!1),!n.props.index||!n.props.children||at(!1);let o={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=gm(n.props.children,s)),i.push(o)}),i}/**
 * React Router DOM v6.16.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const wP="startTransition",N_=bA[wP];function SP(t){let{basename:e,children:i,future:n,window:r}=t,s=z.useRef();s.current==null&&(s.current=I4({window:r,v5Compat:!0}));let o=s.current,[a,l]=z.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=z.useCallback(p=>{u&&N_?N_(()=>l(p)):l(p)},[l,u]);return z.useLayoutEffect(()=>o.listen(d),[o,d]),z.createElement(xP,{basename:e,children:i,location:a.location,navigationType:a.action,navigator:o})}var R_;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher"})(R_||(R_={}));var M_;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(M_||(M_={}));var jT={},Md={},UT={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function i(){for(var n=[],r=0;r<arguments.length;r++){var s=arguments[r];if(s){var o=typeof s;if(o==="string"||o==="number")n.push(s);else if(Array.isArray(s)){if(s.length){var a=i.apply(null,s);a&&n.push(a)}}else if(o==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){n.push(s.toString());continue}for(var l in s)e.call(s,l)&&s[l]&&n.push(l)}}}return n.join(" ")}t.exports?(i.default=i,t.exports=i):window.classNames=i})()})(UT);var Ni=UT.exports,Oo={},EP=Y&&Y.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Oo,"__esModule",{value:!0});Oo.useFrame=void 0;const CP=EP(z),kP=t=>CP.default.useMemo(()=>t||{document:typeof document<"u"?document:void 0,window:typeof window<"u"?window:void 0},[t]);Oo.useFrame=kP;var Ki={},Yi={},DP=Y&&Y.__rest||function(t,e){var i={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(i[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(i[n[r]]=t[n[r]]);return i},$T=Y&&Y.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Yi,"__esModule",{value:!0});Yi.EmbedStyle=void 0;const AP=$T(Ni),PP=$T(z),IP=t=>{var e=DP(t,[]);return PP.default.createElement("style",Object.assign({},e,{className:(0,AP.default)(e.className),style:Object.assign({},e.style)}),`
        .rsme-embed .rsme-d-none {
          display: none;
        }
    
        .rsme-embed .twitter-tweet {
          margin: 0 !important;
        }
    
        .rsme-embed blockquote {
          margin: 0 !important;
          padding: 0 !important;
        }

        .rsme-embed.rsme-facebook-embed .fb-post iframe {
          width: 100% !important;
        }

        .rsme-embed.rsme-facebook-embed .fb-post span {
          width: 100% !important;
        }
      `)};Yi.EmbedStyle=IP;var Pl={},OP=Y&&Y.__rest||function(t,e){var i={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(i[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(i[n[r]]=t[n[r]]);return i},zT=Y&&Y.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Pl,"__esModule",{value:!0});Pl.BorderSpinner=void 0;const LP=zT(Ni),Iu=zT(z),NP=t=>{var e=OP(t,[]);return Iu.default.createElement(Iu.default.Fragment,null,Iu.default.createElement("style",null,`
        .rsme-spinner {
          border: 3px solid rgba(0,0,0,0.75);
          border-right-color: transparent;
          border-radius: 50%;
          animation: rsme-spin 1s linear infinite;
        }
        @keyframes rsme-spin {
          0% {
            transform: rotate(0deg);
          }
          100% {
            transform: rotate(360deg);
          }
        }  
      `),Iu.default.createElement("div",Object.assign({},e,{className:(0,LP.default)("rsme-spinner",e.className),style:Object.assign({width:10,height:10},e.style)})))};Pl.BorderSpinner=NP;var VT={};(function(t){var e=Y&&Y.__rest||function(u,d){var p={};for(var y in u)Object.prototype.hasOwnProperty.call(u,y)&&d.indexOf(y)<0&&(p[y]=u[y]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var T=0,y=Object.getOwnPropertySymbols(u);T<y.length;T++)d.indexOf(y[T])<0&&Object.prototype.propertyIsEnumerable.call(u,y[T])&&(p[y[T]]=u[y[T]]);return p},i=Y&&Y.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(t,"__esModule",{value:!0}),t.ShareArrowIcon=t.ChatBubbleIcon=t.HeartIcon=t.EngagementIconsPlaceholder=void 0;const n=i(Ni),r=i(z),s=u=>{var d=e(u,[]);return r.default.createElement("div",Object.assign({},d,{className:(0,n.default)(d.className),style:Object.assign({display:"flex",alignItems:"center",columnGap:14},d.style)}),r.default.createElement(t.HeartIcon,null),r.default.createElement(t.ChatBubbleIcon,null),r.default.createElement(t.ShareArrowIcon,null))};t.EngagementIconsPlaceholder=s;const o=u=>r.default.createElement("div",Object.assign({},u),r.default.createElement("div",{style:{backgroundColor:"#F4F4F4",borderRadius:"50%",height:"12.5px",width:"12.5px",transform:"translateX(0px) translateY(7px)"}}),r.default.createElement("div",{style:{backgroundColor:"#F4F4F4",height:"12.5px",transform:"rotate(-45deg) translateX(3px) translateY(1px)",width:"12.5px",flexGrow:0,marginRight:"6px",marginLeft:"2px"}}),r.default.createElement("div",{style:{backgroundColor:"#F4F4F4",borderRadius:"50%",height:"12.5px",width:"12.5px",transform:"translateX(9px) translateY(-18px)"}}));t.HeartIcon=o;const a=u=>r.default.createElement("div",Object.assign({},u),r.default.createElement("div",{style:{backgroundColor:"#F4F4F4",borderRadius:"50%",height:"20px",width:"20px"}}),r.default.createElement("div",{style:{width:0,height:0,borderTop:"2px solid transparent",borderLeft:"6px solid #f4f4f4",borderBottom:"2px solid transparent",transform:"translateX(16px) translateY(-4px) rotate(30deg)"}}));t.ChatBubbleIcon=a;const l=u=>r.default.createElement("div",Object.assign({},u,{style:{height:25,width:25,transform:"translateX(0px) translateY(-2px)"}}),r.default.createElement("svg",{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 512 512",xmlSpace:"preserve"},r.default.createElement("path",{style:{fill:"#F4F4F4"},d:`M295.204,180.593C132.168,180.593,0,312.759,0,475.796
c51.398-130.047,184.869-203.22,317.483-183.603L295.204,180.593z`}),r.default.createElement("path",{style:{fill:"#F4F4F4"},d:`M512,253L295.204,36.204v217.818C159.946,249.655,34.992,339.262,0,475.794
c59.905-109.171,178.724-165.463,295.204-151.033v145.035L512,253z`})));t.ShareArrowIcon=l})(VT);var Bd={},RP=Y&&Y.__rest||function(t,e){var i={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(i[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(i[n[r]]=t[n[r]]);return i},HT=Y&&Y.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Bd,"__esModule",{value:!0});Bd.ProfilePlaceholder=void 0;const MP=HT(Ni),gs=HT(z),BP=t=>{var e=RP(t,[]);return gs.default.createElement("div",Object.assign({},e,{className:(0,MP.default)(e.className),style:Object.assign({},e.style)}),gs.default.createElement("div",{style:{display:"flex",columnGap:14}},gs.default.createElement("div",{style:{backgroundColor:"#F4F4F4",borderRadius:"50%",width:40,height:40}}),gs.default.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",rowGap:6}},gs.default.createElement("div",{style:{backgroundColor:"#F4F4F4",borderRadius:4,width:100,height:14}}),gs.default.createElement("div",{style:{backgroundColor:"#F4F4F4",borderRadius:4,width:60,height:14}}))))};Bd.ProfilePlaceholder=BP;var FP=Y&&Y.__rest||function(t,e){var i={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(i[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(i[n[r]]=t[n[r]]);return i},qT=Y&&Y.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ki,"__esModule",{value:!0});Ki.PlaceholderEmbed=void 0;const jP=qT(Ni),ft=qT(z),UP=Yi,$P=Pl,zP=VT,VP=Bd,HP=t=>{var e,{url:i,linkText:n="View post",imageUrl:r,spinner:s=ft.default.createElement($P.BorderSpinner,null),spinnerDisabled:o}=t,a=FP(t,["url","linkText","imageUrl","spinner","spinnerDisabled"]);return ft.default.createElement("div",Object.assign({},a,{className:(0,jP.default)(a.className),style:Object.assign({overflow:"hidden",border:"1px solid #dee2e6",backgroundColor:"#ffffff",borderRadius:0,boxSizing:"border-box",position:"relative"},a.style)}),ft.default.createElement(UP.EmbedStyle,null),ft.default.createElement("a",{href:i,style:{textDecoration:"none"},target:"_blank",rel:"noopener noreferrer"},!r&&ft.default.createElement("div",{style:{position:"absolute",top:0,left:0,display:"flex",justifyContent:"space-between",alignItems:"start",paddingLeft:16,paddingRight:16,paddingTop:16,paddingBottom:16,zIndex:2,backgroundColor:"#ffffff"}},ft.default.createElement(VP.ProfilePlaceholder,null)),ft.default.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:r?"start":"center",height:"100%",width:"100%"}},!r&&ft.default.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100%",rowGap:16,zIndex:3,padding:8,backgroundColor:"#ffffff"}},!o&&s,!!n&&ft.default.createElement("div",{style:{color:"#000000",fontFamily:"Arial,sans-serif",fontSize:"14px",fontStyle:"normal",fontWeight:550,lineHeight:"18px",textAlign:"center"}},n)),r&&(typeof((e=a.style)===null||e===void 0?void 0:e.height)<"u"?ft.default.createElement("div",{style:{width:"100%",height:"100%",background:`url("${r}")`,backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center",marginBottom:"40"}}):ft.default.createElement("div",{style:{width:"100%",marginBottom:40}},ft.default.createElement("img",{src:r,style:{width:"100%"}})))),ft.default.createElement("div",{style:{position:"absolute",bottom:0,left:0,height:40,width:"100%",backgroundColor:"#ffffff",zIndex:1}},!r&&ft.default.createElement(zP.EngagementIconsPlaceholder,{style:{marginLeft:16}}),r&&ft.default.createElement("div",{style:{display:"flex",height:"100%",alignItems:"center",justifyContent:"space-between",columnGap:16}},ft.default.createElement("div",{style:{color:"#0095f6",fontWeight:600,fontFamily:"Arial,sans-serif",fontSize:"14px",fontStyle:"normal",whiteSpace:"nowrap",marginLeft:16}},n),!o&&ft.default.createElement("div",{style:{marginRight:16}},s)))))};Ki.PlaceholderEmbed=HP;var Lo={};Object.defineProperty(Lo,"__esModule",{value:!0});Lo.generateUUID=void 0;const qP=()=>{let t=new Date().getTime(),e=typeof performance<"u"&&performance.now&&performance.now()*1e3||0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(i){let n=Math.random()*16;return t>0?(n=(t+n)%16|0,t=Math.floor(t/16)):(n=(e+n)%16|0,e=Math.floor(e/16)),(i==="x"?n:n&3|8).toString(16)})};Lo.generateUUID=qP;var br={};Object.defineProperty(br,"__esModule",{value:!0});br.Subs=br.Subscribe=void 0;class Vr{static subscribe(e){try{return e()}catch(i){console.error(i)}return()=>{}}static subscribeEvent(e,i,n){return e.addListener(i,n),()=>{e.removeListener(i,n)}}static subscribeDOMEvent(e,i,n,r){return e.addEventListener(i,n,r),()=>{e.removeEventListener(i,n,r)}}static setTimeout(e,i,...n){const r=setTimeout(e,i,n);return()=>clearTimeout(r)}static setInterval(e,i,...n){const r=setInterval(e,i,n);return()=>clearInterval(r)}static unsubAll(e){if(Array.isArray(e))e.forEach(i=>{try{i()}catch(n){console.error(n)}});else try{e()}catch(i){console.error(i)}}static createCleanup(e){return()=>Vr.unsubAll(e)}}br.Subscribe=Vr;class WP{constructor(e=[]){this.list=e}subscribe(e){const i=Vr.subscribe(e);return this.push(i),i}subscribeEvent(e,i,n){const r=Vr.subscribeEvent(e,i,n);return this.push(r),r}subscribeDOMEvent(e,i,n){const r=Vr.subscribeDOMEvent(e,i,n);return this.push(r),r}setTimeout(e,i,...n){const r=setTimeout(e,i,n),s=()=>clearTimeout(r);return this.push(s),s}setInterval(e,i,...n){const r=setInterval(e,i,n),s=()=>clearInterval(r);return this.push(s),s}push(e){this.list.push(e)}unsubAll(){Vr.unsubAll(this.list),this.list.splice(0,this.list.length)}createCleanup(){return()=>{this.unsubAll()}}}br.Subs=WP;var GP=Y&&Y.__rest||function(t,e){var i={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(i[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(i[n[r]]=t[n[r]]);return i},WT=Y&&Y.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Md,"__esModule",{value:!0});Md.FacebookEmbed=void 0;const B_=WT(Ni),pt=WT(z),XP=Oo,KP=Ki,YP=Lo,QP=Yi,F_=br,JP="https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v16.0",ym=550,ZP=ym,eI=372,j_=3,U_="check-script",$_="load-script",z_="confirm-script-loaded",Ou="process-embed",V_="confirm-embed-success",H_="retrying",q_="embed-success",tI=t=>{var e,i,{url:n,width:r,height:s,linkText:o="View post on Facebook",placeholderImageUrl:a,placeholderSpinner:l,placeholderSpinnerDisabled:u=!1,placeholderProps:d,embedPlaceholder:p,placeholderDisabled:y=!1,scriptLoadDisabled:T=!1,retryDelay:v=5e3,retryDisabled:w=!1,frame:k=void 0,debug:x=!1}=t,b=GP(t,["url","width","height","linkText","placeholderImageUrl","placeholderSpinner","placeholderSpinnerDisabled","placeholderProps","embedPlaceholder","placeholderDisabled","scriptLoadDisabled","retryDelay","retryDisabled","frame","debug"]);const[S,E]=pt.default.useState(U_),A=pt.default.useMemo(()=>S===q_,[S]),N=pt.default.useRef((0,YP.generateUUID)()),[M,U]=pt.default.useState(Date.now()),H=pt.default.useMemo(()=>`${N.current}-${M}`,[M]),j=(0,XP.useFrame)(k);pt.default.useEffect(()=>{x&&console.log(`[${new Date().toISOString()}]: ${S}`)},[x,S]),pt.default.useEffect(()=>{var ae,Z,ee;S===U_&&(!((ee=(Z=(ae=j.window)===null||ae===void 0?void 0:ae.FB)===null||Z===void 0?void 0:Z.XFBML)===null||ee===void 0)&&ee.parse?E(Ou):T?console.error("Facebook embed script not found. Unable to process Facebook embed:",n):E($_))},[T,S,n,j.window]),pt.default.useEffect(()=>{if(S===$_&&j.document){const ae=j.document.createElement("script");ae.setAttribute("src",JP),j.document.head.appendChild(ae),E(z_)}},[S,j.document]),pt.default.useEffect(()=>{const ae=new F_.Subs;return S===z_&&ae.setInterval(()=>{var Z,ee,W;!((W=(ee=(Z=j.window)===null||Z===void 0?void 0:Z.FB)===null||ee===void 0?void 0:ee.XFBML)===null||W===void 0)&&W.parse&&E(Ou)},1),ae.createCleanup()},[S,j.window]),pt.default.useEffect(()=>{var ae,Z,ee;if(S===Ou){const W=(ee=(Z=(ae=j.window)===null||ae===void 0?void 0:ae.FB)===null||Z===void 0?void 0:Z.XFBML)===null||ee===void 0?void 0:ee.parse;W?(W(),E(V_)):console.error("Facebook embed script not found. Unable to process Facebook embed:",n)}},[S,n,j.window]),pt.default.useEffect(()=>{const ae=new F_.Subs;return S===V_&&(ae.setInterval(()=>{if(j.document){const Z=j.document.getElementById(N.current);if(Z){const ee=Z.getElementsByClassName("fb-post")[0];ee&&ee.children.length>0&&E(q_)}}},1),w||ae.setTimeout(()=>{E(H_)},v)),ae.createCleanup()},[w,v,S,j.document]),pt.default.useEffect(()=>{S===H_&&(U(Date.now()),E(Ou))},[S]);const Q=!!(r!=null&&r.toString().includes("%")),ie=!!(s!=null&&s.toString().includes("%")),q={maxWidth:Q?void 0:ZP,width:typeof r<"u"?Q?"100%":r:"100%",height:ie?"100%":typeof s<"u"?s:typeof((e=b.style)===null||e===void 0?void 0:e.height)<"u"||typeof((i=b.style)===null||i===void 0?void 0:i.maxHeight)<"u"?"100%":eI,border:"1px solid #dee2e6",borderRadius:j_},oe=p??pt.default.createElement(KP.PlaceholderEmbed,Object.assign({url:n,imageUrl:a,linkText:o,spinner:l,spinnerDisabled:u},d,{style:Object.assign(Object.assign({},q),d==null?void 0:d.style)}));return pt.default.createElement("div",Object.assign({},b,{className:(0,B_.default)("rsme-embed rsme-facebook-embed",b.className),style:Object.assign({overflow:"hidden",width:r??void 0,height:s??void 0,borderRadius:j_},b.style)}),pt.default.createElement(QP.EmbedStyle,null),pt.default.createElement("div",{id:N.current,className:(0,B_.default)(!A&&"rsme-d-none")},pt.default.createElement("div",{key:H,className:"fb-post","data-href":n,"data-width":Q?"100%":r??ym,style:{width:Q?"100%":r??ym,height:ie?"100%":s??void 0}})),!A&&!y&&oe)};Md.FacebookEmbed=tI;var Fd={},iI=Y&&Y.__createBinding||(Object.create?function(t,e,i,n){n===void 0&&(n=i);var r=Object.getOwnPropertyDescriptor(e,i);(!r||("get"in r?!e.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,n,r)}:function(t,e,i,n){n===void 0&&(n=i),t[n]=e[i]}),nI=Y&&Y.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),rI=Y&&Y.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var i in t)i!=="default"&&Object.prototype.hasOwnProperty.call(t,i)&&iI(e,t,i);return nI(e,t),e},sI=Y&&Y.__rest||function(t,e){var i={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(i[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(i[n[r]]=t[n[r]]);return i},oI=Y&&Y.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Fd,"__esModule",{value:!0});Fd.InstagramEmbed=void 0;const aI=oI(Ni),wt=rI(z),W_=br,lI=Oo,uI=Ki,cI=Lo,dI=Yi,hI="//www.instagram.com/embed.js",fI=328,pI=372,G_=3,X_="check-script",K_="load-script",Y_="confirm-script-loaded",Lu="process-embed",Q_="confirm-embed-success",J_="retrying",mI="embed-success",gI=t=>{var e,i,{url:n,width:r,height:s,linkText:o="View post on Instagram",placeholderImageUrl:a,placeholderSpinner:l,placeholderSpinnerDisabled:u=!1,placeholderProps:d,embedPlaceholder:p,placeholderDisabled:y=!1,scriptLoadDisabled:T=!1,retryDelay:v=5e3,retryDisabled:w=!1,igVersion:k="14",frame:x=void 0,debug:b=!1}=t,S=sI(t,["url","width","height","linkText","placeholderImageUrl","placeholderSpinner","placeholderSpinnerDisabled","placeholderProps","embedPlaceholder","placeholderDisabled","scriptLoadDisabled","retryDelay","retryDisabled","igVersion","frame","debug"]);const[E,A]=wt.useState(X_),N=wt.useRef((0,cI.generateUUID)()),[M,U]=wt.useState(Date.now()),H=wt.useMemo(()=>`${N.current}-${M}`,[M]),j=(0,lI.useFrame)(x);wt.useEffect(()=>{b&&console.log(`[${new Date().toISOString()}]: ${E}`)},[b,E]),wt.useEffect(()=>{var ee,W,te;E===X_&&(!((te=(W=(ee=j.window)===null||ee===void 0?void 0:ee.instgrm)===null||W===void 0?void 0:W.Embeds)===null||te===void 0)&&te.process?A(Lu):T?console.error("Instagram embed script not found. Unable to process Instagram embed:",n):A(K_))},[T,E,n,j.window]),wt.useEffect(()=>{if(E===K_&&j.document){const ee=j.document.createElement("script");ee.setAttribute("src",hI),j.document.head.appendChild(ee),A(Y_)}},[E,j.document]),wt.useEffect(()=>{const ee=new W_.Subs;return E===Y_&&ee.setInterval(()=>{var W,te,ue;!((ue=(te=(W=j.window)===null||W===void 0?void 0:W.instgrm)===null||te===void 0?void 0:te.Embeds)===null||ue===void 0)&&ue.process&&A(Lu)},1),ee.createCleanup()},[E,j.window]),wt.useEffect(()=>{var ee,W,te;if(E===Lu){const ue=(te=(W=(ee=j.window)===null||ee===void 0?void 0:ee.instgrm)===null||W===void 0?void 0:W.Embeds)===null||te===void 0?void 0:te.process;ue?(ue(),A(Q_)):console.error("Instagram embed script not found. Unable to process Instagram embed:",n)}},[E,j.window,n]),wt.useEffect(()=>{const ee=new W_.Subs;return E===Q_&&(ee.setInterval(()=>{j.document&&(j.document.getElementById(N.current)||A(mI))},1),w||ee.setTimeout(()=>{A(J_)},v)),ee.createCleanup()},[v,w,E,j.document]),wt.useEffect(()=>{E===J_&&(U(Date.now()),A(Lu))},[E]);const Q=n.replace(/[?].*$/,""),ie=`${Q}${Q.endsWith("/")?"":"/"}`,q=!!(r!=null&&r.toString().includes("%")),oe=!!(s!=null&&s.toString().includes("%")),ae={minWidth:q?void 0:fI,width:typeof r<"u"?q?"100%":r:"100%",height:oe?"100%":typeof s<"u"?s:typeof((e=S.style)===null||e===void 0?void 0:e.height)<"u"||typeof((i=S.style)===null||i===void 0?void 0:i.maxHeight)<"u"?"100%":pI,border:"1px solid #dee2e6",borderRadius:G_},Z=p??wt.createElement(uI.PlaceholderEmbed,Object.assign({url:ie,imageUrl:a,linkText:o,spinner:l,spinnerDisabled:u},d,{style:Object.assign(Object.assign({},ae),d==null?void 0:d.style)}));return wt.createElement("div",Object.assign({},S,{className:(0,aI.default)("rsme-embed rsme-instagram-embed",N.current,S.className),style:Object.assign({overflow:"hidden",width:r??void 0,height:s??void 0,borderRadius:G_},S.style)}),wt.createElement(dI.EmbedStyle,null),wt.createElement("blockquote",{key:H,className:"instagram-media","data-instgrm-permalink":`${ie}?utm_source=ig_embed&utm_campaign=loading`,"data-instgrm-version":k,"data-instgrm-captioned":!0,"data-width":q?"100%":r??void 0,style:{width:"calc(100% - 2px)"}},!y&&Z,wt.createElement("div",{id:N.current,className:"instagram-media-pre-embed rsme-d-none"}," ")))};Fd.InstagramEmbed=gI;var jd={},yI=Y&&Y.__createBinding||(Object.create?function(t,e,i,n){n===void 0&&(n=i);var r=Object.getOwnPropertyDescriptor(e,i);(!r||("get"in r?!e.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,n,r)}:function(t,e,i,n){n===void 0&&(n=i),t[n]=e[i]}),vI=Y&&Y.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),_I=Y&&Y.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var i in t)i!=="default"&&Object.prototype.hasOwnProperty.call(t,i)&&yI(e,t,i);return vI(e,t),e},bI=Y&&Y.__rest||function(t,e){var i={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(i[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(i[n[r]]=t[n[r]]);return i},xI=Y&&Y.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(jd,"__esModule",{value:!0});jd.LinkedInEmbed=void 0;const Z_=xI(Ni),ua=_I(z),TI=Ki,wI=Yi,SI=250,EI=550,CI=550,e1=8,kI=t=>{var e,i,{url:n,postUrl:r,width:s,height:o=500,linkText:a="View post on LinkedIn",placeholderImageUrl:l,placeholderSpinner:u,placeholderSpinnerDisabled:d=!1,placeholderProps:p,embedPlaceholder:y,placeholderDisabled:T=!1}=t,v=bI(t,["url","postUrl","width","height","linkText","placeholderImageUrl","placeholderSpinner","placeholderSpinnerDisabled","placeholderProps","embedPlaceholder","placeholderDisabled"]);const[w,k]=ua.useState(!1),x={minWidth:SI,maxWidth:EI,width:typeof s<"u"?s:"100%",height:typeof o<"u"?o:typeof((e=v.style)===null||e===void 0?void 0:e.height)<"u"||typeof((i=v.style)===null||i===void 0?void 0:i.maxHeight)<"u"?"100%":CI,border:"solid 1px rgba(0, 0, 0, 0.15)",borderRadius:e1},b=y??ua.createElement(TI.PlaceholderEmbed,Object.assign({url:r??n,imageUrl:l,linkText:a,spinner:u,spinnerDisabled:d},p,{style:Object.assign(Object.assign({},x),p==null?void 0:p.style)}));return ua.createElement("div",Object.assign({},v,{className:(0,Z_.default)("rsme-embed rsme-linkedin-embed",v.className),style:Object.assign({overflow:"hidden",width:s??void 0,height:o??void 0,borderRadius:e1},v.style)}),ua.createElement(wI.EmbedStyle,null),ua.createElement("iframe",{className:(0,Z_.default)("linkedin-post",!w&&"rsme-d-none"),src:n,width:"100%",height:w?o:0,frameBorder:"0",onLoad:()=>k(!0)}),!w&&!T&&b)};jd.LinkedInEmbed=kI;var Ud={},DI=Y&&Y.__createBinding||(Object.create?function(t,e,i,n){n===void 0&&(n=i);var r=Object.getOwnPropertyDescriptor(e,i);(!r||("get"in r?!e.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,n,r)}:function(t,e,i,n){n===void 0&&(n=i),t[n]=e[i]}),AI=Y&&Y.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),PI=Y&&Y.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var i in t)i!=="default"&&Object.prototype.hasOwnProperty.call(t,i)&&DI(e,t,i);return AI(e,t),e},II=Y&&Y.__rest||function(t,e){var i={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(i[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(i[n[r]]=t[n[r]]);return i},OI=Y&&Y.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ud,"__esModule",{value:!0});Ud.PinterestEmbed=void 0;const t1=OI(Ni),ca=PI(z),LI=Ki,NI=Yi,RI=250,MI=550,BI=550,i1=8,FI=t=>{var e,i,n,{url:r,postUrl:s,width:o,height:a=500,linkText:l="View post on Pinterest",placeholderImageUrl:u,placeholderSpinner:d,placeholderSpinnerDisabled:p=!1,placeholderProps:y,embedPlaceholder:T,placeholderDisabled:v=!1}=t,w=II(t,["url","postUrl","width","height","linkText","placeholderImageUrl","placeholderSpinner","placeholderSpinnerDisabled","placeholderProps","embedPlaceholder","placeholderDisabled"]);const[k,x]=ca.useState(!1),b={minWidth:RI,maxWidth:MI,width:typeof o<"u"?o:"100%",height:typeof a<"u"?a:typeof((e=w.style)===null||e===void 0?void 0:e.height)<"u"||typeof((i=w.style)===null||i===void 0?void 0:i.maxHeight)<"u"?"100%":BI,border:"solid 1px rgba(0, 0, 0, 0.15)",borderRadius:i1},S=T??ca.createElement(LI.PlaceholderEmbed,Object.assign({url:s??r,imageUrl:u,linkText:l,spinner:d,spinnerDisabled:p},y,{style:Object.assign(Object.assign({},b),y==null?void 0:y.style)})),E=(n=r.match(/pin\/([\w\d_-]+)/))===null||n===void 0?void 0:n[1],A=E??"000000000000000000";return ca.createElement("div",Object.assign({},w,{className:(0,t1.default)("rsme-embed rsme-pinterest-embed",w.className),style:Object.assign({overflow:"hidden",width:o??void 0,height:a??void 0,borderRadius:i1},w.style)}),ca.createElement(NI.EmbedStyle,null),ca.createElement("iframe",{className:(0,t1.default)("pinterest-post",!k&&"rsme-d-none"),src:`https://assets.pinterest.com/ext/embed.html?id=${A}`,width:"100%",height:k?a:0,frameBorder:"0",scrolling:"no",onLoad:()=>x(!0)}),!k&&!v&&S)};Ud.PinterestEmbed=FI;var $d={},jI=Y&&Y.__rest||function(t,e){var i={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(i[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(i[n[r]]=t[n[r]]);return i},GT=Y&&Y.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty($d,"__esModule",{value:!0});$d.TikTokEmbed=void 0;const UI=GT(Ni),Pt=GT(z),$I=br,zI=Oo,VI=Ki,HI=Lo,qI=Yi,WI="https://www.tiktok.com/embed.js",GI=325,XI=480,KI=550,n1=8,wf="process-embed",r1="confirm-embed-success",s1="retrying",YI="embed-success",QI=t=>{var e,i,{url:n,width:r,height:s,linkText:o="View post on TikTok",placeholderImageUrl:a,placeholderSpinner:l,placeholderSpinnerDisabled:u=!1,placeholderProps:d,embedPlaceholder:p,placeholderDisabled:y=!1,scriptLoadDisabled:T=!1,retryDelay:v=5e3,retryDisabled:w=!1,frame:k=void 0,debug:x=!1}=t,b=jI(t,["url","width","height","linkText","placeholderImageUrl","placeholderSpinner","placeholderSpinnerDisabled","placeholderProps","embedPlaceholder","placeholderDisabled","scriptLoadDisabled","retryDelay","retryDisabled","frame","debug"]);const[S,E]=Pt.default.useState(wf),A=Pt.default.useRef((0,HI.generateUUID)()),[N,M]=Pt.default.useState(Date.now()),U=Pt.default.useMemo(()=>`${A.current}-${N}`,[N]),H=(0,zI.useFrame)(k);Pt.default.useEffect(()=>{x&&console.log(`[${new Date().toISOString()}]: ${S}`)},[x,S]),Pt.default.useEffect(()=>{if(S===wf&&H.document&&!T){const q="tiktok-embed-script",oe=H.document.getElementById(q);oe&&oe.remove();const ae=H.document.createElement("script");ae.setAttribute("src",`${WI}?t=${Date.now()}`),ae.setAttribute("id",q),H.document.head.appendChild(ae),E(r1)}},[T,S,H.document]),Pt.default.useEffect(()=>{const q=new $I.Subs;return S===r1&&(q.setInterval(()=>{H.document&&(H.document.getElementById(A.current)||E(YI))},1),w||q.setTimeout(()=>{E(s1)},v)),q.createCleanup()},[v,w,S,H.document]),Pt.default.useEffect(()=>{S===s1&&(M(Date.now()),E(wf))},[S]);const j=n.replace(/[?].*$/,"").replace(/^.+\//,""),Q={minWidth:GI,maxWidth:XI,width:typeof r<"u"?r:"100%",height:typeof s<"u"?s:typeof((e=b.style)===null||e===void 0?void 0:e.height)<"u"||typeof((i=b.style)===null||i===void 0?void 0:i.maxHeight)<"u"?"100%":KI,border:"solid 1px rgba(22,24,35,0.12)",borderRadius:n1},ie=p??Pt.default.createElement(VI.PlaceholderEmbed,Object.assign({url:n,imageUrl:a,linkText:o,spinner:l,spinnerDisabled:u},d,{style:Object.assign(Object.assign({},Q),d==null?void 0:d.style)}));return Pt.default.createElement("div",Object.assign({},b,{className:(0,UI.default)("rsme-embed rsme-tiktok-embed",b.className),style:Object.assign({overflow:"hidden",width:r??void 0,height:s??void 0,borderRadius:n1},b.style)}),Pt.default.createElement(qI.EmbedStyle,null),Pt.default.createElement("div",{className:"tiktok-embed-container"},Pt.default.createElement("blockquote",{key:U,className:"tiktok-embed",cite:n,"data-video-id":j},y?Pt.default.createElement("div",{id:A.current,style:{display:"none"}}," "):Pt.default.createElement("div",{id:A.current,style:{display:"flex",justifyContent:"center"}},ie))))};$d.TikTokEmbed=QI;var zd={},wn="https://platform.twitter.com/widgets.js",Sf="createTimeline",JI=function(e){var i=J.useRef(null),n=J.useState(!0),r=n[0],s=n[1],o=function(){var u=Object.assign({},e.options);if(e!=null&&e.autoHeight){var d,p;u.height=(d=i.current)===null||d===void 0||(p=d.parentNode)===null||p===void 0?void 0:p.offsetHeight}return u=Object.assign({},u,{theme:e==null?void 0:e.theme,linkColor:e==null?void 0:e.linkColor,borderColor:e==null?void 0:e.borderColor,lang:e==null?void 0:e.lang,tweetLimit:e==null?void 0:e.tweetLimit,ariaPolite:e==null?void 0:e.ariaPolite}),u},a=function(u){return u.chrome="",e.noHeader&&(u.chrome=u.chrome+" noheader"),e.noFooter&&(u.chrome=u.chrome+" nofooter"),e.noBorders&&(u.chrome=u.chrome+" noborders"),e.noScrollbar&&(u.chrome=u.chrome+" noscrollbar"),e.transparent&&(u.chrome=u.chrome+" transparent"),u};return J.useEffect(function(){var l=!0,u=require("scriptjs");return u(wn,"twitter-embed",function(){if(!window.twttr){console.error("Failure to load window.twttr, aborting load");return}if(l){if(!window.twttr.widgets[Sf]){console.error("Method "+Sf+" is not present anymore in twttr.widget api");return}var d=o();d=a(d),window.twttr.widgets[Sf]({sourceType:e.sourceType,screenName:e.screenName,userId:e.userId,ownerScreenName:e.ownerScreenName,slug:e.slug,id:e.id||e.widgetId,url:e.url},i==null?void 0:i.current,d).then(function(p){s(!1),e.onLoad&&e.onLoad(p)})}}),function(){l=!1}},[]),J.createElement(J.Fragment,null,r&&J.createElement(J.Fragment,null,e.placeholder),J.createElement("div",{ref:i}))},Ef="createShareButton",ZI=function(e){var i=J.useRef(null),n=J.useState(!0),r=n[0],s=n[1];return J.useEffect(function(){var o=!0,a=require("scriptjs");return a(wn,"twitter-embed",function(){if(!window.twttr){console.error("Failure to load window.twttr, aborting load");return}if(o){if(!window.twttr.widgets[Ef]){console.error("Method "+Ef+" is not present anymore in twttr.widget api");return}window.twttr.widgets[Ef](e.url,i==null?void 0:i.current,e.options).then(function(l){s(!1),e.onLoad&&e.onLoad(l)})}}),function(){o=!1}},[]),J.createElement(J.Fragment,null,r&&J.createElement(J.Fragment,null,e.placeholder),J.createElement("div",{ref:i}))},Cf="createFollowButton",eO=function(e){var i=J.useRef(null),n=J.useState(!0),r=n[0],s=n[1];return J.useEffect(function(){var o=!0,a=require("scriptjs");return a(wn,"twitter-embed",function(){if(!window.twttr){console.error("Failure to load window.twttr, aborting load");return}if(o){if(!window.twttr.widgets[Cf]){console.error("Method "+Cf+" is not present anymore in twttr.widget api");return}window.twttr.widgets[Cf](e.screenName,i==null?void 0:i.current,e.options).then(function(l){s(!1),e.onLoad&&e.onLoad(l)})}}),function(){o=!1}},[]),J.createElement(J.Fragment,null,r&&J.createElement(J.Fragment,null,e.placeholder),J.createElement("div",{ref:i}))},kf="createHashtagButton",tO=function(e){var i=J.useRef(null),n=J.useState(!0),r=n[0],s=n[1];return J.useEffect(function(){var o=!0,a=require("scriptjs");return a(wn,"twitter-embed",function(){if(!window.twttr){console.error("Failure to load window.twttr, aborting load");return}if(o){if(!window.twttr.widgets[kf]){console.error("Method "+kf+" is not present anymore in twttr.widget api");return}window.twttr.widgets[kf](e.tag,i==null?void 0:i.current,e.options).then(function(l){s(!1),e.onLoad&&e.onLoad(l)})}}),function(){o=!1}},[]),J.createElement(J.Fragment,null,r&&J.createElement(J.Fragment,null,e.placeholder),J.createElement("div",{ref:i}))},Df="createMentionButton",iO=function(e){var i=J.useRef(null),n=J.useState(!0),r=n[0],s=n[1];return J.useEffect(function(){var o=!0,a=require("scriptjs");return a(wn,"twitter-embed",function(){if(!window.twttr){console.error("Failure to load window.twttr, aborting load");return}if(o){if(!window.twttr.widgets[Df]){console.error("Method "+Df+" is not present anymore in twttr.widget api");return}window.twttr.widgets[Df](e.screenName,i==null?void 0:i.current,e.options).then(function(l){s(!1),e.onLoad&&e.onLoad(l)})}}),function(){o=!1}},[]),J.createElement(J.Fragment,null,r&&J.createElement(J.Fragment,null,e.placeholder),J.createElement("div",{ref:i}))},Af="createTweet",nO=function(e){var i=J.useRef(null),n=J.useState(!0),r=n[0],s=n[1];return J.useEffect(function(){var o=!0,a=require("scriptjs");return a(wn,"twitter-embed",function(){if(!window.twttr){console.error("Failure to load window.twttr, aborting load");return}if(o){if(!window.twttr.widgets[Af]){console.error("Method "+Af+" is not present anymore in twttr.widget api");return}window.twttr.widgets[Af](e.tweetId,i==null?void 0:i.current,e.options).then(function(l){s(!1),e.onLoad&&e.onLoad(l)})}}),function(){o=!1}},[]),J.createElement(J.Fragment,null,r&&J.createElement(J.Fragment,null,e.placeholder),J.createElement("div",{ref:i}))},Pf="createMoment",rO=function(e){var i=J.useRef(null),n=J.useState(!0),r=n[0],s=n[1];return J.useEffect(function(){var o=!0,a=require("scriptjs");return a(wn,"twitter-embed",function(){if(!window.twttr){console.error("Failure to load window.twttr, aborting load");return}if(o){if(!window.twttr.widgets[Pf]){console.error("Method "+Pf+" is not present anymore in twttr.widget api");return}window.twttr.widgets[Pf](e.momentId,i==null?void 0:i.current,e.options).then(function(l){s(!1),e.onLoad&&e.onLoad(l)})}}),function(){o=!1}},[]),J.createElement(J.Fragment,null,r&&J.createElement(J.Fragment,null,e.placeholder),J.createElement("div",{ref:i}))},If="createDMButton",sO=function(e){var i=J.useRef(null),n=J.useState(!0),r=n[0],s=n[1];return J.useEffect(function(){var o=!0,a=require("scriptjs");return a(wn,"twitter-embed",function(){if(!window.twttr){console.error("Failure to load window.twttr, aborting load");return}if(o){if(!window.twttr.widgets[If]){console.error("Method "+If+" is not present anymore in twttr.widget api");return}window.twttr.widgets[If](e.id,i==null?void 0:i.current,e.options).then(function(l){o&&(s(!1),e.onLoad&&e.onLoad(l))})}}),function(){o=!1}},[]),J.createElement(J.Fragment,null,r&&J.createElement(J.Fragment,null,e.placeholder),J.createElement("div",{ref:i}))},Of="createVideo",oO=function(e){var i=J.useRef(null),n=J.useState(!0),r=n[0],s=n[1];return J.useEffect(function(){var o=!0,a=require("scriptjs");return a(wn,"twitter-embed",function(){if(!window.twttr){console.error("Failure to load window.twttr, aborting load");return}if(o){if(!window.twttr.widgets[Of]){console.error("Method "+Of+" is not present anymore in twttr.widget api");return}window.twttr.widgets[Of](e.id,i==null?void 0:i.current).then(function(l){s(!1),e.onLoad&&e.onLoad(l)})}}),function(){o=!1}},[]),J.createElement(J.Fragment,null,r&&J.createElement(J.Fragment,null,e.placeholder),J.createElement("div",{ref:i}))},Lf="createPeriscopeOnAirButton",aO=function(e){var i=J.useRef(null),n=J.useState(!0),r=n[0],s=n[1];return J.useEffect(function(){var o=!0,a=require("scriptjs");return a(wn,"twitter-embed",function(){if(!window.twttr){console.error("Failure to load window.twttr, aborting load");return}if(o){if(!window.twttr.widgets[Lf]){console.error("Method "+Lf+" is not present anymore in twttr.widget api");return}window.twttr.widgets[Lf](e.username,i==null?void 0:i.current,e.options).then(function(l){s(!1),e.onLoad&&e.onLoad(l)})}}),function(){o=!1}},[]),J.createElement(J.Fragment,null,r&&J.createElement(J.Fragment,null,e.placeholder),J.createElement("div",{ref:i}))};const lO=Object.freeze(Object.defineProperty({__proto__:null,TwitterDMButton:sO,TwitterFollowButton:eO,TwitterHashtagButton:tO,TwitterMentionButton:iO,TwitterMomentShare:rO,TwitterOnAirButton:aO,TwitterShareButton:ZI,TwitterTimelineEmbed:JI,TwitterTweetEmbed:nO,TwitterVideoEmbed:oO},Symbol.toStringTag,{value:"Module"})),uO=gd(lO);var cO=Y&&Y.__createBinding||(Object.create?function(t,e,i,n){n===void 0&&(n=i);var r=Object.getOwnPropertyDescriptor(e,i);(!r||("get"in r?!e.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,n,r)}:function(t,e,i,n){n===void 0&&(n=i),t[n]=e[i]}),dO=Y&&Y.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),hO=Y&&Y.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var i in t)i!=="default"&&Object.prototype.hasOwnProperty.call(t,i)&&cO(e,t,i);return dO(e,t),e},fO=Y&&Y.__rest||function(t,e){var i={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(i[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(i[n[r]]=t[n[r]]);return i},pO=Y&&Y.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(zd,"__esModule",{value:!0});zd.TwitterEmbed=void 0;const mO=pO(Ni),Nu=hO(z),gO=uO,yO=Ki,vO=Yi,_O=250,bO=550,xO=350,o1=12,TO=t=>{var e,i,{url:n,width:r,height:s,linkText:o="View post on Twitter",placeholderImageUrl:a,placeholderSpinner:l,placeholderSpinnerDisabled:u=!1,placeholderProps:d,embedPlaceholder:p,placeholderDisabled:y,twitterTweetEmbedProps:T}=t,v=fO(t,["url","width","height","linkText","placeholderImageUrl","placeholderSpinner","placeholderSpinnerDisabled","placeholderProps","embedPlaceholder","placeholderDisabled","twitterTweetEmbedProps"]);const w=n.substring(n.lastIndexOf("/")+1).replace(/[?].*$/,""),k=!!(r!=null&&r.toString().includes("%")),x=!!(s!=null&&s.toString().includes("%")),b={minWidth:_O,maxWidth:bO,width:typeof r<"u"?k?"100%":r:"100%",height:x?"100%":typeof s<"u"?s:typeof((e=v.style)===null||e===void 0?void 0:e.height)<"u"||typeof((i=v.style)===null||i===void 0?void 0:i.maxHeight)<"u"?"100%":xO,border:"solid 1px #c9d4d9",borderRadius:o1},S=p??Nu.createElement(yO.PlaceholderEmbed,Object.assign({url:n,imageUrl:a,linkText:o,spinner:l,spinnerDisabled:u},d,{style:Object.assign(Object.assign({},b),d==null?void 0:d.style)}));return Nu.createElement("div",Object.assign({},v,{className:(0,mO.default)("rsme-embed rsme-twitter-embed",v.className),style:Object.assign({overflow:"hidden",width:r??void 0,height:s??void 0,borderRadius:o1},v.style)}),Nu.createElement(vO.EmbedStyle,null),Nu.createElement(gO.TwitterTweetEmbed,Object.assign({tweetId:w,placeholder:y?void 0:S},T)))};zd.TwitterEmbed=TO;var Vd={},XT={exports:{}},wO="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",SO=wO,EO=SO;function KT(){}function YT(){}YT.resetWarningCache=KT;var CO=function(){function t(n,r,s,o,a,l){if(l!==EO){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var i={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:YT,resetWarningCache:KT};return i.PropTypes=i,i};XT.exports=CO();var kO=XT.exports;const Ie=fi(kO);var DO=function t(e,i){if(e===i)return!0;if(e&&i&&typeof e=="object"&&typeof i=="object"){if(e.constructor!==i.constructor)return!1;var n,r,s;if(Array.isArray(e)){if(n=e.length,n!=i.length)return!1;for(r=n;r--!==0;)if(!t(e[r],i[r]))return!1;return!0}if(e.constructor===RegExp)return e.source===i.source&&e.flags===i.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===i.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===i.toString();if(s=Object.keys(e),n=s.length,n!==Object.keys(i).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(i,s[r]))return!1;for(r=n;r--!==0;){var o=s[r];if(!t(e[o],i[o]))return!1}return!0}return e!==e&&i!==i};const AO=fi(DO);var vm={exports:{}},QT;/**
* @link https://github.com/gajus/sister for the canonical source repository
* @license https://github.com/gajus/sister/blob/master/LICENSE BSD 3-Clause
*/QT=function(){var t={},e={};return t.on=function(i,n){var r={name:i,handler:n};return e[i]=e[i]||[],e[i].unshift(r),r},t.off=function(i){var n=e[i.name].indexOf(i);n!==-1&&e[i.name].splice(n,1)},t.trigger=function(i,n){var r=e[i],s;if(r)for(s=r.length;s--;)r[s].handler(n)},t};var PO=QT,_m={exports:{}},IO=function(e,i,n){var r=document.head||document.getElementsByTagName("head")[0],s=document.createElement("script");typeof i=="function"&&(n=i,i={}),i=i||{},n=n||function(){},s.type=i.type||"text/javascript",s.charset=i.charset||"utf8",s.async="async"in i?!!i.async:!0,s.src=e,i.attrs&&OO(s,i.attrs),i.text&&(s.text=""+i.text);var o="onload"in s?a1:LO;o(s,n),s.onload||a1(s,n),r.appendChild(s)};function OO(t,e){for(var i in e)t.setAttribute(i,e[i])}function a1(t,e){t.onload=function(){this.onerror=this.onload=null,e(null,t)},t.onerror=function(){this.onerror=this.onload=null,e(new Error("Failed to load "+this.src),t)}}function LO(t,e){t.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,e(null,t))}}(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var i=IO,n=r(i);function r(s){return s&&s.__esModule?s:{default:s}}e.default=function(s){var o=new Promise(function(a){if(window.YT&&window.YT.Player&&window.YT.Player instanceof Function){a(window.YT);return}else{var l=window.location.protocol==="http:"?"http:":"https:";(0,n.default)(l+"//www.youtube.com/iframe_api",function(d){d&&s.trigger("error",d)})}var u=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=function(){u&&u(),a(window.YT)}});return o},t.exports=e.default})(_m,_m.exports);var NO=_m.exports,bm={exports:{}},xm={exports:{}},Tm={exports:{}},hl=1e3,fl=hl*60,pl=fl*60,ml=pl*24,RO=ml*365.25,MO=function(t,e){e=e||{};var i=typeof t;if(i==="string"&&t.length>0)return BO(t);if(i==="number"&&isNaN(t)===!1)return e.long?jO(t):FO(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function BO(t){if(t=String(t),!(t.length>100)){var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(e){var i=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return i*RO;case"days":case"day":case"d":return i*ml;case"hours":case"hour":case"hrs":case"hr":case"h":return i*pl;case"minutes":case"minute":case"mins":case"min":case"m":return i*fl;case"seconds":case"second":case"secs":case"sec":case"s":return i*hl;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return i;default:return}}}}function FO(t){return t>=ml?Math.round(t/ml)+"d":t>=pl?Math.round(t/pl)+"h":t>=fl?Math.round(t/fl)+"m":t>=hl?Math.round(t/hl)+"s":t+"ms"}function jO(t){return Ru(t,ml,"day")||Ru(t,pl,"hour")||Ru(t,fl,"minute")||Ru(t,hl,"second")||t+" ms"}function Ru(t,e,i){if(!(t<e))return t<e*1.5?Math.floor(t/e)+" "+i:Math.ceil(t/e)+" "+i+"s"}(function(t,e){e=t.exports=r.debug=r.default=r,e.coerce=l,e.disable=o,e.enable=s,e.enabled=a,e.humanize=MO,e.names=[],e.skips=[],e.formatters={};var i;function n(u){var d=0,p;for(p in u)d=(d<<5)-d+u.charCodeAt(p),d|=0;return e.colors[Math.abs(d)%e.colors.length]}function r(u){function d(){if(d.enabled){var p=d,y=+new Date,T=y-(i||y);p.diff=T,p.prev=i,p.curr=y,i=y;for(var v=new Array(arguments.length),w=0;w<v.length;w++)v[w]=arguments[w];v[0]=e.coerce(v[0]),typeof v[0]!="string"&&v.unshift("%O");var k=0;v[0]=v[0].replace(/%([a-zA-Z%])/g,function(b,S){if(b==="%%")return b;k++;var E=e.formatters[S];if(typeof E=="function"){var A=v[k];b=E.call(p,A),v.splice(k,1),k--}return b}),e.formatArgs.call(p,v);var x=d.log||e.log||console.log.bind(console);x.apply(p,v)}}return d.namespace=u,d.enabled=e.enabled(u),d.useColors=e.useColors(),d.color=n(u),typeof e.init=="function"&&e.init(d),d}function s(u){e.save(u),e.names=[],e.skips=[];for(var d=(typeof u=="string"?u:"").split(/[\s,]+/),p=d.length,y=0;y<p;y++)d[y]&&(u=d[y].replace(/\*/g,".*?"),u[0]==="-"?e.skips.push(new RegExp("^"+u.substr(1)+"$")):e.names.push(new RegExp("^"+u+"$")))}function o(){e.enable("")}function a(u){var d,p;for(d=0,p=e.skips.length;d<p;d++)if(e.skips[d].test(u))return!1;for(d=0,p=e.names.length;d<p;d++)if(e.names[d].test(u))return!0;return!1}function l(u){return u instanceof Error?u.stack||u.message:u}})(Tm,Tm.exports);var UO=Tm.exports;(function(t,e){e=t.exports=UO,e.log=r,e.formatArgs=n,e.save=s,e.load=o,e.useColors=i,e.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:a(),e.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function i(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}e.formatters.j=function(l){try{return JSON.stringify(l)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}};function n(l){var u=this.useColors;if(l[0]=(u?"%c":"")+this.namespace+(u?" %c":" ")+l[0]+(u?"%c ":" ")+"+"+e.humanize(this.diff),!!u){var d="color: "+this.color;l.splice(1,0,d,"color: inherit");var p=0,y=0;l[0].replace(/%[a-zA-Z%]/g,function(T){T!=="%%"&&(p++,T==="%c"&&(y=p))}),l.splice(y,0,d)}}function r(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function s(l){try{l==null?e.storage.removeItem("debug"):e.storage.debug=l}catch{}}function o(){var l;try{l=e.storage.debug}catch{}return!l&&typeof process<"u"&&"env"in process&&(l={}.DEBUG),l}e.enable(o());function a(){try{return window.localStorage}catch{}}})(xm,xm.exports);var $O=xm.exports,wm={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=["cueVideoById","loadVideoById","cueVideoByUrl","loadVideoByUrl","playVideo","pauseVideo","stopVideo","getVideoLoadedFraction","cuePlaylist","loadPlaylist","nextVideo","previousVideo","playVideoAt","setShuffle","setLoop","getPlaylist","getPlaylistIndex","setOption","mute","unMute","isMuted","setVolume","getVolume","seekTo","getPlayerState","getPlaybackRate","setPlaybackRate","getAvailablePlaybackRates","getPlaybackQuality","setPlaybackQuality","getAvailableQualityLevels","getCurrentTime","getDuration","removeEventListener","getVideoUrl","getVideoEmbedCode","getOptions","getOption","addEventListener","destroy","setSize","getIframe"],t.exports=e.default})(wm,wm.exports);var zO=wm.exports,Sm={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=["ready","stateChange","playbackQualityChange","playbackRateChange","error","apiChange","volumeChange"],t.exports=e.default})(Sm,Sm.exports);var VO=Sm.exports,Em={exports:{}},Cm={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default={BUFFERING:3,ENDED:0,PAUSED:2,PLAYING:1,UNSTARTED:-1,VIDEO_CUED:5},t.exports=e.default})(Cm,Cm.exports);var HO=Cm.exports;(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var i=HO,n=r(i);function r(s){return s&&s.__esModule?s:{default:s}}e.default={pauseVideo:{acceptableStates:[n.default.ENDED,n.default.PAUSED],stateChangeRequired:!1},playVideo:{acceptableStates:[n.default.ENDED,n.default.PLAYING],stateChangeRequired:!1},seekTo:{acceptableStates:[n.default.ENDED,n.default.PLAYING,n.default.PAUSED],stateChangeRequired:!0,timeout:3e3}},t.exports=e.default})(Em,Em.exports);var qO=Em.exports;(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var i=$O,n=d(i),r=zO,s=d(r),o=VO,a=d(o),l=qO,u=d(l);function d(T){return T&&T.__esModule?T:{default:T}}var p=(0,n.default)("youtube-player"),y={};y.proxyEvents=function(T){var v={},w=function(M){var U="on"+M.slice(0,1).toUpperCase()+M.slice(1);v[U]=function(H){p('event "%s"',U,H),T.trigger(M,H)}},k=!0,x=!1,b=void 0;try{for(var S=a.default[Symbol.iterator](),E;!(k=(E=S.next()).done);k=!0){var A=E.value;w(A)}}catch(N){x=!0,b=N}finally{try{!k&&S.return&&S.return()}finally{if(x)throw b}}return v},y.promisifyPlayer=function(T){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,w={},k=function(U){v&&u.default[U]?w[U]=function(){for(var H=arguments.length,j=Array(H),Q=0;Q<H;Q++)j[Q]=arguments[Q];return T.then(function(ie){var q=u.default[U],oe=ie.getPlayerState(),ae=ie[U].apply(ie,j);return q.stateChangeRequired||Array.isArray(q.acceptableStates)&&q.acceptableStates.indexOf(oe)===-1?new Promise(function(Z){var ee=function W(){var te=ie.getPlayerState(),ue=void 0;typeof q.timeout=="number"&&(ue=setTimeout(function(){ie.removeEventListener("onStateChange",W),Z()},q.timeout)),Array.isArray(q.acceptableStates)&&q.acceptableStates.indexOf(te)!==-1&&(ie.removeEventListener("onStateChange",W),clearTimeout(ue),Z())};ie.addEventListener("onStateChange",ee)}).then(function(){return ae}):ae})}:w[U]=function(){for(var H=arguments.length,j=Array(H),Q=0;Q<H;Q++)j[Q]=arguments[Q];return T.then(function(ie){return ie[U].apply(ie,j)})}},x=!0,b=!1,S=void 0;try{for(var E=s.default[Symbol.iterator](),A;!(x=(A=E.next()).done);x=!0){var N=A.value;k(N)}}catch(M){b=!0,S=M}finally{try{!x&&E.return&&E.return()}finally{if(b)throw S}}return w},e.default=y,t.exports=e.default})(bm,bm.exports);var WO=bm.exports;(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},n=PO,r=u(n),s=NO,o=u(s),a=WO,l=u(a);function u(p){return p&&p.__esModule?p:{default:p}}var d=void 0;e.default=function(p){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,v=(0,r.default)();if(d||(d=(0,o.default)(v)),y.events)throw new Error("Event handlers cannot be overwritten.");if(typeof p=="string"&&!document.getElementById(p))throw new Error('Element "'+p+'" does not exist.');y.events=l.default.proxyEvents(v);var w=new Promise(function(x){if((typeof p>"u"?"undefined":i(p))==="object"&&p.playVideo instanceof Function){var b=p;x(b)}else d.then(function(S){var E=new S.Player(p,y);return v.on("ready",function(){x(E)}),null})}),k=l.default.promisifyPlayer(w,T);return k.on=v.on,k.off=v.off,k},t.exports=e.default})(vm,vm.exports);var GO=vm.exports;const XO=fi(GO);var KO=Object.defineProperty,YO=Object.defineProperties,QO=Object.getOwnPropertyDescriptors,l1=Object.getOwnPropertySymbols,JO=Object.prototype.hasOwnProperty,ZO=Object.prototype.propertyIsEnumerable,u1=(t,e,i)=>e in t?KO(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,km=(t,e)=>{for(var i in e||(e={}))JO.call(e,i)&&u1(t,i,e[i]);if(l1)for(var i of l1(e))ZO.call(e,i)&&u1(t,i,e[i]);return t},Dm=(t,e)=>YO(t,QO(e)),e5=(t,e,i)=>new Promise((n,r)=>{var s=l=>{try{a(i.next(l))}catch(u){r(u)}},o=l=>{try{a(i.throw(l))}catch(u){r(u)}},a=l=>l.done?n(l.value):Promise.resolve(l.value).then(s,o);a((i=i.apply(t,e)).next())});function t5(t,e){var i,n;if(t.videoId!==e.videoId)return!0;const r=((i=t.opts)==null?void 0:i.playerVars)||{},s=((n=e.opts)==null?void 0:n.playerVars)||{};return r.start!==s.start||r.end!==s.end}function c1(t={}){return Dm(km({},t),{height:0,width:0,playerVars:Dm(km({},t.playerVars),{autoplay:0,start:0,end:0})})}function i5(t,e){return t.videoId!==e.videoId||!AO(c1(t.opts),c1(e.opts))}function n5(t,e){var i,n,r,s;return t.id!==e.id||t.className!==e.className||((i=t.opts)==null?void 0:i.width)!==((n=e.opts)==null?void 0:n.width)||((r=t.opts)==null?void 0:r.height)!==((s=e.opts)==null?void 0:s.height)||t.iframeClassName!==e.iframeClassName||t.title!==e.title}var r5={videoId:"",id:"",className:"",iframeClassName:"",style:{},title:"",loading:void 0,opts:{},onReady:()=>{},onError:()=>{},onPlay:()=>{},onPause:()=>{},onEnd:()=>{},onStateChange:()=>{},onPlaybackRateChange:()=>{},onPlaybackQualityChange:()=>{}},s5={videoId:Ie.string,id:Ie.string,className:Ie.string,iframeClassName:Ie.string,style:Ie.object,title:Ie.string,loading:Ie.oneOf(["lazy","eager"]),opts:Ie.objectOf(Ie.any),onReady:Ie.func,onError:Ie.func,onPlay:Ie.func,onPause:Ie.func,onEnd:Ie.func,onStateChange:Ie.func,onPlaybackRateChange:Ie.func,onPlaybackQualityChange:Ie.func},oc=class extends J.Component{constructor(t){super(t),this.destroyPlayerPromise=void 0,this.onPlayerReady=e=>{var i,n;return(n=(i=this.props).onReady)==null?void 0:n.call(i,e)},this.onPlayerError=e=>{var i,n;return(n=(i=this.props).onError)==null?void 0:n.call(i,e)},this.onPlayerStateChange=e=>{var i,n,r,s,o,a,l,u;switch((n=(i=this.props).onStateChange)==null||n.call(i,e),e.data){case oc.PlayerState.ENDED:(s=(r=this.props).onEnd)==null||s.call(r,e);break;case oc.PlayerState.PLAYING:(a=(o=this.props).onPlay)==null||a.call(o,e);break;case oc.PlayerState.PAUSED:(u=(l=this.props).onPause)==null||u.call(l,e);break}},this.onPlayerPlaybackRateChange=e=>{var i,n;return(n=(i=this.props).onPlaybackRateChange)==null?void 0:n.call(i,e)},this.onPlayerPlaybackQualityChange=e=>{var i,n;return(n=(i=this.props).onPlaybackQualityChange)==null?void 0:n.call(i,e)},this.destroyPlayer=()=>this.internalPlayer?(this.destroyPlayerPromise=this.internalPlayer.destroy().then(()=>this.destroyPlayerPromise=void 0),this.destroyPlayerPromise):Promise.resolve(),this.createPlayer=()=>{if(typeof document>"u")return;if(this.destroyPlayerPromise){this.destroyPlayerPromise.then(this.createPlayer);return}const e=Dm(km({},this.props.opts),{videoId:this.props.videoId});this.internalPlayer=XO(this.container,e),this.internalPlayer.on("ready",this.onPlayerReady),this.internalPlayer.on("error",this.onPlayerError),this.internalPlayer.on("stateChange",this.onPlayerStateChange),this.internalPlayer.on("playbackRateChange",this.onPlayerPlaybackRateChange),this.internalPlayer.on("playbackQualityChange",this.onPlayerPlaybackQualityChange),(this.props.title||this.props.loading)&&this.internalPlayer.getIframe().then(i=>{this.props.title&&i.setAttribute("title",this.props.title),this.props.loading&&i.setAttribute("loading",this.props.loading)})},this.resetPlayer=()=>this.destroyPlayer().then(this.createPlayer),this.updatePlayer=()=>{var e;(e=this.internalPlayer)==null||e.getIframe().then(i=>{this.props.id?i.setAttribute("id",this.props.id):i.removeAttribute("id"),this.props.iframeClassName?i.setAttribute("class",this.props.iframeClassName):i.removeAttribute("class"),this.props.opts&&this.props.opts.width?i.setAttribute("width",this.props.opts.width.toString()):i.removeAttribute("width"),this.props.opts&&this.props.opts.height?i.setAttribute("height",this.props.opts.height.toString()):i.removeAttribute("height"),this.props.title?i.setAttribute("title",this.props.title):i.setAttribute("title","YouTube video player"),this.props.loading?i.setAttribute("loading",this.props.loading):i.removeAttribute("loading")})},this.getInternalPlayer=()=>this.internalPlayer,this.updateVideo=()=>{var e,i,n,r;if(typeof this.props.videoId>"u"||this.props.videoId===null){(e=this.internalPlayer)==null||e.stopVideo();return}let s=!1;const o={videoId:this.props.videoId};if((i=this.props.opts)!=null&&i.playerVars&&(s=this.props.opts.playerVars.autoplay===1,"start"in this.props.opts.playerVars&&(o.startSeconds=this.props.opts.playerVars.start),"end"in this.props.opts.playerVars&&(o.endSeconds=this.props.opts.playerVars.end)),s){(n=this.internalPlayer)==null||n.loadVideoById(o);return}(r=this.internalPlayer)==null||r.cueVideoById(o)},this.refContainer=e=>{this.container=e},this.container=null,this.internalPlayer=null}componentDidMount(){this.createPlayer()}componentDidUpdate(t){return e5(this,null,function*(){n5(t,this.props)&&this.updatePlayer(),i5(t,this.props)&&(yield this.resetPlayer()),t5(t,this.props)&&this.updateVideo()})}componentWillUnmount(){this.destroyPlayer()}render(){return J.createElement("div",{className:this.props.className,style:this.props.style},J.createElement("div",{id:this.props.id,className:this.props.iframeClassName,ref:this.refContainer}))}},Hd=oc;Hd.propTypes=s5;Hd.defaultProps=r5;Hd.PlayerState={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5};var o5=Hd;const a5=Object.freeze(Object.defineProperty({__proto__:null,default:o5},Symbol.toStringTag,{value:"Module"})),l5=gd(a5);var u5=Y&&Y.__createBinding||(Object.create?function(t,e,i,n){n===void 0&&(n=i);var r=Object.getOwnPropertyDescriptor(e,i);(!r||("get"in r?!e.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,n,r)}:function(t,e,i,n){n===void 0&&(n=i),t[n]=e[i]}),c5=Y&&Y.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),d5=Y&&Y.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var i in t)i!=="default"&&Object.prototype.hasOwnProperty.call(t,i)&&u5(e,t,i);return c5(e,t),e},h5=Y&&Y.__rest||function(t,e){var i={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(i[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(i[n[r]]=t[n[r]]);return i},JT=Y&&Y.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Vd,"__esModule",{value:!0});Vd.YouTubeEmbed=void 0;const d1=JT(Ni),ys=d5(z),f5=JT(l5),p5=Ki,m5=Yi,g5=640,y5=360,h1=0,v5=t=>{var e,i,n,r,s,o,a,l,u,d,p,{url:y,width:T,height:v,linkText:w="Watch on YouTube",placeholderImageUrl:k,placeholderSpinner:x,placeholderSpinnerDisabled:b=!1,placeholderProps:S,embedPlaceholder:E,placeholderDisabled:A,youTubeProps:N}=t,M=h5(t,["url","width","height","linkText","placeholderImageUrl","placeholderSpinner","placeholderSpinnerDisabled","placeholderProps","embedPlaceholder","placeholderDisabled","youTubeProps"]);const[U,H]=ys.useState(!1),j=(e=y.match(/[?&]v=(.+?)(?:$|[&?])/))===null||e===void 0?void 0:e[1],Q=(i=y.match(/https:\/\/youtu\.be\/(.+?)(?:$|[&?])/))===null||i===void 0?void 0:i[1],ie=(n=y.match(/https:\/\/www.youtube(-nocookie)?\.com\/embed\/(.+?)(?:$|[&?])/))===null||n===void 0?void 0:n[2],q=(s=(r=j??Q)!==null&&r!==void 0?r:ie)!==null&&s!==void 0?s:"00000000",oe=+((a=(o=y.match(/(.+?)(?:$|[&?])start=(\d+)/))===null||o===void 0?void 0:o[2])!==null&&a!==void 0?a:0),ae=!!(T!=null&&T.toString().includes("%")),Z=!!(v!=null&&v.toString().includes("%"));let ee={};oe&&(ee.playerVars={start:oe}),typeof T<"u"&&(ee.width=ae?"100%":`${T}`),typeof v<"u"&&(ee.height=Z?"100%":`${v}`),ee=Object.assign(Object.assign({},ee),N==null?void 0:N.opts);const W={maxWidth:ae?void 0:g5,width:typeof T<"u"?ae?"100%":T:"100%",height:Z?"100%":typeof v<"u"?v:typeof((l=M.style)===null||l===void 0?void 0:l.height)<"u"||typeof((u=M.style)===null||u===void 0?void 0:u.maxHeight)<"u"?"100%":y5,border:"1px solid #dee2e6",borderRadius:h1},te=E??ys.createElement(p5.PlaceholderEmbed,Object.assign({url:y,imageUrl:k,linkText:w,spinner:x,spinnerDisabled:b},S,{style:Object.assign(Object.assign({},W),S==null?void 0:S.style)}));return ys.createElement("div",Object.assign({},M,{className:(0,d1.default)("rsme-embed rsme-youtube-embed",M.className),style:Object.assign({overflow:"hidden",width:T??void 0,height:v??void 0,borderRadius:h1},M.style)}),ys.createElement(m5.EmbedStyle,null),ys.createElement("div",{className:(0,d1.default)(!U&&"rsme-d-none")},ys.createElement(f5.default,Object.assign({},N,{className:(d=N==null?void 0:N.className)!==null&&d!==void 0?d:"youtube-iframe",videoId:(p=N==null?void 0:N.videoId)!==null&&p!==void 0?p:q,opts:ee,onReady:ue=>{H(!0),N&&N.onReady&&(N==null||N.onReady(ue))}}))),!U&&!A&&te)};Vd.YouTubeEmbed=v5;(function(t){var e=Y&&Y.__createBinding||(Object.create?function(n,r,s,o){o===void 0&&(o=s);var a=Object.getOwnPropertyDescriptor(r,s);(!a||("get"in a?!r.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return r[s]}}),Object.defineProperty(n,o,a)}:function(n,r,s,o){o===void 0&&(o=s),n[o]=r[s]}),i=Y&&Y.__exportStar||function(n,r){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(r,s)&&e(r,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),i(Md,t),i(Fd,t),i(jd,t),i(Ud,t),i($d,t),i(zd,t),i(Vd,t),i(Ki,t),i(Pl,t)})(jT);function _5(){return z.useEffect(()=>{const t=document.createElement("script");t.src="https://platform.twitter.com/widgets.js",t.async=!0,document.body.appendChild(t)},[]),C.jsx(C.Fragment,{children:C.jsxs("div",{className:"bg-oc-space-blue",children:[C.jsx("div",{className:"banner"}),C.jsxs("div",{className:"w-10/12 m-auto",children:[C.jsxs("article",{className:"mb-8 flex flex-col gap-4",children:[C.jsx("h1",{className:"text-center py-8 px-8 text-4xl lg:text-5xl text-white leading-normal lg:leading-relaxed font-IM-Fell-English-SC",children:"Ciné Kela - where animation comes to life!"}),C.jsx("p",{className:"text-white",children:"Welcome to Ciné Kela, the premier Finnish film festival celebrating the vibrant world of animated indie films! Nestled in the heart of Finland's rich cinematic landscape, we are dedicated to showcasing the creativity and innovation of independent animators from around the globe."}),C.jsx("p",{className:"text-white",children:"At Ciné Kela, we believe that animation is a powerful medium that knows no boundaries. Our festival serves as a dynamic platform where storytellers, animators, and artists come together to share their unique visions, pushing the boundaries of animation as an art form. Whether you're a lifelong animation enthusiast or just discovering the magic of indie animated films, we invite you to join us on a cinematic journey like no other."}),C.jsx("p",{className:"text-white",children:"With a diverse selection of handpicked films, workshops, panel discussions, and opportunities to connect with fellow film lovers, Ciné Kela is a place where animation thrives, sparks creativity, and fosters a sense of community. We invite you to explore the enchanting worlds, thought-provoking narratives, and breathtaking visuals that await you at our festival."}),C.jsx("p",{className:"text-white",children:"Join us in celebrating the art of animation, where imagination knows no limits and storytelling takes flight. Welcome to Ciné Kela - where animation comes to life!"})]}),C.jsxs("div",{className:"flex flex-col ",children:[C.jsxs("div",{className:"flex flex-col lg:flex-row newsCard mb-8 rounded-md",children:[C.jsx("img",{src:"./catTest.png",className:"flex-grow w-full lg:w-1/2"}),C.jsxs("div",{className:"flex flex-col items-center justify-center flex-grow w-full lg:w-1/2",children:[C.jsx("h1",{className:"text-2xl my-4 text-center",children:"Celebrating the Art of Animation"}),C.jsx("p",{className:"p-8",children:"In the enchanting world of cinema, animation holds a special place. It's a realm where creativity knows no bounds, where stories come to life through the magic of imagery, and where imagination takes flight. Ciné Kela, the Finnish film festival dedicated to animated indie films, stands as a testament to this captivating art form..."}),C.jsx("button",{className:"newsbtn",children:"Read More"})]})]}),C.jsxs("div",{className:"flex flex-col-reverse lg:flex-row newsCard mb-8 rounded-md",children:[C.jsxs("div",{className:"flex flex-col items-center justify-center flex-grow w-full lg:w-1/2 p-8",children:[C.jsx("h1",{className:"text-2xl my-4 text-center",children:"Ciné Kela: Where Animation Becomes a Canvas for Creativity"}),C.jsx("p",{className:"p-8",children:"In the realm of cinematic artistry, animation stands as a unique canvas, allowing storytellers to paint their narratives with vivid imagination and boundless creativity. Ciné Kela, the Finnish film festival dedicated to animated indie films, is the place where these vibrant tales come to life, captivating audiences and celebrating the art of animation..."}),C.jsx("button",{className:"newsbtn",children:"Read More"})]}),C.jsx("img",{src:"./catTest.png",className:" w-full lg:w-1/2"})]})]}),C.jsxs("div",{className:"flex flex-col lg:flex-row justify-between mb-8",children:[C.jsx("div",{className:"mr-0 lg:mr-8 mb-8 rounded w-full lg:w-1/2 noScrollbar",children:C.jsx("a",{className:"twitter-timeline","data-lang":"en","data-width":"100%","data-height":"700px","data-theme":"light",href:"https://twitter.com/metropolia?ref_src=twsrc%5Etfw",children:"Tweets by Metropolia"})}),C.jsx("div",{className:"w-full lg:w-1/2 h-[700px] overflow-scroll rounded-md noScrollbar",children:C.jsx(jT.InstagramEmbed,{url:"https://www.instagram.com/p/CxsnuojNVzI/",maxWidth:320,hideCaption:!1,containerTagName:"div",protocol:"",injectScript:!0,onLoading:()=>{},onSuccess:()=>{},onAfterRender:()=>{},onFailure:()=>{}})})]})]})]})})}function b5(){const[t,e]=z.useState(!1),i=MT(),n=()=>{e(!t);const d=document.querySelector("body");t?d.style.overflow="visible":d.style.overflow="hidden"},r=()=>{t&&n(),i("/")},s=()=>{t&&n(),i("/stream")},o=()=>{t&&n(),i("/schedule")},a=()=>{t&&n(),i("/archive")},l=()=>{t&&n(),i("/tickets")},u=()=>{t&&n(),i("/info")};return C.jsxs("div",{className:"w-full h-full bg-oc-pastel-blue flex justify-between",children:[C.jsxs("div",{id:"logo",className:"h-full flex justify-center items-center gap-2 p-2 cursor-pointer",onClick:r,children:[C.jsx("img",{src:"./logo.png",className:"h-16"}),C.jsx("div",{className:"w-fit text-[2rem] font-bold text-white font-IM-Fell-English-SC",children:"Ciné Kela"})]}),C.jsxs("div",{className:"flex items-center",children:[C.jsxs("div",{className:"hidden h-full md:flex items-center gap-10 pr-4 text-white",children:[C.jsx("button",{className:"h-fit navBarBtn",onClick:r,children:"Home"}),C.jsx("button",{className:"h-fit navBarBtn",onClick:s,children:"Stream"}),C.jsx("button",{className:"h-fit navBarBtn",onClick:o,children:"Schedule"}),C.jsx("button",{className:"h-fit navBarBtn",onClick:a,children:"Archive"}),C.jsx("button",{className:"h-fit navBarBtn",onClick:l,children:"Tickets"}),C.jsx("button",{className:"h-fit navBarBtn",onClick:u,children:"Info"})]}),C.jsx("button",{className:"burger",onClick:n})]}),t&&C.jsxs("div",{className:"flex flex-col bg-oc-space-blue/[.95] h-screen w-screen absolute z-[100] py-8",children:[C.jsx("button",{className:"burgerClose",onClick:n}),C.jsx("button",{className:"h-fit burBarBtn",onClick:r,children:"Home"}),C.jsx("button",{className:"h-fit burBarBtn",onClick:s,children:"Stream"}),C.jsx("button",{className:"h-fit burBarBtn",onClick:o,children:"Schedule"}),C.jsx("button",{className:"h-fit burBarBtn",onClick:a,children:"Archive"}),C.jsx("button",{className:"h-fit burBarBtn",onClick:l,children:"Tickets"}),C.jsx("button",{className:"h-fit burBarBtn",onClick:u,children:"Info"})]})]})}function x5(){const t=MT(),e=()=>{t("/")},i=()=>{t("/stream")},n=()=>{t("/schedule")},r=()=>{t("/archive")},s=()=>{t("/tickets")},o=()=>{t("/info")};return C.jsx("div",{children:C.jsxs("footer",{className:"footerStyle text-center py-8 text-black",children:[C.jsx("h1",{className:"text-xl font-bold",children:"Ciné Kela @ 2023"}),C.jsxs("div",{className:"flex flex-col lg:flex-row justify-center lg:justify-around flex-grow items-center lg:items-start",children:[C.jsxs("section",{className:"footerSec",children:[C.jsx("h1",{className:"text-xl font-bold",children:"In collaboration"}),C.jsxs("div",{className:"py-4",children:[C.jsx("img",{src:"frogify2.svg",className:"h-auto max-w-[100px] m-auto"}),C.jsx("h3",{children:"Frogify"})]})]}),C.jsxs("section",{className:"footerSec flex flex-col",children:[C.jsx("h1",{className:"text-xl font-bold",children:"Sites"}),C.jsxs("div",{className:"flex flex-row py-4 m-auto",children:[C.jsxs("div",{className:"flex flex-col",children:[C.jsx("button",{className:"footerLink",onClick:e,children:"Home"}),C.jsx("button",{className:"footerLink",onClick:i,children:"Stream"}),C.jsx("button",{className:"footerLink",onClick:n,children:"Schedule"})]}),C.jsxs("div",{className:"flex flex-col",children:[C.jsx("button",{className:"footerLink",onClick:r,children:"Archive"}),C.jsx("button",{className:"footerLink",onClick:s,children:"Tickets"}),C.jsx("button",{className:"footerLink",onClick:o,children:"Info"})]})]})]}),C.jsxs("section",{className:"footerSec",children:[C.jsx("h1",{className:"text-xl font-bold",children:"Contact Us"}),C.jsxs("ul",{className:"py-4",children:[C.jsx("li",{children:"cinekela@metropolia.fi"}),C.jsx("li",{children:C.jsx("button",{onClick:o,className:"footerLink",children:"Through form"})})]})]}),C.jsxs("section",{className:"flex flex-col footerSec",children:[C.jsx("h1",{className:"text-xl font-bold",children:"Made by"}),C.jsx("p",{children:"Lauri Heikkinen"}),C.jsx("p",{children:"Dominie Sihvola"}),C.jsx("p",{children:"Sara Oksanen"}),C.jsx("a",{className:"footerLink",href:"https://github.com/LauriHe/cinema-blue",target:"_blank",rel:"noreferrer noopener",children:"GitHub"})]})]})]})})}function T5(){const t=d0();return C.jsxs("div",{className:"flex flex-col h-[100vh]",children:[C.jsx("nav",{className:"h-20 flex-shrink-0",children:C.jsx(b5,{})}),C.jsx("main",{className:t.pathname==="/stream"?"bg-oc-space-blue":"bg-oc-space-blue h-fit",children:C.jsx(bP,{})}),t.pathname!=="/stream"&&C.jsx("footer",{className:"flex-shrink-0",children:C.jsx(x5,{})})]})}var Sa;typeof window<"u"?Sa=window:typeof Y<"u"?Sa=Y:typeof self<"u"?Sa=self:Sa={};var qd=Sa;const O=fi(qd),w5={},S5=Object.freeze(Object.defineProperty({__proto__:null,default:w5},Symbol.toStringTag,{value:"Module"})),E5=gd(S5);var f1=typeof Y<"u"?Y:typeof window<"u"?window:{},C5=E5,Ea;typeof document<"u"?Ea=document:(Ea=f1["__GLOBAL_DOCUMENT_CACHE@4"],Ea||(Ea=f1["__GLOBAL_DOCUMENT_CACHE@4"]=C5));var ZT=Ea;const K=fi(ZT);var Am={exports:{}};(function(t,e){function i(l){if(l&&typeof l=="object"){var u=l.which||l.keyCode||l.charCode;u&&(l=u)}if(typeof l=="number")return o[l];var d=String(l),p=n[d.toLowerCase()];if(p)return p;var p=r[d.toLowerCase()];if(p)return p;if(d.length===1)return d.charCodeAt(0)}i.isEventKey=function(u,d){if(u&&typeof u=="object"){var p=u.which||u.keyCode||u.charCode;if(p==null)return!1;if(typeof d=="string"){var y=n[d.toLowerCase()];if(y)return y===p;var y=r[d.toLowerCase()];if(y)return y===p}else if(typeof d=="number")return d===p;return!1}},e=t.exports=i;var n=e.code=e.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},r=e.aliases={windows:91,"⇧":16,"⌥":18,"⌃":17,"⌘":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};/*!
 * Programatically add the following
 */for(s=97;s<123;s++)n[String.fromCharCode(s)]=s-32;for(var s=48;s<58;s++)n[s-48]=s;for(s=1;s<13;s++)n["f"+s]=s+111;for(s=0;s<10;s++)n["numpad "+s]=s+96;var o=e.names=e.title={};for(s in n)o[n[s]]=s;for(var a in r)n[a]=r[a]})(Am,Am.exports);var k5=Am.exports;const pe=fi(k5);var D5=A5;function A5(t,e){var i,n=null;try{i=JSON.parse(t,e)}catch(r){n=r}return[n,i]}const P5=fi(D5);var h0={exports:{}};function Un(){return Un=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},Un.apply(this,arguments)}const I5=Object.freeze(Object.defineProperty({__proto__:null,default:Un},Symbol.toStringTag,{value:"Module"})),O5=gd(I5);var L5=R5,N5=Object.prototype.toString;function R5(t){if(!t)return!1;var e=N5.call(t);return e==="[object Function]"||typeof t=="function"&&e!=="[object RegExp]"||typeof window<"u"&&(t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt)}var M5=qd,B5=function(e,i){return i===void 0&&(i=!1),function(n,r,s){if(n){e(n);return}if(r.statusCode>=400&&r.statusCode<=599){var o=s;if(i)if(M5.TextDecoder){var a=F5(r.headers&&r.headers["content-type"]);try{o=new TextDecoder(a).decode(s)}catch{}}else o=String.fromCharCode.apply(null,new Uint8Array(s));e({cause:o});return}e(null,s)}};function F5(t){return t===void 0&&(t=""),t.toLowerCase().split(";").reduce(function(e,i){var n=i.split("="),r=n[0],s=n[1];return r.trim()==="charset"?s.trim():e},"utf-8")}var j5=B5,ew=qd,U5=O5,$5=L5;hn.httpHandler=j5;/**
 * @license
 * slighly modified parse-headers 2.0.2 <https://github.com/kesla/parse-headers/>
 * Copyright (c) 2014 David Björklund
 * Available under the MIT license
 * <https://github.com/kesla/parse-headers/blob/master/LICENCE>
 */var z5=function(e){var i={};return e&&e.trim().split(`
`).forEach(function(n){var r=n.indexOf(":"),s=n.slice(0,r).trim().toLowerCase(),o=n.slice(r+1).trim();typeof i[s]>"u"?i[s]=o:Array.isArray(i[s])?i[s].push(o):i[s]=[i[s],o]}),i};h0.exports=hn;h0.exports.default=hn;hn.XMLHttpRequest=ew.XMLHttpRequest||W5;hn.XDomainRequest="withCredentials"in new hn.XMLHttpRequest?hn.XMLHttpRequest:ew.XDomainRequest;V5(["get","put","post","patch","head","delete"],function(t){hn[t==="delete"?"del":t]=function(e,i,n){return i=tw(e,i,n),i.method=t.toUpperCase(),iw(i)}});function V5(t,e){for(var i=0;i<t.length;i++)e(t[i])}function H5(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function tw(t,e,i){var n=t;return $5(e)?(i=e,typeof t=="string"&&(n={uri:t})):n=U5({},e,{uri:t}),n.callback=i,n}function hn(t,e,i){return e=tw(t,e,i),iw(e)}function iw(t){if(typeof t.callback>"u")throw new Error("callback argument missing");var e=!1,i=function(S,E,A){e||(e=!0,t.callback(S,E,A))};function n(){a.readyState===4&&setTimeout(o,0)}function r(){var b=void 0;if(a.response?b=a.response:b=a.responseText||q5(a),w)try{b=JSON.parse(b)}catch{}return b}function s(b){return clearTimeout(k),b instanceof Error||(b=new Error(""+(b||"Unknown XMLHttpRequest Error"))),b.statusCode=0,i(b,x)}function o(){if(!u){var b;clearTimeout(k),t.useXDR&&a.status===void 0?b=200:b=a.status===1223?204:a.status;var S=x,E=null;return b!==0?(S={body:r(),statusCode:b,method:p,headers:{},url:d,rawRequest:a},a.getAllResponseHeaders&&(S.headers=z5(a.getAllResponseHeaders()))):E=new Error("Internal XMLHttpRequest Error"),i(E,S,S.body)}}var a=t.xhr||null;a||(t.cors||t.useXDR?a=new hn.XDomainRequest:a=new hn.XMLHttpRequest);var l,u,d=a.url=t.uri||t.url,p=a.method=t.method||"GET",y=t.body||t.data,T=a.headers=t.headers||{},v=!!t.sync,w=!1,k,x={body:void 0,headers:{},statusCode:0,method:p,url:d,rawRequest:a};if("json"in t&&t.json!==!1&&(w=!0,T.accept||T.Accept||(T.Accept="application/json"),p!=="GET"&&p!=="HEAD"&&(T["content-type"]||T["Content-Type"]||(T["Content-Type"]="application/json"),y=JSON.stringify(t.json===!0?y:t.json))),a.onreadystatechange=n,a.onload=o,a.onerror=s,a.onprogress=function(){},a.onabort=function(){u=!0},a.ontimeout=s,a.open(p,d,!v,t.username,t.password),v||(a.withCredentials=!!t.withCredentials),!v&&t.timeout>0&&(k=setTimeout(function(){if(!u){u=!0,a.abort("timeout");var b=new Error("XMLHttpRequest timeout");b.code="ETIMEDOUT",s(b)}},t.timeout)),a.setRequestHeader)for(l in T)T.hasOwnProperty(l)&&a.setRequestHeader(l,T[l]);else if(t.headers&&!H5(t.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in t&&(a.responseType=t.responseType),"beforeSend"in t&&typeof t.beforeSend=="function"&&t.beforeSend(a),a.send(y||null),a}function q5(t){try{if(t.responseType==="document")return t.responseXML;var e=t.responseXML&&t.responseXML.documentElement.nodeName==="parsererror";if(t.responseType===""&&!e)return t.responseXML}catch{}return null}function W5(){}var G5=h0.exports;const nw=fi(G5);var rw={exports:{}},p1=ZT,f0=Object.create||function(){function t(){}return function(e){if(arguments.length!==1)throw new Error("Object.create shim only accepts one parameter.");return t.prototype=e,new t}}();function oi(t,e){this.name="ParsingError",this.code=t.code,this.message=e||t.message}oi.prototype=f0(Error.prototype);oi.prototype.constructor=oi;oi.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}};function p0(t){function e(n,r,s,o){return(n|0)*3600+(r|0)*60+(s|0)+(o|0)/1e3}var i=t.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return i?i[3]?e(i[1],i[2],i[3].replace(":",""),i[4]):i[1]>59?e(i[1],i[2],0,i[4]):e(0,i[1],i[2],i[4]):null}function Ua(){this.values=f0(null)}Ua.prototype={set:function(t,e){!this.get(t)&&e!==""&&(this.values[t]=e)},get:function(t,e,i){return i?this.has(t)?this.values[t]:e[i]:this.has(t)?this.values[t]:e},has:function(t){return t in this.values},alt:function(t,e,i){for(var n=0;n<i.length;++n)if(e===i[n]){this.set(t,e);break}},integer:function(t,e){/^-?\d+$/.test(e)&&this.set(t,parseInt(e,10))},percent:function(t,e){return e.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(e=parseFloat(e),e>=0&&e<=100)?(this.set(t,e),!0):!1}};function Ca(t,e,i,n){var r=n?t.split(n):[t];for(var s in r)if(typeof r[s]=="string"){var o=r[s].split(i);if(o.length===2){var a=o[0].trim(),l=o[1].trim();e(a,l)}}}function X5(t,e,i){var n=t;function r(){var a=p0(t);if(a===null)throw new oi(oi.Errors.BadTimeStamp,"Malformed timestamp: "+n);return t=t.replace(/^[^\sa-zA-Z-]+/,""),a}function s(a,l){var u=new Ua;Ca(a,function(d,p){switch(d){case"region":for(var y=i.length-1;y>=0;y--)if(i[y].id===p){u.set(d,i[y].region);break}break;case"vertical":u.alt(d,p,["rl","lr"]);break;case"line":var T=p.split(","),v=T[0];u.integer(d,v),u.percent(d,v)&&u.set("snapToLines",!1),u.alt(d,v,["auto"]),T.length===2&&u.alt("lineAlign",T[1],["start","center","end"]);break;case"position":T=p.split(","),u.percent(d,T[0]),T.length===2&&u.alt("positionAlign",T[1],["start","center","end"]);break;case"size":u.percent(d,p);break;case"align":u.alt(d,p,["start","center","end","left","right"]);break}},/:/,/\s/),l.region=u.get("region",null),l.vertical=u.get("vertical","");try{l.line=u.get("line","auto")}catch{}l.lineAlign=u.get("lineAlign","start"),l.snapToLines=u.get("snapToLines",!0),l.size=u.get("size",100);try{l.align=u.get("align","center")}catch{l.align=u.get("align","middle")}try{l.position=u.get("position","auto")}catch{l.position=u.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},l.align)}l.positionAlign=u.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},l.align)}function o(){t=t.replace(/^\s+/,"")}if(o(),e.startTime=r(),o(),t.substr(0,3)!=="-->")throw new oi(oi.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '-->'): "+n);t=t.substr(3),o(),e.endTime=r(),o(),s(t,e)}var Nf=p1.createElement&&p1.createElement("textarea"),K5={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},m1={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},Y5={v:"title",lang:"lang"},g1={rt:"ruby"};function sw(t,e){function i(){if(!e)return null;function v(k){return e=e.substr(k.length),k}var w=e.match(/^([^<]*)(<[^>]*>?)?/);return v(w[1]?w[1]:w[2])}function n(v){return Nf.innerHTML=v,v=Nf.textContent,Nf.textContent="",v}function r(v,w){return!g1[w.localName]||g1[w.localName]===v.localName}function s(v,w){var k=K5[v];if(!k)return null;var x=t.document.createElement(k),b=Y5[v];return b&&w&&(x[b]=w.trim()),x}for(var o=t.document.createElement("div"),a=o,l,u=[];(l=i())!==null;){if(l[0]==="<"){if(l[1]==="/"){u.length&&u[u.length-1]===l.substr(2).replace(">","")&&(u.pop(),a=a.parentNode);continue}var d=p0(l.substr(1,l.length-2)),p;if(d){p=t.document.createProcessingInstruction("timestamp",d),a.appendChild(p);continue}var y=l.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!y||(p=s(y[1],y[3]),!p)||!r(a,p))continue;if(y[2]){var T=y[2].split(".");T.forEach(function(v){var w=/^bg_/.test(v),k=w?v.slice(3):v;if(m1.hasOwnProperty(k)){var x=w?"background-color":"color",b=m1[k];p.style[x]=b}}),p.className=T.join(" ")}u.push(y[1]),a.appendChild(p),a=p;continue}a.appendChild(t.document.createTextNode(n(l)))}return o}var y1=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function Q5(t){for(var e=0;e<y1.length;e++){var i=y1[e];if(t>=i[0]&&t<=i[1])return!0}return!1}function J5(t){var e=[],i="",n;if(!t||!t.childNodes)return"ltr";function r(a,l){for(var u=l.childNodes.length-1;u>=0;u--)a.push(l.childNodes[u])}function s(a){if(!a||!a.length)return null;var l=a.pop(),u=l.textContent||l.innerText;if(u){var d=u.match(/^.*(\n|\r)/);return d?(a.length=0,d[0]):u}if(l.tagName==="ruby")return s(a);if(l.childNodes)return r(a,l),s(a)}for(r(e,t);i=s(e);)for(var o=0;o<i.length;o++)if(n=i.charCodeAt(o),Q5(n))return"rtl";return"ltr"}function Z5(t){if(typeof t.line=="number"&&(t.snapToLines||t.line>=0&&t.line<=100))return t.line;if(!t.track||!t.track.textTrackList||!t.track.textTrackList.mediaElement)return-1;for(var e=t.track,i=e.textTrackList,n=0,r=0;r<i.length&&i[r]!==e;r++)i[r].mode==="showing"&&n++;return++n*-1}function Wd(){}Wd.prototype.applyStyles=function(t,e){e=e||this.div;for(var i in t)t.hasOwnProperty(i)&&(e.style[i]=t[i])};Wd.prototype.formatStyle=function(t,e){return t===0?0:t+e};function zc(t,e,i){Wd.call(this),this.cue=e,this.cueDiv=sw(t,e.text);var n={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:e.vertical===""?"horizontal-tb":e.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(n,this.cueDiv),this.div=t.document.createElement("div"),n={direction:J5(this.cueDiv),writingMode:e.vertical===""?"horizontal-tb":e.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:e.align==="middle"?"center":e.align,font:i.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(n),this.div.appendChild(this.cueDiv);var r=0;switch(e.positionAlign){case"start":case"line-left":r=e.position;break;case"center":r=e.position-e.size/2;break;case"end":case"line-right":r=e.position-e.size;break}e.vertical===""?this.applyStyles({left:this.formatStyle(r,"%"),width:this.formatStyle(e.size,"%")}):this.applyStyles({top:this.formatStyle(r,"%"),height:this.formatStyle(e.size,"%")}),this.move=function(s){this.applyStyles({top:this.formatStyle(s.top,"px"),bottom:this.formatStyle(s.bottom,"px"),left:this.formatStyle(s.left,"px"),right:this.formatStyle(s.right,"px"),height:this.formatStyle(s.height,"px"),width:this.formatStyle(s.width,"px")})}}zc.prototype=f0(Wd.prototype);zc.prototype.constructor=zc;function Nt(t){var e,i,n,r;if(t.div){i=t.div.offsetHeight,n=t.div.offsetWidth,r=t.div.offsetTop;var s=(s=t.div.childNodes)&&(s=s[0])&&s.getClientRects&&s.getClientRects();t=t.div.getBoundingClientRect(),e=s?Math.max(s[0]&&s[0].height||0,t.height/s.length):0}this.left=t.left,this.right=t.right,this.top=t.top||r,this.height=t.height||i,this.bottom=t.bottom||r+(t.height||i),this.width=t.width||n,this.lineHeight=e!==void 0?e:t.lineHeight}Nt.prototype.move=function(t,e){switch(e=e!==void 0?e:this.lineHeight,t){case"+x":this.left+=e,this.right+=e;break;case"-x":this.left-=e,this.right-=e;break;case"+y":this.top+=e,this.bottom+=e;break;case"-y":this.top-=e,this.bottom-=e;break}};Nt.prototype.overlaps=function(t){return this.left<t.right&&this.right>t.left&&this.top<t.bottom&&this.bottom>t.top};Nt.prototype.overlapsAny=function(t){for(var e=0;e<t.length;e++)if(this.overlaps(t[e]))return!0;return!1};Nt.prototype.within=function(t){return this.top>=t.top&&this.bottom<=t.bottom&&this.left>=t.left&&this.right<=t.right};Nt.prototype.overlapsOppositeAxis=function(t,e){switch(e){case"+x":return this.left<t.left;case"-x":return this.right>t.right;case"+y":return this.top<t.top;case"-y":return this.bottom>t.bottom}};Nt.prototype.intersectPercentage=function(t){var e=Math.max(0,Math.min(this.right,t.right)-Math.max(this.left,t.left)),i=Math.max(0,Math.min(this.bottom,t.bottom)-Math.max(this.top,t.top)),n=e*i;return n/(this.height*this.width)};Nt.prototype.toCSSCompatValues=function(t){return{top:this.top-t.top,bottom:t.bottom-this.bottom,left:this.left-t.left,right:t.right-this.right,height:this.height,width:this.width}};Nt.getSimpleBoxPosition=function(t){var e=t.div?t.div.offsetHeight:t.tagName?t.offsetHeight:0,i=t.div?t.div.offsetWidth:t.tagName?t.offsetWidth:0,n=t.div?t.div.offsetTop:t.tagName?t.offsetTop:0;t=t.div?t.div.getBoundingClientRect():t.tagName?t.getBoundingClientRect():t;var r={left:t.left,right:t.right,top:t.top||n,height:t.height||e,bottom:t.bottom||n+(t.height||e),width:t.width||i};return r};function e8(t,e,i,n){function r(k,x){for(var b,S=new Nt(k),E=1,A=0;A<x.length;A++){for(;k.overlapsOppositeAxis(i,x[A])||k.within(i)&&k.overlapsAny(n);)k.move(x[A]);if(k.within(i))return k;var N=k.intersectPercentage(i);E>N&&(b=new Nt(k),E=N),k=new Nt(S)}return b||S}var s=new Nt(e),o=e.cue,a=Z5(o),l=[];if(o.snapToLines){var u;switch(o.vertical){case"":l=["+y","-y"],u="height";break;case"rl":l=["+x","-x"],u="width";break;case"lr":l=["-x","+x"],u="width";break}var d=s.lineHeight,p=d*Math.round(a),y=i[u]+d,T=l[0];Math.abs(p)>y&&(p=p<0?-1:1,p*=Math.ceil(y/d)*d),a<0&&(p+=o.vertical===""?i.height:i.width,l=l.reverse()),s.move(T,p)}else{var v=s.lineHeight/i.height*100;switch(o.lineAlign){case"center":a-=v/2;break;case"end":a-=v;break}switch(o.vertical){case"":e.applyStyles({top:e.formatStyle(a,"%")});break;case"rl":e.applyStyles({left:e.formatStyle(a,"%")});break;case"lr":e.applyStyles({right:e.formatStyle(a,"%")});break}l=["+y","-x","+x","-y"],s=new Nt(e)}var w=r(s,l);e.move(w.toCSSCompatValues(i))}function No(){}No.StringDecoder=function(){return{decode:function(t){if(!t)return"";if(typeof t!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))}}};No.convertCueToDOMTree=function(t,e){return!t||!e?null:sw(t,e)};var t8=.05,i8="sans-serif",n8="1.5%";No.processCues=function(t,e,i){if(!t||!e||!i)return null;for(;i.firstChild;)i.removeChild(i.firstChild);var n=t.document.createElement("div");n.style.position="absolute",n.style.left="0",n.style.right="0",n.style.top="0",n.style.bottom="0",n.style.margin=n8,i.appendChild(n);function r(d){for(var p=0;p<d.length;p++)if(d[p].hasBeenReset||!d[p].displayState)return!0;return!1}if(!r(e)){for(var s=0;s<e.length;s++)n.appendChild(e[s].displayState);return}var o=[],a=Nt.getSimpleBoxPosition(n),l=Math.round(a.height*t8*100)/100,u={font:l+"px "+i8};(function(){for(var d,p,y=0;y<e.length;y++)p=e[y],d=new zc(t,p,u),n.appendChild(d.div),e8(t,d,a,o),p.displayState=d.div,o.push(Nt.getSimpleBoxPosition(d))})()};No.Parser=function(t,e,i){i||(i=e,e={}),e||(e={}),this.window=t,this.vttjs=e,this.state="INITIAL",this.buffer="",this.decoder=i||new TextDecoder("utf8"),this.regionList=[]};No.Parser.prototype={reportOrThrowError:function(t){if(t instanceof oi)this.onparsingerror&&this.onparsingerror(t);else throw t},parse:function(t){var e=this;t&&(e.buffer+=e.decoder.decode(t,{stream:!0}));function i(){for(var d=e.buffer,p=0;p<d.length&&d[p]!=="\r"&&d[p]!==`
`;)++p;var y=d.substr(0,p);return d[p]==="\r"&&++p,d[p]===`
`&&++p,e.buffer=d.substr(p),y}function n(d){var p=new Ua;if(Ca(d,function(T,v){switch(T){case"id":p.set(T,v);break;case"width":p.percent(T,v);break;case"lines":p.integer(T,v);break;case"regionanchor":case"viewportanchor":var w=v.split(",");if(w.length!==2)break;var k=new Ua;if(k.percent("x",w[0]),k.percent("y",w[1]),!k.has("x")||!k.has("y"))break;p.set(T+"X",k.get("x")),p.set(T+"Y",k.get("y"));break;case"scroll":p.alt(T,v,["up"]);break}},/=/,/\s/),p.has("id")){var y=new(e.vttjs.VTTRegion||e.window.VTTRegion);y.width=p.get("width",100),y.lines=p.get("lines",3),y.regionAnchorX=p.get("regionanchorX",0),y.regionAnchorY=p.get("regionanchorY",100),y.viewportAnchorX=p.get("viewportanchorX",0),y.viewportAnchorY=p.get("viewportanchorY",100),y.scroll=p.get("scroll",""),e.onregion&&e.onregion(y),e.regionList.push({id:p.get("id"),region:y})}}function r(d){var p=new Ua;Ca(d,function(y,T){switch(y){case"MPEGT":p.integer(y+"S",T);break;case"LOCA":p.set(y+"L",p0(T));break}},/[^\d]:/,/,/),e.ontimestampmap&&e.ontimestampmap({MPEGTS:p.get("MPEGTS"),LOCAL:p.get("LOCAL")})}function s(d){d.match(/X-TIMESTAMP-MAP/)?Ca(d,function(p,y){switch(p){case"X-TIMESTAMP-MAP":r(y);break}},/=/):Ca(d,function(p,y){switch(p){case"Region":n(y);break}},/:/)}try{var o;if(e.state==="INITIAL"){if(!/\r\n|\n/.test(e.buffer))return this;o=i();var a=o.match(/^WEBVTT([ \t].*)?$/);if(!a||!a[0])throw new oi(oi.Errors.BadSignature);e.state="HEADER"}for(var l=!1;e.buffer;){if(!/\r\n|\n/.test(e.buffer))return this;switch(l?l=!1:o=i(),e.state){case"HEADER":/:/.test(o)?s(o):o||(e.state="ID");continue;case"NOTE":o||(e.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(o)){e.state="NOTE";break}if(!o)continue;e.cue=new(e.vttjs.VTTCue||e.window.VTTCue)(0,0,"");try{e.cue.align="center"}catch{e.cue.align="middle"}if(e.state="CUE",o.indexOf("-->")===-1){e.cue.id=o;continue}case"CUE":try{X5(o,e.cue,e.regionList)}catch(d){e.reportOrThrowError(d),e.cue=null,e.state="BADCUE";continue}e.state="CUETEXT";continue;case"CUETEXT":var u=o.indexOf("-->")!==-1;if(!o||u&&(l=!0)){e.oncue&&e.oncue(e.cue),e.cue=null,e.state="ID";continue}e.cue.text&&(e.cue.text+=`
`),e.cue.text+=o.replace(/\u2028/g,`
`).replace(/u2029/g,`
`);continue;case"BADCUE":o||(e.state="ID");continue}}}catch(d){e.reportOrThrowError(d),e.state==="CUETEXT"&&e.cue&&e.oncue&&e.oncue(e.cue),e.cue=null,e.state=e.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this},flush:function(){var t=this;try{if(t.buffer+=t.decoder.decode(),(t.cue||t.state==="HEADER")&&(t.buffer+=`

`,t.parse()),t.state==="INITIAL")throw new oi(oi.Errors.BadSignature)}catch(e){t.reportOrThrowError(e)}return t.onflush&&t.onflush(),this}};var r8=No,s8="auto",o8={"":1,lr:1,rl:1},a8={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function l8(t){if(typeof t!="string")return!1;var e=o8[t.toLowerCase()];return e?t.toLowerCase():!1}function Rf(t){if(typeof t!="string")return!1;var e=a8[t.toLowerCase()];return e?t.toLowerCase():!1}function ow(t,e,i){this.hasBeenReset=!1;var n="",r=!1,s=t,o=e,a=i,l=null,u="",d=!0,p="auto",y="start",T="auto",v="auto",w=100,k="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return n},set:function(x){n=""+x}},pauseOnExit:{enumerable:!0,get:function(){return r},set:function(x){r=!!x}},startTime:{enumerable:!0,get:function(){return s},set:function(x){if(typeof x!="number")throw new TypeError("Start time must be set to a number.");s=x,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return o},set:function(x){if(typeof x!="number")throw new TypeError("End time must be set to a number.");o=x,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return a},set:function(x){a=""+x,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return l},set:function(x){l=x,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return u},set:function(x){var b=l8(x);if(b===!1)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");u=b,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return d},set:function(x){d=!!x,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return p},set:function(x){if(typeof x!="number"&&x!==s8)throw new SyntaxError("Line: an invalid number or illegal string was specified.");p=x,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return y},set:function(x){var b=Rf(x);b?(y=b,this.hasBeenReset=!0):console.warn("lineAlign: an invalid or illegal string was specified.")}},position:{enumerable:!0,get:function(){return T},set:function(x){if(x<0||x>100)throw new Error("Position must be between 0 and 100.");T=x,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return v},set:function(x){var b=Rf(x);b?(v=b,this.hasBeenReset=!0):console.warn("positionAlign: an invalid or illegal string was specified.")}},size:{enumerable:!0,get:function(){return w},set:function(x){if(x<0||x>100)throw new Error("Size must be between 0 and 100.");w=x,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return k},set:function(x){var b=Rf(x);if(!b)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");k=b,this.hasBeenReset=!0}}}),this.displayState=void 0}ow.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)};var u8=ow,c8={"":!0,up:!0};function d8(t){if(typeof t!="string")return!1;var e=c8[t.toLowerCase()];return e?t.toLowerCase():!1}function da(t){return typeof t=="number"&&t>=0&&t<=100}function h8(){var t=100,e=3,i=0,n=100,r=0,s=100,o="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return t},set:function(a){if(!da(a))throw new Error("Width must be between 0 and 100.");t=a}},lines:{enumerable:!0,get:function(){return e},set:function(a){if(typeof a!="number")throw new TypeError("Lines must be set to a number.");e=a}},regionAnchorY:{enumerable:!0,get:function(){return n},set:function(a){if(!da(a))throw new Error("RegionAnchorX must be between 0 and 100.");n=a}},regionAnchorX:{enumerable:!0,get:function(){return i},set:function(a){if(!da(a))throw new Error("RegionAnchorY must be between 0 and 100.");i=a}},viewportAnchorY:{enumerable:!0,get:function(){return s},set:function(a){if(!da(a))throw new Error("ViewportAnchorY must be between 0 and 100.");s=a}},viewportAnchorX:{enumerable:!0,get:function(){return r},set:function(a){if(!da(a))throw new Error("ViewportAnchorX must be between 0 and 100.");r=a}},scroll:{enumerable:!0,get:function(){return o},set:function(a){var l=d8(a);l===!1?console.warn("Scroll: an invalid or illegal string was specified."):o=l}}})}var f8=h8,$n=qd,ls=rw.exports={WebVTT:r8,VTTCue:u8,VTTRegion:f8};$n.vttjs=ls;$n.WebVTT=ls.WebVTT;var p8=ls.VTTCue,m8=ls.VTTRegion,g8=$n.VTTCue,y8=$n.VTTRegion;ls.shim=function(){$n.VTTCue=p8,$n.VTTRegion=m8};ls.restore=function(){$n.VTTCue=g8,$n.VTTRegion=y8};$n.VTTCue||ls.shim();var v8=rw.exports;const v1=fi(v8);var aw={exports:{}};(function(t,e){(function(i){var n=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,r=/^(?=([^\/?#]*))\1([^]*)$/,s=/(?:\/|^)\.(?=\/)/g,o=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,a={buildAbsoluteURL:function(l,u,d){if(d=d||{},l=l.trim(),u=u.trim(),!u){if(!d.alwaysNormalize)return l;var p=a.parseURL(l);if(!p)throw new Error("Error trying to parse base URL.");return p.path=a.normalizePath(p.path),a.buildURLFromParts(p)}var y=a.parseURL(u);if(!y)throw new Error("Error trying to parse relative URL.");if(y.scheme)return d.alwaysNormalize?(y.path=a.normalizePath(y.path),a.buildURLFromParts(y)):u;var T=a.parseURL(l);if(!T)throw new Error("Error trying to parse base URL.");if(!T.netLoc&&T.path&&T.path[0]!=="/"){var v=r.exec(T.path);T.netLoc=v[1],T.path=v[2]}T.netLoc&&!T.path&&(T.path="/");var w={scheme:T.scheme,netLoc:y.netLoc,path:null,params:y.params,query:y.query,fragment:y.fragment};if(!y.netLoc&&(w.netLoc=T.netLoc,y.path[0]!=="/"))if(!y.path)w.path=T.path,y.params||(w.params=T.params,y.query||(w.query=T.query));else{var k=T.path,x=k.substring(0,k.lastIndexOf("/")+1)+y.path;w.path=a.normalizePath(x)}return w.path===null&&(w.path=d.alwaysNormalize?a.normalizePath(y.path):y.path),a.buildURLFromParts(w)},parseURL:function(l){var u=n.exec(l);return u?{scheme:u[1]||"",netLoc:u[2]||"",path:u[3]||"",params:u[4]||"",query:u[5]||"",fragment:u[6]||""}:null},normalizePath:function(l){for(l=l.split("").reverse().join("").replace(s,"");l.length!==(l=l.replace(o,"")).length;);return l.split("").reverse().join("")},buildURLFromParts:function(l){return l.scheme+l.netLoc+l.path+l.params+l.query+l.fragment}};t.exports=a})()})(aw);var _8=aw.exports;const Vc=fi(_8);var _1="http://example.com",b8=function(e,i){if(/^[a-z]+:/i.test(i))return i;/^data:/.test(e)&&(e=O.location&&O.location.href||"");var n=typeof O.URL=="function",r=/^\/\//.test(e),s=!O.location&&!/\/\//i.test(e);if(n?e=new O.URL(e,O.location||_1):/\/\//i.test(e)||(e=Vc.buildAbsoluteURL(O.location&&O.location.href||"",e)),n){var o=new URL(i,e);return s?o.href.slice(_1.length):r?o.href.slice(o.protocol.length):o.href}return Vc.buildAbsoluteURL(e,i)},m0=function(){function t(){this.listeners={}}var e=t.prototype;return e.on=function(n,r){this.listeners[n]||(this.listeners[n]=[]),this.listeners[n].push(r)},e.off=function(n,r){if(!this.listeners[n])return!1;var s=this.listeners[n].indexOf(r);return this.listeners[n]=this.listeners[n].slice(0),this.listeners[n].splice(s,1),s>-1},e.trigger=function(n){var r=this.listeners[n];if(r)if(arguments.length===2)for(var s=r.length,o=0;o<s;++o)r[o].call(this,arguments[1]);else for(var a=Array.prototype.slice.call(arguments,1),l=r.length,u=0;u<l;++u)r[u].apply(this,a)},e.dispose=function(){this.listeners={}},e.pipe=function(n){this.on("data",function(r){n.push(r)})},t}(),x8=function(e){return O.atob?O.atob(e):Buffer.from(e,"base64").toString("binary")};function T8(t){for(var e=x8(t),i=new Uint8Array(e.length),n=0;n<e.length;n++)i[n]=e.charCodeAt(n);return i}/*! @name m3u8-parser @version 6.2.0 @license Apache-2.0 */class w8 extends m0{constructor(){super(),this.buffer=""}push(e){let i;for(this.buffer+=e,i=this.buffer.indexOf(`
`);i>-1;i=this.buffer.indexOf(`
`))this.trigger("data",this.buffer.substring(0,i)),this.buffer=this.buffer.substring(i+1)}}const S8=String.fromCharCode(9),Mf=function(t){const e=/([0-9.]*)?@?([0-9.]*)?/.exec(t||""),i={};return e[1]&&(i.length=parseInt(e[1],10)),e[2]&&(i.offset=parseInt(e[2],10)),i},E8=function(){const t="[^=]*",e='"[^"]*"|[^,]*',i="(?:"+t+")=(?:"+e+")";return new RegExp("(?:^|,)("+i+")")},yi=function(t){const e={};if(!t)return e;const i=t.split(E8());let n=i.length,r;for(;n--;)i[n]!==""&&(r=/([^=]*)=(.*)/.exec(i[n]).slice(1),r[0]=r[0].replace(/^\s+|\s+$/g,""),r[1]=r[1].replace(/^\s+|\s+$/g,""),r[1]=r[1].replace(/^['"](.*)['"]$/g,"$1"),e[r[0]]=r[1]);return e};class C8 extends m0{constructor(){super(),this.customParsers=[],this.tagMappers=[]}push(e){let i,n;if(e=e.trim(),e.length===0)return;if(e[0]!=="#"){this.trigger("data",{type:"uri",uri:e});return}this.tagMappers.reduce((s,o)=>{const a=o(e);return a===e?s:s.concat([a])},[e]).forEach(s=>{for(let o=0;o<this.customParsers.length;o++)if(this.customParsers[o].call(this,s))return;if(s.indexOf("#EXT")!==0){this.trigger("data",{type:"comment",text:s.slice(1)});return}if(s=s.replace("\r",""),i=/^#EXTM3U/.exec(s),i){this.trigger("data",{type:"tag",tagType:"m3u"});return}if(i=/^#EXTINF:([0-9\.]*)?,?(.*)?$/.exec(s),i){n={type:"tag",tagType:"inf"},i[1]&&(n.duration=parseFloat(i[1])),i[2]&&(n.title=i[2]),this.trigger("data",n);return}if(i=/^#EXT-X-TARGETDURATION:([0-9.]*)?/.exec(s),i){n={type:"tag",tagType:"targetduration"},i[1]&&(n.duration=parseInt(i[1],10)),this.trigger("data",n);return}if(i=/^#EXT-X-VERSION:([0-9.]*)?/.exec(s),i){n={type:"tag",tagType:"version"},i[1]&&(n.version=parseInt(i[1],10)),this.trigger("data",n);return}if(i=/^#EXT-X-MEDIA-SEQUENCE:(\-?[0-9.]*)?/.exec(s),i){n={type:"tag",tagType:"media-sequence"},i[1]&&(n.number=parseInt(i[1],10)),this.trigger("data",n);return}if(i=/^#EXT-X-DISCONTINUITY-SEQUENCE:(\-?[0-9.]*)?/.exec(s),i){n={type:"tag",tagType:"discontinuity-sequence"},i[1]&&(n.number=parseInt(i[1],10)),this.trigger("data",n);return}if(i=/^#EXT-X-PLAYLIST-TYPE:(.*)?$/.exec(s),i){n={type:"tag",tagType:"playlist-type"},i[1]&&(n.playlistType=i[1]),this.trigger("data",n);return}if(i=/^#EXT-X-BYTERANGE:(.*)?$/.exec(s),i){n=Un(Mf(i[1]),{type:"tag",tagType:"byterange"}),this.trigger("data",n);return}if(i=/^#EXT-X-ALLOW-CACHE:(YES|NO)?/.exec(s),i){n={type:"tag",tagType:"allow-cache"},i[1]&&(n.allowed=!/NO/.test(i[1])),this.trigger("data",n);return}if(i=/^#EXT-X-MAP:(.*)$/.exec(s),i){if(n={type:"tag",tagType:"map"},i[1]){const o=yi(i[1]);o.URI&&(n.uri=o.URI),o.BYTERANGE&&(n.byterange=Mf(o.BYTERANGE))}this.trigger("data",n);return}if(i=/^#EXT-X-STREAM-INF:(.*)$/.exec(s),i){if(n={type:"tag",tagType:"stream-inf"},i[1]){if(n.attributes=yi(i[1]),n.attributes.RESOLUTION){const o=n.attributes.RESOLUTION.split("x"),a={};o[0]&&(a.width=parseInt(o[0],10)),o[1]&&(a.height=parseInt(o[1],10)),n.attributes.RESOLUTION=a}n.attributes.BANDWIDTH&&(n.attributes.BANDWIDTH=parseInt(n.attributes.BANDWIDTH,10)),n.attributes["FRAME-RATE"]&&(n.attributes["FRAME-RATE"]=parseFloat(n.attributes["FRAME-RATE"])),n.attributes["PROGRAM-ID"]&&(n.attributes["PROGRAM-ID"]=parseInt(n.attributes["PROGRAM-ID"],10))}this.trigger("data",n);return}if(i=/^#EXT-X-MEDIA:(.*)$/.exec(s),i){n={type:"tag",tagType:"media"},i[1]&&(n.attributes=yi(i[1])),this.trigger("data",n);return}if(i=/^#EXT-X-ENDLIST/.exec(s),i){this.trigger("data",{type:"tag",tagType:"endlist"});return}if(i=/^#EXT-X-DISCONTINUITY/.exec(s),i){this.trigger("data",{type:"tag",tagType:"discontinuity"});return}if(i=/^#EXT-X-PROGRAM-DATE-TIME:(.*)$/.exec(s),i){n={type:"tag",tagType:"program-date-time"},i[1]&&(n.dateTimeString=i[1],n.dateTimeObject=new Date(i[1])),this.trigger("data",n);return}if(i=/^#EXT-X-KEY:(.*)$/.exec(s),i){n={type:"tag",tagType:"key"},i[1]&&(n.attributes=yi(i[1]),n.attributes.IV&&(n.attributes.IV.substring(0,2).toLowerCase()==="0x"&&(n.attributes.IV=n.attributes.IV.substring(2)),n.attributes.IV=n.attributes.IV.match(/.{8}/g),n.attributes.IV[0]=parseInt(n.attributes.IV[0],16),n.attributes.IV[1]=parseInt(n.attributes.IV[1],16),n.attributes.IV[2]=parseInt(n.attributes.IV[2],16),n.attributes.IV[3]=parseInt(n.attributes.IV[3],16),n.attributes.IV=new Uint32Array(n.attributes.IV))),this.trigger("data",n);return}if(i=/^#EXT-X-START:(.*)$/.exec(s),i){n={type:"tag",tagType:"start"},i[1]&&(n.attributes=yi(i[1]),n.attributes["TIME-OFFSET"]=parseFloat(n.attributes["TIME-OFFSET"]),n.attributes.PRECISE=/YES/.test(n.attributes.PRECISE)),this.trigger("data",n);return}if(i=/^#EXT-X-CUE-OUT-CONT:(.*)?$/.exec(s),i){n={type:"tag",tagType:"cue-out-cont"},i[1]?n.data=i[1]:n.data="",this.trigger("data",n);return}if(i=/^#EXT-X-CUE-OUT:(.*)?$/.exec(s),i){n={type:"tag",tagType:"cue-out"},i[1]?n.data=i[1]:n.data="",this.trigger("data",n);return}if(i=/^#EXT-X-CUE-IN:(.*)?$/.exec(s),i){n={type:"tag",tagType:"cue-in"},i[1]?n.data=i[1]:n.data="",this.trigger("data",n);return}if(i=/^#EXT-X-SKIP:(.*)$/.exec(s),i&&i[1]){n={type:"tag",tagType:"skip"},n.attributes=yi(i[1]),n.attributes.hasOwnProperty("SKIPPED-SEGMENTS")&&(n.attributes["SKIPPED-SEGMENTS"]=parseInt(n.attributes["SKIPPED-SEGMENTS"],10)),n.attributes.hasOwnProperty("RECENTLY-REMOVED-DATERANGES")&&(n.attributes["RECENTLY-REMOVED-DATERANGES"]=n.attributes["RECENTLY-REMOVED-DATERANGES"].split(S8)),this.trigger("data",n);return}if(i=/^#EXT-X-PART:(.*)$/.exec(s),i&&i[1]){n={type:"tag",tagType:"part"},n.attributes=yi(i[1]),["DURATION"].forEach(function(o){n.attributes.hasOwnProperty(o)&&(n.attributes[o]=parseFloat(n.attributes[o]))}),["INDEPENDENT","GAP"].forEach(function(o){n.attributes.hasOwnProperty(o)&&(n.attributes[o]=/YES/.test(n.attributes[o]))}),n.attributes.hasOwnProperty("BYTERANGE")&&(n.attributes.byterange=Mf(n.attributes.BYTERANGE)),this.trigger("data",n);return}if(i=/^#EXT-X-SERVER-CONTROL:(.*)$/.exec(s),i&&i[1]){n={type:"tag",tagType:"server-control"},n.attributes=yi(i[1]),["CAN-SKIP-UNTIL","PART-HOLD-BACK","HOLD-BACK"].forEach(function(o){n.attributes.hasOwnProperty(o)&&(n.attributes[o]=parseFloat(n.attributes[o]))}),["CAN-SKIP-DATERANGES","CAN-BLOCK-RELOAD"].forEach(function(o){n.attributes.hasOwnProperty(o)&&(n.attributes[o]=/YES/.test(n.attributes[o]))}),this.trigger("data",n);return}if(i=/^#EXT-X-PART-INF:(.*)$/.exec(s),i&&i[1]){n={type:"tag",tagType:"part-inf"},n.attributes=yi(i[1]),["PART-TARGET"].forEach(function(o){n.attributes.hasOwnProperty(o)&&(n.attributes[o]=parseFloat(n.attributes[o]))}),this.trigger("data",n);return}if(i=/^#EXT-X-PRELOAD-HINT:(.*)$/.exec(s),i&&i[1]){n={type:"tag",tagType:"preload-hint"},n.attributes=yi(i[1]),["BYTERANGE-START","BYTERANGE-LENGTH"].forEach(function(o){if(n.attributes.hasOwnProperty(o)){n.attributes[o]=parseInt(n.attributes[o],10);const a=o==="BYTERANGE-LENGTH"?"length":"offset";n.attributes.byterange=n.attributes.byterange||{},n.attributes.byterange[a]=n.attributes[o],delete n.attributes[o]}}),this.trigger("data",n);return}if(i=/^#EXT-X-RENDITION-REPORT:(.*)$/.exec(s),i&&i[1]){n={type:"tag",tagType:"rendition-report"},n.attributes=yi(i[1]),["LAST-MSN","LAST-PART"].forEach(function(o){n.attributes.hasOwnProperty(o)&&(n.attributes[o]=parseInt(n.attributes[o],10))}),this.trigger("data",n);return}if(i=/^#EXT-X-DATERANGE:(.*)$/.exec(s),i&&i[1]){n={type:"tag",tagType:"daterange"},n.attributes=yi(i[1]),["ID","CLASS"].forEach(function(a){n.attributes.hasOwnProperty(a)&&(n.attributes[a]=String(n.attributes[a]))}),["START-DATE","END-DATE"].forEach(function(a){n.attributes.hasOwnProperty(a)&&(n.attributes[a]=new Date(n.attributes[a]))}),["DURATION","PLANNED-DURATION"].forEach(function(a){n.attributes.hasOwnProperty(a)&&(n.attributes[a]=parseFloat(n.attributes[a]))}),["END-ON-NEXT"].forEach(function(a){n.attributes.hasOwnProperty(a)&&(n.attributes[a]=/YES/i.test(n.attributes[a]))}),["SCTE35-CMD"," SCTE35-OUT","SCTE35-IN"].forEach(function(a){n.attributes.hasOwnProperty(a)&&(n.attributes[a]=n.attributes[a].toString(16))});const o=/^X-([A-Z]+-)+[A-Z]+$/;for(const a in n.attributes){if(!o.test(a))continue;const l=/[0-9A-Fa-f]{6}/g.test(n.attributes[a]),u=/^\d+(\.\d+)?$/.test(n.attributes[a]);n.attributes[a]=l?n.attributes[a].toString(16):u?parseFloat(n.attributes[a]):String(n.attributes[a])}this.trigger("data",n);return}if(i=/^#EXT-X-INDEPENDENT-SEGMENTS/.exec(s),i){this.trigger("data",{type:"tag",tagType:"independent-segments"});return}this.trigger("data",{type:"tag",data:s.slice(4)})})}addParser({expression:e,customType:i,dataParser:n,segment:r}){typeof n!="function"&&(n=s=>s),this.customParsers.push(s=>{if(e.exec(s))return this.trigger("data",{type:"custom",data:n(s),customType:i,segment:r}),!0})}addTagMapper({expression:e,map:i}){const n=r=>e.test(r)?i(r):r;this.tagMappers.push(n)}}const k8=t=>t.toLowerCase().replace(/-(\w)/g,e=>e[1].toUpperCase()),Nr=function(t){const e={};return Object.keys(t).forEach(function(i){e[k8(i)]=t[i]}),e},Bf=function(t){const{serverControl:e,targetDuration:i,partTargetDuration:n}=t;if(!e)return;const r="#EXT-X-SERVER-CONTROL",s="holdBack",o="partHoldBack",a=i&&i*3,l=n&&n*2;i&&!e.hasOwnProperty(s)&&(e[s]=a,this.trigger("info",{message:`${r} defaulting HOLD-BACK to targetDuration * 3 (${a}).`})),a&&e[s]<a&&(this.trigger("warn",{message:`${r} clamping HOLD-BACK (${e[s]}) to targetDuration * 3 (${a})`}),e[s]=a),n&&!e.hasOwnProperty(o)&&(e[o]=n*3,this.trigger("info",{message:`${r} defaulting PART-HOLD-BACK to partTargetDuration * 3 (${e[o]}).`})),n&&e[o]<l&&(this.trigger("warn",{message:`${r} clamping PART-HOLD-BACK (${e[o]}) to partTargetDuration * 2 (${l}).`}),e[o]=l)};class D8 extends m0{constructor(){super(),this.lineStream=new w8,this.parseStream=new C8,this.lineStream.pipe(this.parseStream);const e=this,i=[];let n={},r,s,o=!1;const a=function(){},l={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},u="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed";let d=0;this.manifest={allowCache:!0,discontinuityStarts:[],segments:[]};let p=0,y=0;const T={};this.on("end",()=>{n.uri||!n.parts&&!n.preloadHints||(!n.map&&r&&(n.map=r),!n.key&&s&&(n.key=s),!n.timeline&&typeof d=="number"&&(n.timeline=d),this.manifest.preloadSegment=n)}),this.parseStream.on("data",function(v){let w,k;({tag(){({version(){v.version&&(this.manifest.version=v.version)},"allow-cache"(){this.manifest.allowCache=v.allowed,"allowed"in v||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange(){const x={};"length"in v&&(n.byterange=x,x.length=v.length,"offset"in v||(v.offset=p)),"offset"in v&&(n.byterange=x,x.offset=v.offset),p=x.offset+x.length},endlist(){this.manifest.endList=!0},inf(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),v.duration>0&&(n.duration=v.duration),v.duration===0&&(n.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=i},key(){if(!v.attributes){this.trigger("warn",{message:"ignoring key declaration without attribute list"});return}if(v.attributes.METHOD==="NONE"){s=null;return}if(!v.attributes.URI){this.trigger("warn",{message:"ignoring key declaration without URI"});return}if(v.attributes.KEYFORMAT==="com.apple.streamingkeydelivery"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.apple.fps.1_0"]={attributes:v.attributes};return}if(v.attributes.KEYFORMAT==="com.microsoft.playready"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.microsoft.playready"]={uri:v.attributes.URI};return}if(v.attributes.KEYFORMAT===u){if(["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"].indexOf(v.attributes.METHOD)===-1){this.trigger("warn",{message:"invalid key method provided for Widevine"});return}if(v.attributes.METHOD==="SAMPLE-AES-CENC"&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),v.attributes.URI.substring(0,23)!=="data:text/plain;base64,"){this.trigger("warn",{message:"invalid key URI provided for Widevine"});return}if(!(v.attributes.KEYID&&v.attributes.KEYID.substring(0,2)==="0x")){this.trigger("warn",{message:"invalid key ID provided for Widevine"});return}this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.widevine.alpha"]={attributes:{schemeIdUri:v.attributes.KEYFORMAT,keyId:v.attributes.KEYID.substring(2)},pssh:T8(v.attributes.URI.split(",")[1])};return}v.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),s={method:v.attributes.METHOD||"AES-128",uri:v.attributes.URI},typeof v.attributes.IV<"u"&&(s.iv=v.attributes.IV)},"media-sequence"(){if(!isFinite(v.number)){this.trigger("warn",{message:"ignoring invalid media sequence: "+v.number});return}this.manifest.mediaSequence=v.number},"discontinuity-sequence"(){if(!isFinite(v.number)){this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+v.number});return}this.manifest.discontinuitySequence=v.number,d=v.number},"playlist-type"(){if(!/VOD|EVENT/.test(v.playlistType)){this.trigger("warn",{message:"ignoring unknown playlist type: "+v.playlist});return}this.manifest.playlistType=v.playlistType},map(){r={},v.uri&&(r.uri=v.uri),v.byterange&&(r.byterange=v.byterange),s&&(r.key=s)},"stream-inf"(){if(this.manifest.playlists=i,this.manifest.mediaGroups=this.manifest.mediaGroups||l,!v.attributes){this.trigger("warn",{message:"ignoring empty stream-inf attributes"});return}n.attributes||(n.attributes={}),Un(n.attributes,v.attributes)},media(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||l,!(v.attributes&&v.attributes.TYPE&&v.attributes["GROUP-ID"]&&v.attributes.NAME)){this.trigger("warn",{message:"ignoring incomplete or missing media group"});return}const x=this.manifest.mediaGroups[v.attributes.TYPE];x[v.attributes["GROUP-ID"]]=x[v.attributes["GROUP-ID"]]||{},w=x[v.attributes["GROUP-ID"]],k={default:/yes/i.test(v.attributes.DEFAULT)},k.default?k.autoselect=!0:k.autoselect=/yes/i.test(v.attributes.AUTOSELECT),v.attributes.LANGUAGE&&(k.language=v.attributes.LANGUAGE),v.attributes.URI&&(k.uri=v.attributes.URI),v.attributes["INSTREAM-ID"]&&(k.instreamId=v.attributes["INSTREAM-ID"]),v.attributes.CHARACTERISTICS&&(k.characteristics=v.attributes.CHARACTERISTICS),v.attributes.FORCED&&(k.forced=/yes/i.test(v.attributes.FORCED)),w[v.attributes.NAME]=k},discontinuity(){d+=1,n.discontinuity=!0,this.manifest.discontinuityStarts.push(i.length)},"program-date-time"(){typeof this.manifest.dateTimeString>"u"&&(this.manifest.dateTimeString=v.dateTimeString,this.manifest.dateTimeObject=v.dateTimeObject),n.dateTimeString=v.dateTimeString,n.dateTimeObject=v.dateTimeObject},targetduration(){if(!isFinite(v.duration)||v.duration<0){this.trigger("warn",{message:"ignoring invalid target duration: "+v.duration});return}this.manifest.targetDuration=v.duration,Bf.call(this,this.manifest)},start(){if(!v.attributes||isNaN(v.attributes["TIME-OFFSET"])){this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"});return}this.manifest.start={timeOffset:v.attributes["TIME-OFFSET"],precise:v.attributes.PRECISE}},"cue-out"(){n.cueOut=v.data},"cue-out-cont"(){n.cueOutCont=v.data},"cue-in"(){n.cueIn=v.data},skip(){this.manifest.skip=Nr(v.attributes),this.warnOnMissingAttributes_("#EXT-X-SKIP",v.attributes,["SKIPPED-SEGMENTS"])},part(){o=!0;const x=this.manifest.segments.length,b=Nr(v.attributes);n.parts=n.parts||[],n.parts.push(b),b.byterange&&(b.byterange.hasOwnProperty("offset")||(b.byterange.offset=y),y=b.byterange.offset+b.byterange.length);const S=n.parts.length-1;this.warnOnMissingAttributes_(`#EXT-X-PART #${S} for segment #${x}`,v.attributes,["URI","DURATION"]),this.manifest.renditionReports&&this.manifest.renditionReports.forEach((E,A)=>{E.hasOwnProperty("lastPart")||this.trigger("warn",{message:`#EXT-X-RENDITION-REPORT #${A} lacks required attribute(s): LAST-PART`})})},"server-control"(){const x=this.manifest.serverControl=Nr(v.attributes);x.hasOwnProperty("canBlockReload")||(x.canBlockReload=!1,this.trigger("info",{message:"#EXT-X-SERVER-CONTROL defaulting CAN-BLOCK-RELOAD to false"})),Bf.call(this,this.manifest),x.canSkipDateranges&&!x.hasOwnProperty("canSkipUntil")&&this.trigger("warn",{message:"#EXT-X-SERVER-CONTROL lacks required attribute CAN-SKIP-UNTIL which is required when CAN-SKIP-DATERANGES is set"})},"preload-hint"(){const x=this.manifest.segments.length,b=Nr(v.attributes),S=b.type&&b.type==="PART";n.preloadHints=n.preloadHints||[],n.preloadHints.push(b),b.byterange&&(b.byterange.hasOwnProperty("offset")||(b.byterange.offset=S?y:0,S&&(y=b.byterange.offset+b.byterange.length)));const E=n.preloadHints.length-1;if(this.warnOnMissingAttributes_(`#EXT-X-PRELOAD-HINT #${E} for segment #${x}`,v.attributes,["TYPE","URI"]),!!b.type)for(let A=0;A<n.preloadHints.length-1;A++){const N=n.preloadHints[A];N.type&&N.type===b.type&&this.trigger("warn",{message:`#EXT-X-PRELOAD-HINT #${E} for segment #${x} has the same TYPE ${b.type} as preload hint #${A}`})}},"rendition-report"(){const x=Nr(v.attributes);this.manifest.renditionReports=this.manifest.renditionReports||[],this.manifest.renditionReports.push(x);const b=this.manifest.renditionReports.length-1,S=["LAST-MSN","URI"];o&&S.push("LAST-PART"),this.warnOnMissingAttributes_(`#EXT-X-RENDITION-REPORT #${b}`,v.attributes,S)},"part-inf"(){this.manifest.partInf=Nr(v.attributes),this.warnOnMissingAttributes_("#EXT-X-PART-INF",v.attributes,["PART-TARGET"]),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),Bf.call(this,this.manifest)},daterange(){this.manifest.daterange=this.manifest.daterange||[],this.manifest.daterange.push(Nr(v.attributes));const x=this.manifest.daterange.length-1;this.warnOnMissingAttributes_(`#EXT-X-DATERANGE #${x}`,v.attributes,["ID","START-DATE"]);const b=this.manifest.daterange[x];b.endDate&&b.startDate&&new Date(b.endDate)<new Date(b.startDate)&&this.trigger("warn",{message:"EXT-X-DATERANGE END-DATE must be equal to or later than the value of the START-DATE"}),b.duration&&b.duration<0&&this.trigger("warn",{message:"EXT-X-DATERANGE DURATION must not be negative"}),b.plannedDuration&&b.plannedDuration<0&&this.trigger("warn",{message:"EXT-X-DATERANGE PLANNED-DURATION must not be negative"});const S=!!b.endOnNext;if(S&&!b.class&&this.trigger("warn",{message:"EXT-X-DATERANGE with an END-ON-NEXT=YES attribute must have a CLASS attribute"}),S&&(b.duration||b.endDate)&&this.trigger("warn",{message:"EXT-X-DATERANGE with an END-ON-NEXT=YES attribute must not contain DURATION or END-DATE attributes"}),b.duration&&b.endDate){const E=b.startDate,A=E.setSeconds(E.getSeconds()+b.duration);this.manifest.daterange[x].endDate=new Date(A)}if(b&&!this.manifest.dateTimeString&&this.trigger("warn",{message:"A playlist with EXT-X-DATERANGE tag must contain atleast one EXT-X-PROGRAM-DATE-TIME tag"}),!T[b.id])T[b.id]=b;else for(const E in T[b.id])if(T[b.id][E]!==b[E]){this.trigger("warn",{message:"EXT-X-DATERANGE tags with the same ID in a playlist must have the same attributes and same attribute values"});break}},"independent-segments"(){this.manifest.independentSegments=!0}}[v.tagType]||a).call(e)},uri(){n.uri=v.uri,i.push(n),this.manifest.targetDuration&&!("duration"in n)&&(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),n.duration=this.manifest.targetDuration),s&&(n.key=s),n.timeline=d,r&&(n.map=r),y=0,n={}},comment(){},custom(){v.segment?(n.custom=n.custom||{},n.custom[v.customType]=v.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[v.customType]=v.data)}})[v.type].call(e)})}warnOnMissingAttributes_(e,i,n){const r=[];n.forEach(function(s){i.hasOwnProperty(s)||r.push(s)}),r.length&&this.trigger("warn",{message:`${e} lacks required attribute(s): ${r.join(", ")}`})}push(e){this.lineStream.push(e)}end(){this.lineStream.push(`
`),this.trigger("end")}addParser(e){this.parseStream.addParser(e)}addTagMapper(e){this.parseStream.addTagMapper(e)}}var Xr={mp4:/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v|stpp.ttml.im1t)/,webm:/^(vp0?[89]|av0?1|opus|vorbis)/,ogg:/^(vp0?[89]|theora|flac|opus|vorbis)/,video:/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,audio:/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3|speex|aac)/,text:/^(stpp.ttml.im1t)/,muxerVideo:/^(avc0?1)/,muxerAudio:/^(mp4a)/,muxerText:/a^/},A8=["video","audio","text"],b1=["Video","Audio","Text"],lw=function(e){return e&&e.replace(/avc1\.(\d+)\.(\d+)/i,function(i,n,r){var s=("00"+Number(n).toString(16)).slice(-2),o=("00"+Number(r).toString(16)).slice(-2);return"avc1."+s+"00"+o})},rn=function(e){e===void 0&&(e="");var i=e.split(","),n=[];return i.forEach(function(r){r=r.trim();var s;A8.forEach(function(o){var a=Xr[o].exec(r.toLowerCase());if(!(!a||a.length<=1)){s=o;var l=r.substring(0,a[1].length),u=r.replace(l,"");n.push({type:l,details:u,mediaType:o})}}),s||n.push({type:r,details:"",mediaType:"unknown"})}),n},P8=function(e,i){if(!e.mediaGroups.AUDIO||!i)return null;var n=e.mediaGroups.AUDIO[i];if(!n)return null;for(var r in n){var s=n[r];if(s.default&&s.playlists)return rn(s.playlists[0].attributes.CODECS)}return null},uw=function(e){return e===void 0&&(e=""),Xr.audio.test(e.trim().toLowerCase())},I8=function(e){return e===void 0&&(e=""),Xr.text.test(e.trim().toLowerCase())},gl=function(e){if(!(!e||typeof e!="string")){var i=e.toLowerCase().split(",").map(function(s){return lw(s.trim())}),n="video";i.length===1&&uw(i[0])?n="audio":i.length===1&&I8(i[0])&&(n="application");var r="mp4";return i.every(function(s){return Xr.mp4.test(s)})?r="mp4":i.every(function(s){return Xr.webm.test(s)})?r="webm":i.every(function(s){return Xr.ogg.test(s)})&&(r="ogg"),n+"/"+r+';codecs="'+e+'"'}},ac=function(e){return e===void 0&&(e=""),O.MediaSource&&O.MediaSource.isTypeSupported&&O.MediaSource.isTypeSupported(gl(e))||!1},Ff=function(e){return e===void 0&&(e=""),e.toLowerCase().split(",").every(function(i){i=i.trim();for(var n=0;n<b1.length;n++){var r=b1[n];if(Xr["muxer"+r].test(i))return!0}return!1})},x1="mp4a.40.2",O8="avc1.4d400d",L8=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i,N8=/^application\/dash\+xml/i,cw=function(e){return L8.test(e)?"hls":N8.test(e)?"dash":e==="application/vnd.videojs.vhs+json"?"vhs-json":null},R8=function(e){return e.toString(2).length},M8=function(e){return Math.ceil(R8(e)/8)},dw=function(e){return ArrayBuffer.isView==="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer},B8=function(e){return dw(e)},ce=function(e){return e instanceof Uint8Array?e:(!Array.isArray(e)&&!B8(e)&&!(e instanceof ArrayBuffer)&&(typeof e!="number"||typeof e=="number"&&e!==e?e=0:e=[e]),new Uint8Array(e&&e.buffer||e,e&&e.byteOffset||0,e&&e.byteLength||0))},gt=O.BigInt||Number,Pm=[gt("0x1"),gt("0x100"),gt("0x10000"),gt("0x1000000"),gt("0x100000000"),gt("0x10000000000"),gt("0x1000000000000"),gt("0x100000000000000"),gt("0x10000000000000000")];(function(){var t=new Uint16Array([65484]),e=new Uint8Array(t.buffer,t.byteOffset,t.byteLength);return e[0]===255?"big":e[0]===204?"little":"unknown"})();var F8=function(e,i){var n=i===void 0?{}:i,r=n.signed,s=r===void 0?!1:r,o=n.le,a=o===void 0?!1:o;e=ce(e);var l=a?"reduce":"reduceRight",u=e[l]?e[l]:Array.prototype[l],d=u.call(e,function(y,T,v){var w=a?v:Math.abs(v+1-e.length);return y+gt(T)*Pm[w]},gt(0));if(s){var p=Pm[e.length]/gt(2)-gt(1);d=gt(d),d>p&&(d-=p,d-=p,d-=gt(2))}return Number(d)},j8=function(e,i){var n=i===void 0?{}:i,r=n.le,s=r===void 0?!1:r;(typeof e!="bigint"&&typeof e!="number"||typeof e=="number"&&e!==e)&&(e=0),e=gt(e);for(var o=M8(e),a=new Uint8Array(new ArrayBuffer(o)),l=0;l<o;l++){var u=s?l:Math.abs(l+1-a.length);a[u]=Number(e/Pm[l]&gt(255)),e<0&&(a[u]=Math.abs(~a[u]),a[u]-=l===0?1:2)}return a},hw=function(e,i){if(typeof e!="string"&&e&&typeof e.toString=="function"&&(e=e.toString()),typeof e!="string")return new Uint8Array;i||(e=unescape(encodeURIComponent(e)));for(var n=new Uint8Array(e.length),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n},U8=function(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];if(i=i.filter(function(a){return a&&(a.byteLength||a.length)&&typeof a!="string"}),i.length<=1)return ce(i[0]);var r=i.reduce(function(a,l,u){return a+(l.byteLength||l.length)},0),s=new Uint8Array(r),o=0;return i.forEach(function(a){a=ce(a),s.set(a,o),o+=a.byteLength}),s},Ue=function(e,i,n){var r=n===void 0?{}:n,s=r.offset,o=s===void 0?0:s,a=r.mask,l=a===void 0?[]:a;e=ce(e),i=ce(i);var u=i.every?i.every:Array.prototype.every;return i.length&&e.length-o>=i.length&&u.call(i,function(d,p){var y=l[p]?l[p]&e[o+p]:e[o+p];return d===y})},T1="http://example.com",g0=function(e,i){if(/^[a-z]+:/i.test(i))return i;/^data:/.test(e)&&(e=O.location&&O.location.href||"");var n=typeof O.URL=="function",r=/^\/\//.test(e),s=!O.location&&!/\/\//i.test(e);if(n?e=new O.URL(e,O.location||T1):/\/\//i.test(e)||(e=Vc.buildAbsoluteURL(O.location&&O.location.href||"",e)),n){var o=new URL(i,e);return s?o.href.slice(T1.length):r?o.href.slice(o.protocol.length):o.href}return Vc.buildAbsoluteURL(e,i)},$8=function(e,i,n){i.forEach(function(r){for(var s in e.mediaGroups[r])for(var o in e.mediaGroups[r][s]){var a=e.mediaGroups[r][s][o];n(a,r,s,o)}})},z8=function(e){return O.atob?O.atob(e):Buffer.from(e,"base64").toString("binary")};function V8(t){for(var e=z8(t),i=new Uint8Array(e.length),n=0;n<e.length;n++)i[n]=e.charCodeAt(n);return i}var kr={},Wn={};function H8(t,e,i){if(i===void 0&&(i=Array.prototype),t&&typeof i.find=="function")return i.find.call(t,e);for(var n=0;n<t.length;n++)if(Object.prototype.hasOwnProperty.call(t,n)){var r=t[n];if(e.call(void 0,r,n,t))return r}}function y0(t,e){return e===void 0&&(e=Object),e&&typeof e.freeze=="function"?e.freeze(t):t}function q8(t,e){if(t===null||typeof t!="object")throw new TypeError("target is not an object");for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}var fw=y0({HTML:"text/html",isHTML:function(t){return t===fw.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),pw=y0({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(t){return t===pw.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});Wn.assign=q8;Wn.find=H8;Wn.freeze=y0;Wn.MIME_TYPE=fw;Wn.NAMESPACE=pw;var mw=Wn,fn=mw.find,yl=mw.NAMESPACE;function W8(t){return t!==""}function G8(t){return t?t.split(/[\t\n\f\r ]+/).filter(W8):[]}function X8(t,e){return t.hasOwnProperty(e)||(t[e]=!0),t}function w1(t){if(!t)return[];var e=G8(t);return Object.keys(e.reduce(X8,{}))}function K8(t){return function(e){return t&&t.indexOf(e)!==-1}}function Il(t,e){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}function Jt(t,e){var i=t.prototype;if(!(i instanceof e)){let r=function(){};var n=r;r.prototype=e.prototype,r=new r,Il(i,r),t.prototype=i=r}i.constructor!=t&&(typeof t!="function"&&console.error("unknown Class:"+t),i.constructor=t)}var Zt={},qi=Zt.ELEMENT_NODE=1,ho=Zt.ATTRIBUTE_NODE=2,Hc=Zt.TEXT_NODE=3,gw=Zt.CDATA_SECTION_NODE=4,yw=Zt.ENTITY_REFERENCE_NODE=5,Y8=Zt.ENTITY_NODE=6,vw=Zt.PROCESSING_INSTRUCTION_NODE=7,_w=Zt.COMMENT_NODE=8,bw=Zt.DOCUMENT_NODE=9,xw=Zt.DOCUMENT_TYPE_NODE=10,zn=Zt.DOCUMENT_FRAGMENT_NODE=11,Q8=Zt.NOTATION_NODE=12,Dt={},ht={};Dt.INDEX_SIZE_ERR=(ht[1]="Index size error",1);Dt.DOMSTRING_SIZE_ERR=(ht[2]="DOMString size error",2);var Ht=Dt.HIERARCHY_REQUEST_ERR=(ht[3]="Hierarchy request error",3);Dt.WRONG_DOCUMENT_ERR=(ht[4]="Wrong document",4);Dt.INVALID_CHARACTER_ERR=(ht[5]="Invalid character",5);Dt.NO_DATA_ALLOWED_ERR=(ht[6]="No data allowed",6);Dt.NO_MODIFICATION_ALLOWED_ERR=(ht[7]="No modification allowed",7);var Tw=Dt.NOT_FOUND_ERR=(ht[8]="Not found",8);Dt.NOT_SUPPORTED_ERR=(ht[9]="Not supported",9);var S1=Dt.INUSE_ATTRIBUTE_ERR=(ht[10]="Attribute in use",10);Dt.INVALID_STATE_ERR=(ht[11]="Invalid state",11);Dt.SYNTAX_ERR=(ht[12]="Syntax error",12);Dt.INVALID_MODIFICATION_ERR=(ht[13]="Invalid modification",13);Dt.NAMESPACE_ERR=(ht[14]="Invalid namespace",14);Dt.INVALID_ACCESS_ERR=(ht[15]="Invalid access",15);function Ze(t,e){if(e instanceof Error)var i=e;else i=this,Error.call(this,ht[t]),this.message=ht[t],Error.captureStackTrace&&Error.captureStackTrace(this,Ze);return i.code=t,e&&(this.message=this.message+": "+e),i}Ze.prototype=Error.prototype;Il(Dt,Ze);function Nn(){}Nn.prototype={length:0,item:function(t){return t>=0&&t<this.length?this[t]:null},toString:function(t,e){for(var i=[],n=0;n<this.length;n++)js(this[n],i,t,e);return i.join("")},filter:function(t){return Array.prototype.filter.call(this,t)},indexOf:function(t){return Array.prototype.indexOf.call(this,t)}};function fo(t,e){this._node=t,this._refresh=e,v0(this)}function v0(t){var e=t._node._inc||t._node.ownerDocument._inc;if(t._inc!==e){var i=t._refresh(t._node);if(Nw(t,"length",i.length),!t.$$length||i.length<t.$$length)for(var n=i.length;n in t;n++)Object.prototype.hasOwnProperty.call(t,n)&&delete t[n];Il(i,t),t._inc=e}}fo.prototype.item=function(t){return v0(this),this[t]||null};Jt(fo,Nn);function qc(){}function ww(t,e){for(var i=t.length;i--;)if(t[i]===e)return i}function E1(t,e,i,n){if(n?e[ww(e,n)]=i:e[e.length++]=i,t){i.ownerElement=t;var r=t.ownerDocument;r&&(n&&Cw(r,t,n),J8(r,t,i))}}function C1(t,e,i){var n=ww(e,i);if(n>=0){for(var r=e.length-1;n<r;)e[n]=e[++n];if(e.length=r,t){var s=t.ownerDocument;s&&(Cw(s,t,i),i.ownerElement=null)}}else throw new Ze(Tw,new Error(t.tagName+"@"+i))}qc.prototype={length:0,item:Nn.prototype.item,getNamedItem:function(t){for(var e=this.length;e--;){var i=this[e];if(i.nodeName==t)return i}},setNamedItem:function(t){var e=t.ownerElement;if(e&&e!=this._ownerElement)throw new Ze(S1);var i=this.getNamedItem(t.nodeName);return E1(this._ownerElement,this,t,i),i},setNamedItemNS:function(t){var e=t.ownerElement,i;if(e&&e!=this._ownerElement)throw new Ze(S1);return i=this.getNamedItemNS(t.namespaceURI,t.localName),E1(this._ownerElement,this,t,i),i},removeNamedItem:function(t){var e=this.getNamedItem(t);return C1(this._ownerElement,this,e),e},removeNamedItemNS:function(t,e){var i=this.getNamedItemNS(t,e);return C1(this._ownerElement,this,i),i},getNamedItemNS:function(t,e){for(var i=this.length;i--;){var n=this[i];if(n.localName==e&&n.namespaceURI==t)return n}return null}};function Sw(){}Sw.prototype={hasFeature:function(t,e){return!0},createDocument:function(t,e,i){var n=new Ol;if(n.implementation=this,n.childNodes=new Nn,n.doctype=i||null,i&&n.appendChild(i),e){var r=n.createElementNS(t,e);n.appendChild(r)}return n},createDocumentType:function(t,e,i){var n=new Gd;return n.name=t,n.nodeName=t,n.publicId=e||"",n.systemId=i||"",n}};function ke(){}ke.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(t,e){return Wc(this,t,e)},replaceChild:function(t,e){Wc(this,t,e,Dw),e&&this.removeChild(e)},removeChild:function(t){return kw(this,t)},appendChild:function(t){return this.insertBefore(t,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(t){return Im(this.ownerDocument||this,this,t)},normalize:function(){for(var t=this.firstChild;t;){var e=t.nextSibling;e&&e.nodeType==Hc&&t.nodeType==Hc?(this.removeChild(e),t.appendData(e.data)):(t.normalize(),t=e)}},isSupported:function(t,e){return this.ownerDocument.implementation.hasFeature(t,e)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(t){for(var e=this;e;){var i=e._nsMap;if(i){for(var n in i)if(Object.prototype.hasOwnProperty.call(i,n)&&i[n]===t)return n}e=e.nodeType==ho?e.ownerDocument:e.parentNode}return null},lookupNamespaceURI:function(t){for(var e=this;e;){var i=e._nsMap;if(i&&Object.prototype.hasOwnProperty.call(i,t))return i[t];e=e.nodeType==ho?e.ownerDocument:e.parentNode}return null},isDefaultNamespace:function(t){var e=this.lookupPrefix(t);return e==null}};function Ew(t){return t=="<"&&"&lt;"||t==">"&&"&gt;"||t=="&"&&"&amp;"||t=='"'&&"&quot;"||"&#"+t.charCodeAt()+";"}Il(Zt,ke);Il(Zt,ke.prototype);function vl(t,e){if(e(t))return!0;if(t=t.firstChild)do if(vl(t,e))return!0;while(t=t.nextSibling)}function Ol(){this.ownerDocument=this}function J8(t,e,i){t&&t._inc++;var n=i.namespaceURI;n===yl.XMLNS&&(e._nsMap[i.prefix?i.localName:""]=i.value)}function Cw(t,e,i,n){t&&t._inc++;var r=i.namespaceURI;r===yl.XMLNS&&delete e._nsMap[i.prefix?i.localName:""]}function _0(t,e,i){if(t&&t._inc){t._inc++;var n=e.childNodes;if(i)n[n.length++]=i;else{for(var r=e.firstChild,s=0;r;)n[s++]=r,r=r.nextSibling;n.length=s,delete n[n.length]}}}function kw(t,e){var i=e.previousSibling,n=e.nextSibling;return i?i.nextSibling=n:t.firstChild=n,n?n.previousSibling=i:t.lastChild=i,e.parentNode=null,e.previousSibling=null,e.nextSibling=null,_0(t.ownerDocument,t),e}function Z8(t){return t&&(t.nodeType===ke.DOCUMENT_NODE||t.nodeType===ke.DOCUMENT_FRAGMENT_NODE||t.nodeType===ke.ELEMENT_NODE)}function eL(t){return t&&(pn(t)||b0(t)||Vn(t)||t.nodeType===ke.DOCUMENT_FRAGMENT_NODE||t.nodeType===ke.COMMENT_NODE||t.nodeType===ke.PROCESSING_INSTRUCTION_NODE)}function Vn(t){return t&&t.nodeType===ke.DOCUMENT_TYPE_NODE}function pn(t){return t&&t.nodeType===ke.ELEMENT_NODE}function b0(t){return t&&t.nodeType===ke.TEXT_NODE}function k1(t,e){var i=t.childNodes||[];if(fn(i,pn)||Vn(e))return!1;var n=fn(i,Vn);return!(e&&n&&i.indexOf(n)>i.indexOf(e))}function D1(t,e){var i=t.childNodes||[];function n(s){return pn(s)&&s!==e}if(fn(i,n))return!1;var r=fn(i,Vn);return!(e&&r&&i.indexOf(r)>i.indexOf(e))}function tL(t,e,i){if(!Z8(t))throw new Ze(Ht,"Unexpected parent node type "+t.nodeType);if(i&&i.parentNode!==t)throw new Ze(Tw,"child not in parent");if(!eL(e)||Vn(e)&&t.nodeType!==ke.DOCUMENT_NODE)throw new Ze(Ht,"Unexpected node type "+e.nodeType+" for parent node type "+t.nodeType)}function iL(t,e,i){var n=t.childNodes||[],r=e.childNodes||[];if(e.nodeType===ke.DOCUMENT_FRAGMENT_NODE){var s=r.filter(pn);if(s.length>1||fn(r,b0))throw new Ze(Ht,"More than one element or text in fragment");if(s.length===1&&!k1(t,i))throw new Ze(Ht,"Element in fragment can not be inserted before doctype")}if(pn(e)&&!k1(t,i))throw new Ze(Ht,"Only one element can be added and only after doctype");if(Vn(e)){if(fn(n,Vn))throw new Ze(Ht,"Only one doctype is allowed");var o=fn(n,pn);if(i&&n.indexOf(o)<n.indexOf(i))throw new Ze(Ht,"Doctype can only be inserted before an element");if(!i&&o)throw new Ze(Ht,"Doctype can not be appended since element is present")}}function Dw(t,e,i){var n=t.childNodes||[],r=e.childNodes||[];if(e.nodeType===ke.DOCUMENT_FRAGMENT_NODE){var s=r.filter(pn);if(s.length>1||fn(r,b0))throw new Ze(Ht,"More than one element or text in fragment");if(s.length===1&&!D1(t,i))throw new Ze(Ht,"Element in fragment can not be inserted before doctype")}if(pn(e)&&!D1(t,i))throw new Ze(Ht,"Only one element can be added and only after doctype");if(Vn(e)){let l=function(u){return Vn(u)&&u!==i};var a=l;if(fn(n,l))throw new Ze(Ht,"Only one doctype is allowed");var o=fn(n,pn);if(i&&n.indexOf(o)<n.indexOf(i))throw new Ze(Ht,"Doctype can only be inserted before an element")}}function Wc(t,e,i,n){tL(t,e,i),t.nodeType===ke.DOCUMENT_NODE&&(n||iL)(t,e,i);var r=e.parentNode;if(r&&r.removeChild(e),e.nodeType===zn){var s=e.firstChild;if(s==null)return e;var o=e.lastChild}else s=o=e;var a=i?i.previousSibling:t.lastChild;s.previousSibling=a,o.nextSibling=i,a?a.nextSibling=s:t.firstChild=s,i==null?t.lastChild=o:i.previousSibling=o;do s.parentNode=t;while(s!==o&&(s=s.nextSibling));return _0(t.ownerDocument||t,t),e.nodeType==zn&&(e.firstChild=e.lastChild=null),e}function nL(t,e){return e.parentNode&&e.parentNode.removeChild(e),e.parentNode=t,e.previousSibling=t.lastChild,e.nextSibling=null,e.previousSibling?e.previousSibling.nextSibling=e:t.firstChild=e,t.lastChild=e,_0(t.ownerDocument,t,e),e}Ol.prototype={nodeName:"#document",nodeType:bw,doctype:null,documentElement:null,_inc:1,insertBefore:function(t,e){if(t.nodeType==zn){for(var i=t.firstChild;i;){var n=i.nextSibling;this.insertBefore(i,e),i=n}return t}return Wc(this,t,e),t.ownerDocument=this,this.documentElement===null&&t.nodeType===qi&&(this.documentElement=t),t},removeChild:function(t){return this.documentElement==t&&(this.documentElement=null),kw(this,t)},replaceChild:function(t,e){Wc(this,t,e,Dw),t.ownerDocument=this,e&&this.removeChild(e),pn(t)&&(this.documentElement=t)},importNode:function(t,e){return Lw(this,t,e)},getElementById:function(t){var e=null;return vl(this.documentElement,function(i){if(i.nodeType==qi&&i.getAttribute("id")==t)return e=i,!0}),e},getElementsByClassName:function(t){var e=w1(t);return new fo(this,function(i){var n=[];return e.length>0&&vl(i.documentElement,function(r){if(r!==i&&r.nodeType===qi){var s=r.getAttribute("class");if(s){var o=t===s;if(!o){var a=w1(s);o=e.every(K8(a))}o&&n.push(r)}}}),n})},createElement:function(t){var e=new is;e.ownerDocument=this,e.nodeName=t,e.tagName=t,e.localName=t,e.childNodes=new Nn;var i=e.attributes=new qc;return i._ownerElement=e,e},createDocumentFragment:function(){var t=new Xd;return t.ownerDocument=this,t.childNodes=new Nn,t},createTextNode:function(t){var e=new x0;return e.ownerDocument=this,e.appendData(t),e},createComment:function(t){var e=new T0;return e.ownerDocument=this,e.appendData(t),e},createCDATASection:function(t){var e=new w0;return e.ownerDocument=this,e.appendData(t),e},createProcessingInstruction:function(t,e){var i=new E0;return i.ownerDocument=this,i.tagName=i.nodeName=i.target=t,i.nodeValue=i.data=e,i},createAttribute:function(t){var e=new Gc;return e.ownerDocument=this,e.name=t,e.nodeName=t,e.localName=t,e.specified=!0,e},createEntityReference:function(t){var e=new S0;return e.ownerDocument=this,e.nodeName=t,e},createElementNS:function(t,e){var i=new is,n=e.split(":"),r=i.attributes=new qc;return i.childNodes=new Nn,i.ownerDocument=this,i.nodeName=e,i.tagName=e,i.namespaceURI=t,n.length==2?(i.prefix=n[0],i.localName=n[1]):i.localName=e,r._ownerElement=i,i},createAttributeNS:function(t,e){var i=new Gc,n=e.split(":");return i.ownerDocument=this,i.nodeName=e,i.name=e,i.namespaceURI=t,i.specified=!0,n.length==2?(i.prefix=n[0],i.localName=n[1]):i.localName=e,i}};Jt(Ol,ke);function is(){this._nsMap={}}is.prototype={nodeType:qi,hasAttribute:function(t){return this.getAttributeNode(t)!=null},getAttribute:function(t){var e=this.getAttributeNode(t);return e&&e.value||""},getAttributeNode:function(t){return this.attributes.getNamedItem(t)},setAttribute:function(t,e){var i=this.ownerDocument.createAttribute(t);i.value=i.nodeValue=""+e,this.setAttributeNode(i)},removeAttribute:function(t){var e=this.getAttributeNode(t);e&&this.removeAttributeNode(e)},appendChild:function(t){return t.nodeType===zn?this.insertBefore(t,null):nL(this,t)},setAttributeNode:function(t){return this.attributes.setNamedItem(t)},setAttributeNodeNS:function(t){return this.attributes.setNamedItemNS(t)},removeAttributeNode:function(t){return this.attributes.removeNamedItem(t.nodeName)},removeAttributeNS:function(t,e){var i=this.getAttributeNodeNS(t,e);i&&this.removeAttributeNode(i)},hasAttributeNS:function(t,e){return this.getAttributeNodeNS(t,e)!=null},getAttributeNS:function(t,e){var i=this.getAttributeNodeNS(t,e);return i&&i.value||""},setAttributeNS:function(t,e,i){var n=this.ownerDocument.createAttributeNS(t,e);n.value=n.nodeValue=""+i,this.setAttributeNode(n)},getAttributeNodeNS:function(t,e){return this.attributes.getNamedItemNS(t,e)},getElementsByTagName:function(t){return new fo(this,function(e){var i=[];return vl(e,function(n){n!==e&&n.nodeType==qi&&(t==="*"||n.tagName==t)&&i.push(n)}),i})},getElementsByTagNameNS:function(t,e){return new fo(this,function(i){var n=[];return vl(i,function(r){r!==i&&r.nodeType===qi&&(t==="*"||r.namespaceURI===t)&&(e==="*"||r.localName==e)&&n.push(r)}),n})}};Ol.prototype.getElementsByTagName=is.prototype.getElementsByTagName;Ol.prototype.getElementsByTagNameNS=is.prototype.getElementsByTagNameNS;Jt(is,ke);function Gc(){}Gc.prototype.nodeType=ho;Jt(Gc,ke);function Ll(){}Ll.prototype={data:"",substringData:function(t,e){return this.data.substring(t,t+e)},appendData:function(t){t=this.data+t,this.nodeValue=this.data=t,this.length=t.length},insertData:function(t,e){this.replaceData(t,0,e)},appendChild:function(t){throw new Error(ht[Ht])},deleteData:function(t,e){this.replaceData(t,e,"")},replaceData:function(t,e,i){var n=this.data.substring(0,t),r=this.data.substring(t+e);i=n+i+r,this.nodeValue=this.data=i,this.length=i.length}};Jt(Ll,ke);function x0(){}x0.prototype={nodeName:"#text",nodeType:Hc,splitText:function(t){var e=this.data,i=e.substring(t);e=e.substring(0,t),this.data=this.nodeValue=e,this.length=e.length;var n=this.ownerDocument.createTextNode(i);return this.parentNode&&this.parentNode.insertBefore(n,this.nextSibling),n}};Jt(x0,Ll);function T0(){}T0.prototype={nodeName:"#comment",nodeType:_w};Jt(T0,Ll);function w0(){}w0.prototype={nodeName:"#cdata-section",nodeType:gw};Jt(w0,Ll);function Gd(){}Gd.prototype.nodeType=xw;Jt(Gd,ke);function Aw(){}Aw.prototype.nodeType=Q8;Jt(Aw,ke);function Pw(){}Pw.prototype.nodeType=Y8;Jt(Pw,ke);function S0(){}S0.prototype.nodeType=yw;Jt(S0,ke);function Xd(){}Xd.prototype.nodeName="#document-fragment";Xd.prototype.nodeType=zn;Jt(Xd,ke);function E0(){}E0.prototype.nodeType=vw;Jt(E0,ke);function Iw(){}Iw.prototype.serializeToString=function(t,e,i){return Ow.call(t,e,i)};ke.prototype.toString=Ow;function Ow(t,e){var i=[],n=this.nodeType==9&&this.documentElement||this,r=n.prefix,s=n.namespaceURI;if(s&&r==null){var r=n.lookupPrefix(s);if(r==null)var o=[{namespace:s,prefix:null}]}return js(this,i,t,e,o),i.join("")}function A1(t,e,i){var n=t.prefix||"",r=t.namespaceURI;if(!r||n==="xml"&&r===yl.XML||r===yl.XMLNS)return!1;for(var s=i.length;s--;){var o=i[s];if(o.prefix===n)return o.namespace!==r}return!0}function jf(t,e,i){t.push(" ",e,'="',i.replace(/[<>&"\t\n\r]/g,Ew),'"')}function js(t,e,i,n,r){if(r||(r=[]),n)if(t=n(t),t){if(typeof t=="string"){e.push(t);return}}else return;switch(t.nodeType){case qi:var s=t.attributes,o=s.length,x=t.firstChild,a=t.tagName;i=yl.isHTML(t.namespaceURI)||i;var l=a;if(!i&&!t.prefix&&t.namespaceURI){for(var u,d=0;d<s.length;d++)if(s.item(d).name==="xmlns"){u=s.item(d).value;break}if(!u)for(var p=r.length-1;p>=0;p--){var y=r[p];if(y.prefix===""&&y.namespace===t.namespaceURI){u=y.namespace;break}}if(u!==t.namespaceURI)for(var p=r.length-1;p>=0;p--){var y=r[p];if(y.namespace===t.namespaceURI){y.prefix&&(l=y.prefix+":"+a);break}}}e.push("<",l);for(var T=0;T<o;T++){var v=s.item(T);v.prefix=="xmlns"?r.push({prefix:v.localName,namespace:v.value}):v.nodeName=="xmlns"&&r.push({prefix:"",namespace:v.value})}for(var T=0;T<o;T++){var v=s.item(T);if(A1(v,i,r)){var w=v.prefix||"",k=v.namespaceURI;jf(e,w?"xmlns:"+w:"xmlns",k),r.push({prefix:w,namespace:k})}js(v,e,i,n,r)}if(a===l&&A1(t,i,r)){var w=t.prefix||"",k=t.namespaceURI;jf(e,w?"xmlns:"+w:"xmlns",k),r.push({prefix:w,namespace:k})}if(x||i&&!/^(?:meta|link|img|br|hr|input)$/i.test(a)){if(e.push(">"),i&&/^script$/i.test(a))for(;x;)x.data?e.push(x.data):js(x,e,i,n,r.slice()),x=x.nextSibling;else for(;x;)js(x,e,i,n,r.slice()),x=x.nextSibling;e.push("</",l,">")}else e.push("/>");return;case bw:case zn:for(var x=t.firstChild;x;)js(x,e,i,n,r.slice()),x=x.nextSibling;return;case ho:return jf(e,t.name,t.value);case Hc:return e.push(t.data.replace(/[<&>]/g,Ew));case gw:return e.push("<![CDATA[",t.data,"]]>");case _w:return e.push("<!--",t.data,"-->");case xw:var b=t.publicId,S=t.systemId;if(e.push("<!DOCTYPE ",t.name),b)e.push(" PUBLIC ",b),S&&S!="."&&e.push(" ",S),e.push(">");else if(S&&S!=".")e.push(" SYSTEM ",S,">");else{var E=t.internalSubset;E&&e.push(" [",E,"]"),e.push(">")}return;case vw:return e.push("<?",t.target," ",t.data,"?>");case yw:return e.push("&",t.nodeName,";");default:e.push("??",t.nodeName)}}function Lw(t,e,i){var n;switch(e.nodeType){case qi:n=e.cloneNode(!1),n.ownerDocument=t;case zn:break;case ho:i=!0;break}if(n||(n=e.cloneNode(!1)),n.ownerDocument=t,n.parentNode=null,i)for(var r=e.firstChild;r;)n.appendChild(Lw(t,r,i)),r=r.nextSibling;return n}function Im(t,e,i){var n=new e.constructor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var s=e[r];typeof s!="object"&&s!=n[r]&&(n[r]=s)}switch(e.childNodes&&(n.childNodes=new Nn),n.ownerDocument=t,n.nodeType){case qi:var o=e.attributes,a=n.attributes=new qc,l=o.length;a._ownerElement=n;for(var u=0;u<l;u++)n.setAttributeNode(Im(t,o.item(u),!0));break;case ho:i=!0}if(i)for(var d=e.firstChild;d;)n.appendChild(Im(t,d,i)),d=d.nextSibling;return n}function Nw(t,e,i){t[e]=i}try{if(Object.defineProperty){let t=function(e){switch(e.nodeType){case qi:case zn:var i=[];for(e=e.firstChild;e;)e.nodeType!==7&&e.nodeType!==8&&i.push(t(e)),e=e.nextSibling;return i.join("");default:return e.nodeValue}};var pU=t;Object.defineProperty(fo.prototype,"length",{get:function(){return v0(this),this.$$length}}),Object.defineProperty(ke.prototype,"textContent",{get:function(){return t(this)},set:function(e){switch(this.nodeType){case qi:case zn:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),Nw=function(e,i,n){e["$$"+i]=n}}}catch{}kr.DocumentType=Gd;kr.DOMException=Ze;kr.DOMImplementation=Sw;kr.Element=is;kr.Node=ke;kr.NodeList=Nn;kr.XMLSerializer=Iw;var Kd={},Rw={};(function(t){var e=Wn.freeze;t.XML_ENTITIES=e({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),t.HTML_ENTITIES=e({Aacute:"Á",aacute:"á",Abreve:"Ă",abreve:"ă",ac:"∾",acd:"∿",acE:"∾̳",Acirc:"Â",acirc:"â",acute:"´",Acy:"А",acy:"а",AElig:"Æ",aelig:"æ",af:"⁡",Afr:"𝔄",afr:"𝔞",Agrave:"À",agrave:"à",alefsym:"ℵ",aleph:"ℵ",Alpha:"Α",alpha:"α",Amacr:"Ā",amacr:"ā",amalg:"⨿",AMP:"&",amp:"&",And:"⩓",and:"∧",andand:"⩕",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsd:"∡",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",Aogon:"Ą",aogon:"ą",Aopf:"𝔸",aopf:"𝕒",ap:"≈",apacir:"⩯",apE:"⩰",ape:"≊",apid:"≋",apos:"'",ApplyFunction:"⁡",approx:"≈",approxeq:"≊",Aring:"Å",aring:"å",Ascr:"𝒜",ascr:"𝒶",Assign:"≔",ast:"*",asymp:"≈",asympeq:"≍",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",awconint:"∳",awint:"⨑",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",Backslash:"∖",Barv:"⫧",barvee:"⊽",Barwed:"⌆",barwed:"⌅",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",Bcy:"Б",bcy:"б",bdquo:"„",becaus:"∵",Because:"∵",because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",Bernoullis:"ℬ",Beta:"Β",beta:"β",beth:"ℶ",between:"≬",Bfr:"𝔅",bfr:"𝔟",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bNot:"⫭",bnot:"⌐",Bopf:"𝔹",bopf:"𝕓",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxbox:"⧉",boxDL:"╗",boxDl:"╖",boxdL:"╕",boxdl:"┐",boxDR:"╔",boxDr:"╓",boxdR:"╒",boxdr:"┌",boxH:"═",boxh:"─",boxHD:"╦",boxHd:"╤",boxhD:"╥",boxhd:"┬",boxHU:"╩",boxHu:"╧",boxhU:"╨",boxhu:"┴",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxUL:"╝",boxUl:"╜",boxuL:"╛",boxul:"┘",boxUR:"╚",boxUr:"╙",boxuR:"╘",boxur:"└",boxV:"║",boxv:"│",boxVH:"╬",boxVh:"╫",boxvH:"╪",boxvh:"┼",boxVL:"╣",boxVl:"╢",boxvL:"╡",boxvl:"┤",boxVR:"╠",boxVr:"╟",boxvR:"╞",boxvr:"├",bprime:"‵",Breve:"˘",breve:"˘",brvbar:"¦",Bscr:"ℬ",bscr:"𝒷",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsol:"\\",bsolb:"⧅",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpE:"⪮",bumpe:"≏",Bumpeq:"≎",bumpeq:"≏",Cacute:"Ć",cacute:"ć",Cap:"⋒",cap:"∩",capand:"⩄",capbrcup:"⩉",capcap:"⩋",capcup:"⩇",capdot:"⩀",CapitalDifferentialD:"ⅅ",caps:"∩︀",caret:"⁁",caron:"ˇ",Cayleys:"ℭ",ccaps:"⩍",Ccaron:"Č",ccaron:"č",Ccedil:"Ç",ccedil:"ç",Ccirc:"Ĉ",ccirc:"ĉ",Cconint:"∰",ccups:"⩌",ccupssm:"⩐",Cdot:"Ċ",cdot:"ċ",cedil:"¸",Cedilla:"¸",cemptyv:"⦲",cent:"¢",CenterDot:"·",centerdot:"·",Cfr:"ℭ",cfr:"𝔠",CHcy:"Ч",chcy:"ч",check:"✓",checkmark:"✓",Chi:"Χ",chi:"χ",cir:"○",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",CircleDot:"⊙",circledR:"®",circledS:"Ⓢ",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",cirE:"⧃",cire:"≗",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",clubs:"♣",clubsuit:"♣",Colon:"∷",colon:":",Colone:"⩴",colone:"≔",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",Congruent:"≡",Conint:"∯",conint:"∮",ContourIntegral:"∮",Copf:"ℂ",copf:"𝕔",coprod:"∐",Coproduct:"∐",COPY:"©",copy:"©",copysr:"℗",CounterClockwiseContourIntegral:"∳",crarr:"↵",Cross:"⨯",cross:"✗",Cscr:"𝒞",cscr:"𝒸",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",Cup:"⋓",cup:"∪",cupbrcap:"⩈",CupCap:"≍",cupcap:"⩆",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curren:"¤",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",Dagger:"‡",dagger:"†",daleth:"ℸ",Darr:"↡",dArr:"⇓",darr:"↓",dash:"‐",Dashv:"⫤",dashv:"⊣",dbkarow:"⤏",dblac:"˝",Dcaron:"Ď",dcaron:"ď",Dcy:"Д",dcy:"д",DD:"ⅅ",dd:"ⅆ",ddagger:"‡",ddarr:"⇊",DDotrahd:"⤑",ddotseq:"⩷",deg:"°",Del:"∇",Delta:"Δ",delta:"δ",demptyv:"⦱",dfisht:"⥿",Dfr:"𝔇",dfr:"𝔡",dHar:"⥥",dharl:"⇃",dharr:"⇂",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",diam:"⋄",Diamond:"⋄",diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",DifferentialD:"ⅆ",digamma:"ϝ",disin:"⋲",div:"÷",divide:"÷",divideontimes:"⋇",divonx:"⋇",DJcy:"Ђ",djcy:"ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",Dopf:"𝔻",dopf:"𝕕",Dot:"¨",dot:"˙",DotDot:"⃜",doteq:"≐",doteqdot:"≑",DotEqual:"≐",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",DownArrow:"↓",Downarrow:"⇓",downarrow:"↓",DownArrowBar:"⤓",DownArrowUpArrow:"⇵",DownBreve:"̑",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVector:"↽",DownLeftVectorBar:"⥖",DownRightTeeVector:"⥟",DownRightVector:"⇁",DownRightVectorBar:"⥗",DownTee:"⊤",DownTeeArrow:"↧",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",Dscr:"𝒟",dscr:"𝒹",DScy:"Ѕ",dscy:"ѕ",dsol:"⧶",Dstrok:"Đ",dstrok:"đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",DZcy:"Џ",dzcy:"џ",dzigrarr:"⟿",Eacute:"É",eacute:"é",easter:"⩮",Ecaron:"Ě",ecaron:"ě",ecir:"≖",Ecirc:"Ê",ecirc:"ê",ecolon:"≕",Ecy:"Э",ecy:"э",eDDot:"⩷",Edot:"Ė",eDot:"≑",edot:"ė",ee:"ⅇ",efDot:"≒",Efr:"𝔈",efr:"𝔢",eg:"⪚",Egrave:"È",egrave:"è",egs:"⪖",egsdot:"⪘",el:"⪙",Element:"∈",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",Emacr:"Ē",emacr:"ē",empty:"∅",emptyset:"∅",EmptySmallSquare:"◻",emptyv:"∅",EmptyVerySmallSquare:"▫",emsp:" ",emsp13:" ",emsp14:" ",ENG:"Ŋ",eng:"ŋ",ensp:" ",Eogon:"Ę",eogon:"ę",Eopf:"𝔼",eopf:"𝕖",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",Epsilon:"Ε",epsilon:"ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",Equal:"⩵",equals:"=",EqualTilde:"≂",equest:"≟",Equilibrium:"⇌",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erarr:"⥱",erDot:"≓",Escr:"ℰ",escr:"ℯ",esdot:"≐",Esim:"⩳",esim:"≂",Eta:"Η",eta:"η",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",euro:"€",excl:"!",exist:"∃",Exists:"∃",expectation:"ℰ",ExponentialE:"ⅇ",exponentiale:"ⅇ",fallingdotseq:"≒",Fcy:"Ф",fcy:"ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",Ffr:"𝔉",ffr:"𝔣",filig:"ﬁ",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",Fopf:"𝔽",fopf:"𝕗",ForAll:"∀",forall:"∀",fork:"⋔",forkv:"⫙",Fouriertrf:"ℱ",fpartint:"⨍",frac12:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",Fscr:"ℱ",fscr:"𝒻",gacute:"ǵ",Gamma:"Γ",gamma:"γ",Gammad:"Ϝ",gammad:"ϝ",gap:"⪆",Gbreve:"Ğ",gbreve:"ğ",Gcedil:"Ģ",Gcirc:"Ĝ",gcirc:"ĝ",Gcy:"Г",gcy:"г",Gdot:"Ġ",gdot:"ġ",gE:"≧",ge:"≥",gEl:"⪌",gel:"⋛",geq:"≥",geqq:"≧",geqslant:"⩾",ges:"⩾",gescc:"⪩",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",Gfr:"𝔊",gfr:"𝔤",Gg:"⋙",gg:"≫",ggg:"⋙",gimel:"ℷ",GJcy:"Ѓ",gjcy:"ѓ",gl:"≷",gla:"⪥",glE:"⪒",glj:"⪤",gnap:"⪊",gnapprox:"⪊",gnE:"≩",gne:"⪈",gneq:"⪈",gneqq:"≩",gnsim:"⋧",Gopf:"𝔾",gopf:"𝕘",grave:"`",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",Gscr:"𝒢",gscr:"ℊ",gsim:"≳",gsime:"⪎",gsiml:"⪐",Gt:"≫",GT:">",gt:">",gtcc:"⪧",gtcir:"⩺",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",Hacek:"ˇ",hairsp:" ",half:"½",hamilt:"ℋ",HARDcy:"Ъ",hardcy:"ъ",hArr:"⇔",harr:"↔",harrcir:"⥈",harrw:"↭",Hat:"^",hbar:"ℏ",Hcirc:"Ĥ",hcirc:"ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",Hfr:"ℌ",hfr:"𝔥",HilbertSpace:"ℋ",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",Hopf:"ℍ",hopf:"𝕙",horbar:"―",HorizontalLine:"─",Hscr:"ℋ",hscr:"𝒽",hslash:"ℏ",Hstrok:"Ħ",hstrok:"ħ",HumpDownHump:"≎",HumpEqual:"≏",hybull:"⁃",hyphen:"‐",Iacute:"Í",iacute:"í",ic:"⁣",Icirc:"Î",icirc:"î",Icy:"И",icy:"и",Idot:"İ",IEcy:"Е",iecy:"е",iexcl:"¡",iff:"⇔",Ifr:"ℑ",ifr:"𝔦",Igrave:"Ì",igrave:"ì",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",IJlig:"Ĳ",ijlig:"ĳ",Im:"ℑ",Imacr:"Ī",imacr:"ī",image:"ℑ",ImaginaryI:"ⅈ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",imof:"⊷",imped:"Ƶ",Implies:"⇒",in:"∈",incare:"℅",infin:"∞",infintie:"⧝",inodot:"ı",Int:"∬",int:"∫",intcal:"⊺",integers:"ℤ",Integral:"∫",intercal:"⊺",Intersection:"⋂",intlarhk:"⨗",intprod:"⨼",InvisibleComma:"⁣",InvisibleTimes:"⁢",IOcy:"Ё",iocy:"ё",Iogon:"Į",iogon:"į",Iopf:"𝕀",iopf:"𝕚",Iota:"Ι",iota:"ι",iprod:"⨼",iquest:"¿",Iscr:"ℐ",iscr:"𝒾",isin:"∈",isindot:"⋵",isinE:"⋹",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",Itilde:"Ĩ",itilde:"ĩ",Iukcy:"І",iukcy:"і",Iuml:"Ï",iuml:"ï",Jcirc:"Ĵ",jcirc:"ĵ",Jcy:"Й",jcy:"й",Jfr:"𝔍",jfr:"𝔧",jmath:"ȷ",Jopf:"𝕁",jopf:"𝕛",Jscr:"𝒥",jscr:"𝒿",Jsercy:"Ј",jsercy:"ј",Jukcy:"Є",jukcy:"є",Kappa:"Κ",kappa:"κ",kappav:"ϰ",Kcedil:"Ķ",kcedil:"ķ",Kcy:"К",kcy:"к",Kfr:"𝔎",kfr:"𝔨",kgreen:"ĸ",KHcy:"Х",khcy:"х",KJcy:"Ќ",kjcy:"ќ",Kopf:"𝕂",kopf:"𝕜",Kscr:"𝒦",kscr:"𝓀",lAarr:"⇚",Lacute:"Ĺ",lacute:"ĺ",laemptyv:"⦴",lagran:"ℒ",Lambda:"Λ",lambda:"λ",Lang:"⟪",lang:"⟨",langd:"⦑",langle:"⟨",lap:"⪅",Laplacetrf:"ℒ",laquo:"«",Larr:"↞",lArr:"⇐",larr:"←",larrb:"⇤",larrbfs:"⤟",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",lat:"⪫",lAtail:"⤛",latail:"⤙",late:"⪭",lates:"⪭︀",lBarr:"⤎",lbarr:"⤌",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",Lcaron:"Ľ",lcaron:"ľ",Lcedil:"Ļ",lcedil:"ļ",lceil:"⌈",lcub:"{",Lcy:"Л",lcy:"л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",lE:"≦",le:"≤",LeftAngleBracket:"⟨",LeftArrow:"←",Leftarrow:"⇐",leftarrow:"←",LeftArrowBar:"⇤",LeftArrowRightArrow:"⇆",leftarrowtail:"↢",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVector:"⇃",LeftDownVectorBar:"⥙",LeftFloor:"⌊",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",LeftRightArrow:"↔",Leftrightarrow:"⇔",leftrightarrow:"↔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",LeftRightVector:"⥎",LeftTee:"⊣",LeftTeeArrow:"↤",LeftTeeVector:"⥚",leftthreetimes:"⋋",LeftTriangle:"⊲",LeftTriangleBar:"⧏",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVector:"↿",LeftUpVectorBar:"⥘",LeftVector:"↼",LeftVectorBar:"⥒",lEg:"⪋",leg:"⋚",leq:"≤",leqq:"≦",leqslant:"⩽",les:"⩽",lescc:"⪨",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",lessgtr:"≶",LessLess:"⪡",lesssim:"≲",LessSlantEqual:"⩽",LessTilde:"≲",lfisht:"⥼",lfloor:"⌊",Lfr:"𝔏",lfr:"𝔩",lg:"≶",lgE:"⪑",lHar:"⥢",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",LJcy:"Љ",ljcy:"љ",Ll:"⋘",ll:"≪",llarr:"⇇",llcorner:"⌞",Lleftarrow:"⇚",llhard:"⥫",lltri:"◺",Lmidot:"Ŀ",lmidot:"ŀ",lmoust:"⎰",lmoustache:"⎰",lnap:"⪉",lnapprox:"⪉",lnE:"≨",lne:"⪇",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",LongLeftArrow:"⟵",Longleftarrow:"⟸",longleftarrow:"⟵",LongLeftRightArrow:"⟷",Longleftrightarrow:"⟺",longleftrightarrow:"⟷",longmapsto:"⟼",LongRightArrow:"⟶",Longrightarrow:"⟹",longrightarrow:"⟶",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",Lopf:"𝕃",lopf:"𝕝",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",LowerLeftArrow:"↙",LowerRightArrow:"↘",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",Lscr:"ℒ",lscr:"𝓁",Lsh:"↰",lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",Lstrok:"Ł",lstrok:"ł",Lt:"≪",LT:"<",lt:"<",ltcc:"⪦",ltcir:"⩹",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltri:"◃",ltrie:"⊴",ltrif:"◂",ltrPar:"⦖",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",macr:"¯",male:"♂",malt:"✠",maltese:"✠",Map:"⤅",map:"↦",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",Mcy:"М",mcy:"м",mdash:"—",mDDot:"∺",measuredangle:"∡",MediumSpace:" ",Mellintrf:"ℳ",Mfr:"𝔐",mfr:"𝔪",mho:"℧",micro:"µ",mid:"∣",midast:"*",midcir:"⫰",middot:"·",minus:"−",minusb:"⊟",minusd:"∸",minusdu:"⨪",MinusPlus:"∓",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",Mopf:"𝕄",mopf:"𝕞",mp:"∓",Mscr:"ℳ",mscr:"𝓂",mstpos:"∾",Mu:"Μ",mu:"μ",multimap:"⊸",mumap:"⊸",nabla:"∇",Nacute:"Ń",nacute:"ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natur:"♮",natural:"♮",naturals:"ℕ",nbsp:" ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",Ncaron:"Ň",ncaron:"ň",Ncedil:"Ņ",ncedil:"ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",Ncy:"Н",ncy:"н",ndash:"–",ne:"≠",nearhk:"⤤",neArr:"⇗",nearr:"↗",nearrow:"↗",nedot:"≐̸",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",nequiv:"≢",nesear:"⤨",nesim:"≂̸",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:`
`,nexist:"∄",nexists:"∄",Nfr:"𝔑",nfr:"𝔫",ngE:"≧̸",nge:"≱",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",nGg:"⋙̸",ngsim:"≵",nGt:"≫⃒",ngt:"≯",ngtr:"≯",nGtv:"≫̸",nhArr:"⇎",nharr:"↮",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",NJcy:"Њ",njcy:"њ",nlArr:"⇍",nlarr:"↚",nldr:"‥",nlE:"≦̸",nle:"≰",nLeftarrow:"⇍",nleftarrow:"↚",nLeftrightarrow:"⇎",nleftrightarrow:"↮",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nLl:"⋘̸",nlsim:"≴",nLt:"≪⃒",nlt:"≮",nltri:"⋪",nltrie:"⋬",nLtv:"≪̸",nmid:"∤",NoBreak:"⁠",NonBreakingSpace:" ",Nopf:"ℕ",nopf:"𝕟",Not:"⫬",not:"¬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",notin:"∉",notindot:"⋵̸",notinE:"⋹̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",NotLeftTriangle:"⋪",NotLeftTriangleBar:"⧏̸",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangle:"⋫",NotRightTriangleBar:"⧐̸",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",npar:"∦",nparallel:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",npre:"⪯̸",nprec:"⊀",npreceq:"⪯̸",nrArr:"⇏",nrarr:"↛",nrarrc:"⤳̸",nrarrw:"↝̸",nRightarrow:"⇏",nrightarrow:"↛",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",Nscr:"𝒩",nscr:"𝓃",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsubE:"⫅̸",nsube:"⊈",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupE:"⫆̸",nsupe:"⊉",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",Ntilde:"Ñ",ntilde:"ñ",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",Nu:"Ν",nu:"ν",num:"#",numero:"№",numsp:" ",nvap:"≍⃒",nVDash:"⊯",nVdash:"⊮",nvDash:"⊭",nvdash:"⊬",nvge:"≥⃒",nvgt:">⃒",nvHarr:"⤄",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwarhk:"⤣",nwArr:"⇖",nwarr:"↖",nwarrow:"↖",nwnear:"⤧",Oacute:"Ó",oacute:"ó",oast:"⊛",ocir:"⊚",Ocirc:"Ô",ocirc:"ô",Ocy:"О",ocy:"о",odash:"⊝",Odblac:"Ő",odblac:"ő",odiv:"⨸",odot:"⊙",odsold:"⦼",OElig:"Œ",oelig:"œ",ofcir:"⦿",Ofr:"𝔒",ofr:"𝔬",ogon:"˛",Ograve:"Ò",ograve:"ò",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",Omacr:"Ō",omacr:"ō",Omega:"Ω",omega:"ω",Omicron:"Ο",omicron:"ο",omid:"⦶",ominus:"⊖",Oopf:"𝕆",oopf:"𝕠",opar:"⦷",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",operp:"⦹",oplus:"⊕",Or:"⩔",or:"∨",orarr:"↻",ord:"⩝",order:"ℴ",orderof:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oS:"Ⓢ",Oscr:"𝒪",oscr:"ℴ",Oslash:"Ø",oslash:"ø",osol:"⊘",Otilde:"Õ",otilde:"õ",Otimes:"⨷",otimes:"⊗",otimesas:"⨶",Ouml:"Ö",ouml:"ö",ovbar:"⌽",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",par:"∥",para:"¶",parallel:"∥",parsim:"⫳",parsl:"⫽",part:"∂",PartialD:"∂",Pcy:"П",pcy:"п",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",Pfr:"𝔓",pfr:"𝔭",Phi:"Φ",phi:"φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",Pi:"Π",pi:"π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plus:"+",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plusdo:"∔",plusdu:"⨥",pluse:"⩲",PlusMinus:"±",plusmn:"±",plussim:"⨦",plustwo:"⨧",pm:"±",Poincareplane:"ℌ",pointint:"⨕",Popf:"ℙ",popf:"𝕡",pound:"£",Pr:"⪻",pr:"≺",prap:"⪷",prcue:"≼",prE:"⪳",pre:"⪯",prec:"≺",precapprox:"⪷",preccurlyeq:"≼",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",precsim:"≾",Prime:"″",prime:"′",primes:"ℙ",prnap:"⪹",prnE:"⪵",prnsim:"⋨",prod:"∏",Product:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",Proportion:"∷",Proportional:"∝",propto:"∝",prsim:"≾",prurel:"⊰",Pscr:"𝒫",pscr:"𝓅",Psi:"Ψ",psi:"ψ",puncsp:" ",Qfr:"𝔔",qfr:"𝔮",qint:"⨌",Qopf:"ℚ",qopf:"𝕢",qprime:"⁗",Qscr:"𝒬",qscr:"𝓆",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",QUOT:'"',quot:'"',rAarr:"⇛",race:"∽̱",Racute:"Ŕ",racute:"ŕ",radic:"√",raemptyv:"⦳",Rang:"⟫",rang:"⟩",rangd:"⦒",range:"⦥",rangle:"⟩",raquo:"»",Rarr:"↠",rArr:"⇒",rarr:"→",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",Rarrtl:"⤖",rarrtl:"↣",rarrw:"↝",rAtail:"⤜",ratail:"⤚",ratio:"∶",rationals:"ℚ",RBarr:"⤐",rBarr:"⤏",rbarr:"⤍",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",Rcaron:"Ř",rcaron:"ř",Rcedil:"Ŗ",rcedil:"ŗ",rceil:"⌉",rcub:"}",Rcy:"Р",rcy:"р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",Re:"ℜ",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",rect:"▭",REG:"®",reg:"®",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",rfisht:"⥽",rfloor:"⌋",Rfr:"ℜ",rfr:"𝔯",rHar:"⥤",rhard:"⇁",rharu:"⇀",rharul:"⥬",Rho:"Ρ",rho:"ρ",rhov:"ϱ",RightAngleBracket:"⟩",RightArrow:"→",Rightarrow:"⇒",rightarrow:"→",RightArrowBar:"⇥",RightArrowLeftArrow:"⇄",rightarrowtail:"↣",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVector:"⇂",RightDownVectorBar:"⥕",RightFloor:"⌋",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",RightTee:"⊢",RightTeeArrow:"↦",RightTeeVector:"⥛",rightthreetimes:"⋌",RightTriangle:"⊳",RightTriangleBar:"⧐",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVector:"↾",RightUpVectorBar:"⥔",RightVector:"⇀",RightVectorBar:"⥓",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoust:"⎱",rmoustache:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",Ropf:"ℝ",ropf:"𝕣",roplus:"⨮",rotimes:"⨵",RoundImplies:"⥰",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",Rrightarrow:"⇛",rsaquo:"›",Rscr:"ℛ",rscr:"𝓇",Rsh:"↱",rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",RuleDelayed:"⧴",ruluhar:"⥨",rx:"℞",Sacute:"Ś",sacute:"ś",sbquo:"‚",Sc:"⪼",sc:"≻",scap:"⪸",Scaron:"Š",scaron:"š",sccue:"≽",scE:"⪴",sce:"⪰",Scedil:"Ş",scedil:"ş",Scirc:"Ŝ",scirc:"ŝ",scnap:"⪺",scnE:"⪶",scnsim:"⋩",scpolint:"⨓",scsim:"≿",Scy:"С",scy:"с",sdot:"⋅",sdotb:"⊡",sdote:"⩦",searhk:"⤥",seArr:"⇘",searr:"↘",searrow:"↘",sect:"§",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",Sfr:"𝔖",sfr:"𝔰",sfrown:"⌢",sharp:"♯",SHCHcy:"Щ",shchcy:"щ",SHcy:"Ш",shcy:"ш",ShortDownArrow:"↓",ShortLeftArrow:"←",shortmid:"∣",shortparallel:"∥",ShortRightArrow:"→",ShortUpArrow:"↑",shy:"­",Sigma:"Σ",sigma:"σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",SmallCircle:"∘",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",SOFTcy:"Ь",softcy:"ь",sol:"/",solb:"⧄",solbar:"⌿",Sopf:"𝕊",sopf:"𝕤",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",Sqrt:"√",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",squ:"□",Square:"□",square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",squarf:"▪",squf:"▪",srarr:"→",Sscr:"𝒮",sscr:"𝓈",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",Star:"⋆",star:"☆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",Sub:"⋐",sub:"⊂",subdot:"⪽",subE:"⫅",sube:"⊆",subedot:"⫃",submult:"⫁",subnE:"⫋",subne:"⊊",subplus:"⪿",subrarr:"⥹",Subset:"⋐",subset:"⊂",subseteq:"⊆",subseteqq:"⫅",SubsetEqual:"⊆",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succ:"≻",succapprox:"⪸",succcurlyeq:"≽",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",SuchThat:"∋",Sum:"∑",sum:"∑",sung:"♪",Sup:"⋑",sup:"⊃",sup1:"¹",sup2:"²",sup3:"³",supdot:"⪾",supdsub:"⫘",supE:"⫆",supe:"⊇",supedot:"⫄",Superset:"⊃",SupersetEqual:"⊇",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supnE:"⫌",supne:"⊋",supplus:"⫀",Supset:"⋑",supset:"⊃",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swarhk:"⤦",swArr:"⇙",swarr:"↙",swarrow:"↙",swnwar:"⤪",szlig:"ß",Tab:"	",target:"⌖",Tau:"Τ",tau:"τ",tbrk:"⎴",Tcaron:"Ť",tcaron:"ť",Tcedil:"Ţ",tcedil:"ţ",Tcy:"Т",tcy:"т",tdot:"⃛",telrec:"⌕",Tfr:"𝔗",tfr:"𝔱",there4:"∴",Therefore:"∴",therefore:"∴",Theta:"Θ",theta:"θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",ThickSpace:"  ",thinsp:" ",ThinSpace:" ",thkap:"≈",thksim:"∼",THORN:"Þ",thorn:"þ",Tilde:"∼",tilde:"˜",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",times:"×",timesb:"⊠",timesbar:"⨱",timesd:"⨰",tint:"∭",toea:"⤨",top:"⊤",topbot:"⌶",topcir:"⫱",Topf:"𝕋",topf:"𝕥",topfork:"⫚",tosa:"⤩",tprime:"‴",TRADE:"™",trade:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",TripleDot:"⃛",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",Tscr:"𝒯",tscr:"𝓉",TScy:"Ц",tscy:"ц",TSHcy:"Ћ",tshcy:"ћ",Tstrok:"Ŧ",tstrok:"ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",Uacute:"Ú",uacute:"ú",Uarr:"↟",uArr:"⇑",uarr:"↑",Uarrocir:"⥉",Ubrcy:"Ў",ubrcy:"ў",Ubreve:"Ŭ",ubreve:"ŭ",Ucirc:"Û",ucirc:"û",Ucy:"У",ucy:"у",udarr:"⇅",Udblac:"Ű",udblac:"ű",udhar:"⥮",ufisht:"⥾",Ufr:"𝔘",ufr:"𝔲",Ugrave:"Ù",ugrave:"ù",uHar:"⥣",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",Umacr:"Ū",umacr:"ū",uml:"¨",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",Uogon:"Ų",uogon:"ų",Uopf:"𝕌",uopf:"𝕦",UpArrow:"↑",Uparrow:"⇑",uparrow:"↑",UpArrowBar:"⤒",UpArrowDownArrow:"⇅",UpDownArrow:"↕",Updownarrow:"⇕",updownarrow:"↕",UpEquilibrium:"⥮",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",UpperLeftArrow:"↖",UpperRightArrow:"↗",Upsi:"ϒ",upsi:"υ",upsih:"ϒ",Upsilon:"Υ",upsilon:"υ",UpTee:"⊥",UpTeeArrow:"↥",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",Uring:"Ů",uring:"ů",urtri:"◹",Uscr:"𝒰",uscr:"𝓊",utdot:"⋰",Utilde:"Ũ",utilde:"ũ",utri:"▵",utrif:"▴",uuarr:"⇈",Uuml:"Ü",uuml:"ü",uwangle:"⦧",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",vArr:"⇕",varr:"↕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",Vbar:"⫫",vBar:"⫨",vBarv:"⫩",Vcy:"В",vcy:"в",VDash:"⊫",Vdash:"⊩",vDash:"⊨",vdash:"⊢",Vdashl:"⫦",Vee:"⋁",vee:"∨",veebar:"⊻",veeeq:"≚",vellip:"⋮",Verbar:"‖",verbar:"|",Vert:"‖",vert:"|",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",Vfr:"𝔙",vfr:"𝔳",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",Vopf:"𝕍",vopf:"𝕧",vprop:"∝",vrtri:"⊳",Vscr:"𝒱",vscr:"𝓋",vsubnE:"⫋︀",vsubne:"⊊︀",vsupnE:"⫌︀",vsupne:"⊋︀",Vvdash:"⊪",vzigzag:"⦚",Wcirc:"Ŵ",wcirc:"ŵ",wedbar:"⩟",Wedge:"⋀",wedge:"∧",wedgeq:"≙",weierp:"℘",Wfr:"𝔚",wfr:"𝔴",Wopf:"𝕎",wopf:"𝕨",wp:"℘",wr:"≀",wreath:"≀",Wscr:"𝒲",wscr:"𝓌",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",Xfr:"𝔛",xfr:"𝔵",xhArr:"⟺",xharr:"⟷",Xi:"Ξ",xi:"ξ",xlArr:"⟸",xlarr:"⟵",xmap:"⟼",xnis:"⋻",xodot:"⨀",Xopf:"𝕏",xopf:"𝕩",xoplus:"⨁",xotime:"⨂",xrArr:"⟹",xrarr:"⟶",Xscr:"𝒳",xscr:"𝓍",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",Yacute:"Ý",yacute:"ý",YAcy:"Я",yacy:"я",Ycirc:"Ŷ",ycirc:"ŷ",Ycy:"Ы",ycy:"ы",yen:"¥",Yfr:"𝔜",yfr:"𝔶",YIcy:"Ї",yicy:"ї",Yopf:"𝕐",yopf:"𝕪",Yscr:"𝒴",yscr:"𝓎",YUcy:"Ю",yucy:"ю",Yuml:"Ÿ",yuml:"ÿ",Zacute:"Ź",zacute:"ź",Zcaron:"Ž",zcaron:"ž",Zcy:"З",zcy:"з",Zdot:"Ż",zdot:"ż",zeetrf:"ℨ",ZeroWidthSpace:"​",Zeta:"Ζ",zeta:"ζ",Zfr:"ℨ",zfr:"𝔷",ZHcy:"Ж",zhcy:"ж",zigrarr:"⇝",Zopf:"ℤ",zopf:"𝕫",Zscr:"𝒵",zscr:"𝓏",zwj:"‍",zwnj:"‌"}),t.entityMap=t.HTML_ENTITIES})(Rw);var C0={},_l=Wn.NAMESPACE,Om=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,P1=new RegExp("[\\-\\.0-9"+Om.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),I1=new RegExp("^"+Om.source+P1.source+"*(?::"+Om.source+P1.source+"*)?$"),ha=0,Qn=1,vs=2,fa=3,_s=4,bs=5,pa=6,Mu=7;function po(t,e){this.message=t,this.locator=e,Error.captureStackTrace&&Error.captureStackTrace(this,po)}po.prototype=new Error;po.prototype.name=po.name;function Mw(){}Mw.prototype={parse:function(t,e,i){var n=this.domBuilder;n.startDocument(),Bw(e,e={}),rL(t,e,i,n,this.errorHandler),n.endDocument()}};function rL(t,e,i,n,r){function s(Z){if(Z>65535){Z-=65536;var ee=55296+(Z>>10),W=56320+(Z&1023);return String.fromCharCode(ee,W)}else return String.fromCharCode(Z)}function o(Z){var ee=Z.slice(1,-1);return Object.hasOwnProperty.call(i,ee)?i[ee]:ee.charAt(0)==="#"?s(parseInt(ee.substr(1).replace("x","0x"))):(r.error("entity not found:"+Z),Z)}function a(Z){if(Z>w){var ee=t.substring(w,Z).replace(/&#?\w+;/g,o);y&&l(w),n.characters(ee,0,Z-w),w=Z}}function l(Z,ee){for(;Z>=d&&(ee=p.exec(t));)u=ee.index,d=u+ee[0].length,y.lineNumber++;y.columnNumber=Z-u+1}for(var u=0,d=0,p=/.*(?:\r\n?|\n)|.*$/g,y=n.locator,T=[{currentNSMap:e}],v={},w=0;;){try{var k=t.indexOf("<",w);if(k<0){if(!t.substr(w).match(/^\s*$/)){var x=n.doc,b=x.createTextNode(t.substr(w));x.appendChild(b),n.currentElement=b}return}switch(k>w&&a(k),t.charAt(k+1)){case"/":var Q=t.indexOf(">",k+3),S=t.substring(k+2,Q).replace(/[ \t\n\r]+$/g,""),E=T.pop();Q<0?(S=t.substring(k+2).replace(/[\s<].*/,""),r.error("end tag name: "+S+" is not complete:"+E.tagName),Q=k+1+S.length):S.match(/\s</)&&(S=S.replace(/[\s<].*/,""),r.error("end tag name: "+S+" maybe not complete"),Q=k+1+S.length);var A=E.localNSMap,N=E.tagName==S,M=N||E.tagName&&E.tagName.toLowerCase()==S.toLowerCase();if(M){if(n.endElement(E.uri,E.localName,S),A)for(var U in A)Object.prototype.hasOwnProperty.call(A,U)&&n.endPrefixMapping(U);N||r.fatalError("end tag name: "+S+" is not match the current start tagName:"+E.tagName)}else T.push(E);Q++;break;case"?":y&&l(k),Q=uL(t,k,n);break;case"!":y&&l(k),Q=lL(t,k,n,r);break;default:y&&l(k);var H=new Fw,j=T[T.length-1].currentNSMap,Q=sL(t,k,H,j,o,r),ie=H.length;if(!H.closed&&aL(t,Q,H.tagName,v)&&(H.closed=!0,i.nbsp||r.warning("unclosed xml attribute")),y&&ie){for(var q=O1(y,{}),oe=0;oe<ie;oe++){var ae=H[oe];l(ae.offset),ae.locator=O1(y,{})}n.locator=q,L1(H,n,j)&&T.push(H),n.locator=y}else L1(H,n,j)&&T.push(H);_l.isHTML(H.uri)&&!H.closed?Q=oL(t,Q,H.tagName,o,n):Q++}}catch(Z){if(Z instanceof po)throw Z;r.error("element parse error: "+Z),Q=-1}Q>w?w=Q:a(Math.max(k,w)+1)}}function O1(t,e){return e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber,e}function sL(t,e,i,n,r,s){function o(y,T,v){i.attributeNames.hasOwnProperty(y)&&s.fatalError("Attribute "+y+" redefined"),i.addValue(y,T.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,r),v)}for(var a,l,u=++e,d=ha;;){var p=t.charAt(u);switch(p){case"=":if(d===Qn)a=t.slice(e,u),d=fa;else if(d===vs)d=fa;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(d===fa||d===Qn)if(d===Qn&&(s.warning('attribute value must after "="'),a=t.slice(e,u)),e=u+1,u=t.indexOf(p,e),u>0)l=t.slice(e,u),o(a,l,e-1),d=bs;else throw new Error("attribute value no end '"+p+"' match");else if(d==_s)l=t.slice(e,u),o(a,l,e),s.warning('attribute "'+a+'" missed start quot('+p+")!!"),e=u+1,d=bs;else throw new Error('attribute value must after "="');break;case"/":switch(d){case ha:i.setTagName(t.slice(e,u));case bs:case pa:case Mu:d=Mu,i.closed=!0;case _s:case Qn:break;case vs:i.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return s.error("unexpected end of input"),d==ha&&i.setTagName(t.slice(e,u)),u;case">":switch(d){case ha:i.setTagName(t.slice(e,u));case bs:case pa:case Mu:break;case _s:case Qn:l=t.slice(e,u),l.slice(-1)==="/"&&(i.closed=!0,l=l.slice(0,-1));case vs:d===vs&&(l=a),d==_s?(s.warning('attribute "'+l+'" missed quot(")!'),o(a,l,e)):((!_l.isHTML(n[""])||!l.match(/^(?:disabled|checked|selected)$/i))&&s.warning('attribute "'+l+'" missed value!! "'+l+'" instead!!'),o(l,l,e));break;case fa:throw new Error("attribute value missed!!")}return u;case"":p=" ";default:if(p<=" ")switch(d){case ha:i.setTagName(t.slice(e,u)),d=pa;break;case Qn:a=t.slice(e,u),d=vs;break;case _s:var l=t.slice(e,u);s.warning('attribute "'+l+'" missed quot(")!!'),o(a,l,e);case bs:d=pa;break}else switch(d){case vs:i.tagName,(!_l.isHTML(n[""])||!a.match(/^(?:disabled|checked|selected)$/i))&&s.warning('attribute "'+a+'" missed value!! "'+a+'" instead2!!'),o(a,a,e),e=u,d=Qn;break;case bs:s.warning('attribute space is required"'+a+'"!!');case pa:d=Qn,e=u;break;case fa:d=_s,e=u;break;case Mu:throw new Error("elements closed character '/' and '>' must be connected to")}}u++}}function L1(t,e,i){for(var n=t.tagName,r=null,p=t.length;p--;){var s=t[p],o=s.qName,a=s.value,y=o.indexOf(":");if(y>0)var l=s.prefix=o.slice(0,y),u=o.slice(y+1),d=l==="xmlns"&&u;else u=o,l=null,d=o==="xmlns"&&"";s.localName=u,d!==!1&&(r==null&&(r={},Bw(i,i={})),i[d]=r[d]=a,s.uri=_l.XMLNS,e.startPrefixMapping(d,a))}for(var p=t.length;p--;){s=t[p];var l=s.prefix;l&&(l==="xml"&&(s.uri=_l.XML),l!=="xmlns"&&(s.uri=i[l||""]))}var y=n.indexOf(":");y>0?(l=t.prefix=n.slice(0,y),u=t.localName=n.slice(y+1)):(l=null,u=t.localName=n);var T=t.uri=i[l||""];if(e.startElement(T,u,n,t),t.closed){if(e.endElement(T,u,n),r)for(l in r)Object.prototype.hasOwnProperty.call(r,l)&&e.endPrefixMapping(l)}else return t.currentNSMap=i,t.localNSMap=r,!0}function oL(t,e,i,n,r){if(/^(?:script|textarea)$/i.test(i)){var s=t.indexOf("</"+i+">",e),o=t.substring(e+1,s);if(/[&<]/.test(o))return/^script$/i.test(i)?(r.characters(o,0,o.length),s):(o=o.replace(/&#?\w+;/g,n),r.characters(o,0,o.length),s)}return e+1}function aL(t,e,i,n){var r=n[i];return r==null&&(r=t.lastIndexOf("</"+i+">"),r<e&&(r=t.lastIndexOf("</"+i)),n[i]=r),r<e}function Bw(t,e){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}function lL(t,e,i,n){var r=t.charAt(e+2);switch(r){case"-":if(t.charAt(e+3)==="-"){var s=t.indexOf("-->",e+4);return s>e?(i.comment(t,e+4,s-e-4),s+3):(n.error("Unclosed comment"),-1)}else return-1;default:if(t.substr(e+3,6)=="CDATA["){var s=t.indexOf("]]>",e+9);return i.startCDATA(),i.characters(t,e+9,s-e-9),i.endCDATA(),s+3}var o=cL(t,e),a=o.length;if(a>1&&/!doctype/i.test(o[0][0])){var l=o[1][0],u=!1,d=!1;a>3&&(/^public$/i.test(o[2][0])?(u=o[3][0],d=a>4&&o[4][0]):/^system$/i.test(o[2][0])&&(d=o[3][0]));var p=o[a-1];return i.startDTD(l,u,d),i.endDTD(),p.index+p[0].length}}return-1}function uL(t,e,i){var n=t.indexOf("?>",e);if(n){var r=t.substring(e,n).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return r?(r[0].length,i.processingInstruction(r[1],r[2]),n+2):-1}return-1}function Fw(){this.attributeNames={}}Fw.prototype={setTagName:function(t){if(!I1.test(t))throw new Error("invalid tagName:"+t);this.tagName=t},addValue:function(t,e,i){if(!I1.test(t))throw new Error("invalid attribute:"+t);this.attributeNames[t]=this.length,this[this.length++]={qName:t,value:e,offset:i}},length:0,getLocalName:function(t){return this[t].localName},getLocator:function(t){return this[t].locator},getQName:function(t){return this[t].qName},getURI:function(t){return this[t].uri},getValue:function(t){return this[t].value}};function cL(t,e){var i,n=[],r=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(r.lastIndex=e,r.exec(t);i=r.exec(t);)if(n.push(i),i[1])return n}C0.XMLReader=Mw;C0.ParseError=po;var dL=Wn,hL=kr,N1=Rw,jw=C0,fL=hL.DOMImplementation,R1=dL.NAMESPACE,pL=jw.ParseError,mL=jw.XMLReader;function Uw(t){return t.replace(/\r[\n\u0085]/g,`
`).replace(/[\r\u0085\u2028]/g,`
`)}function $w(t){this.options=t||{locator:{}}}$w.prototype.parseFromString=function(t,e){var i=this.options,n=new mL,r=i.domBuilder||new Nl,s=i.errorHandler,o=i.locator,a=i.xmlns||{},l=/\/x?html?$/.test(e),u=l?N1.HTML_ENTITIES:N1.XML_ENTITIES;o&&r.setDocumentLocator(o),n.errorHandler=gL(s,r,o),n.domBuilder=i.domBuilder||r,l&&(a[""]=R1.HTML),a.xml=a.xml||R1.XML;var d=i.normalizeLineEndings||Uw;return t&&typeof t=="string"?n.parse(d(t),a,u):n.errorHandler.error("invalid doc source"),r.doc};function gL(t,e,i){if(!t){if(e instanceof Nl)return e;t=e}var n={},r=t instanceof Function;i=i||{};function s(o){var a=t[o];!a&&r&&(a=t.length==2?function(l){t(o,l)}:t),n[o]=a&&function(l){a("[xmldom "+o+"]	"+l+Lm(i))}||function(){}}return s("warning"),s("error"),s("fatalError"),n}function Nl(){this.cdata=!1}function xs(t,e){e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber}Nl.prototype={startDocument:function(){this.doc=new fL().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(t,e,i,n){var r=this.doc,s=r.createElementNS(t,i||e),o=n.length;Bu(this,s),this.currentElement=s,this.locator&&xs(this.locator,s);for(var a=0;a<o;a++){var t=n.getURI(a),l=n.getValue(a),i=n.getQName(a),u=r.createAttributeNS(t,i);this.locator&&xs(n.getLocator(a),u),u.value=u.nodeValue=l,s.setAttributeNode(u)}},endElement:function(t,e,i){var n=this.currentElement;n.tagName,this.currentElement=n.parentNode},startPrefixMapping:function(t,e){},endPrefixMapping:function(t){},processingInstruction:function(t,e){var i=this.doc.createProcessingInstruction(t,e);this.locator&&xs(this.locator,i),Bu(this,i)},ignorableWhitespace:function(t,e,i){},characters:function(t,e,i){if(t=M1.apply(this,arguments),t){if(this.cdata)var n=this.doc.createCDATASection(t);else var n=this.doc.createTextNode(t);this.currentElement?this.currentElement.appendChild(n):/^\s*$/.test(t)&&this.doc.appendChild(n),this.locator&&xs(this.locator,n)}},skippedEntity:function(t){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(t){(this.locator=t)&&(t.lineNumber=0)},comment:function(t,e,i){t=M1.apply(this,arguments);var n=this.doc.createComment(t);this.locator&&xs(this.locator,n),Bu(this,n)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(t,e,i){var n=this.doc.implementation;if(n&&n.createDocumentType){var r=n.createDocumentType(t,e,i);this.locator&&xs(this.locator,r),Bu(this,r),this.doc.doctype=r}},warning:function(t){console.warn("[xmldom warning]	"+t,Lm(this.locator))},error:function(t){console.error("[xmldom error]	"+t,Lm(this.locator))},fatalError:function(t){throw new pL(t,this.locator)}};function Lm(t){if(t)return`
@`+(t.systemId||"")+"#[line:"+t.lineNumber+",col:"+t.columnNumber+"]"}function M1(t,e,i){return typeof t=="string"?t.substr(e,i):t.length>=e+i||e?new java.lang.String(t,e,i)+"":t}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(t){Nl.prototype[t]=function(){return null}});function Bu(t,e){t.currentElement?t.currentElement.appendChild(e):t.doc.appendChild(e)}Kd.__DOMHandler=Nl;Kd.normalizeLineEndings=Uw;Kd.DOMParser=$w;var yL=Kd.DOMParser;/*! @name mpd-parser @version 1.2.2 @license Apache-2.0 */const B1=t=>!!t&&typeof t=="object",ct=(...t)=>t.reduce((e,i)=>(typeof i!="object"||Object.keys(i).forEach(n=>{Array.isArray(e[n])&&Array.isArray(i[n])?e[n]=e[n].concat(i[n]):B1(e[n])&&B1(i[n])?e[n]=ct(e[n],i[n]):e[n]=i[n]}),e),{}),zw=t=>Object.keys(t).map(e=>t[e]),vL=(t,e)=>{const i=[];for(let n=t;n<e;n++)i.push(n);return i},mo=t=>t.reduce((e,i)=>e.concat(i),[]),Vw=t=>{if(!t.length)return[];const e=[];for(let i=0;i<t.length;i++)e.push(t[i]);return e},_L=(t,e)=>t.reduce((i,n,r)=>(n[e]&&i.push(r),i),[]),bL=(t,e)=>zw(t.reduce((i,n)=>(n.forEach(r=>{i[e(r)]=r}),i),{}));var go={INVALID_NUMBER_OF_PERIOD:"INVALID_NUMBER_OF_PERIOD",INVALID_NUMBER_OF_CONTENT_STEERING:"INVALID_NUMBER_OF_CONTENT_STEERING",DASH_EMPTY_MANIFEST:"DASH_EMPTY_MANIFEST",DASH_INVALID_XML:"DASH_INVALID_XML",NO_BASE_URL:"NO_BASE_URL",MISSING_SEGMENT_INFORMATION:"MISSING_SEGMENT_INFORMATION",SEGMENT_TIME_UNSPECIFIED:"SEGMENT_TIME_UNSPECIFIED",UNSUPPORTED_UTC_TIMING_SCHEME:"UNSUPPORTED_UTC_TIMING_SCHEME"};const bl=({baseUrl:t="",source:e="",range:i="",indexRange:n=""})=>{const r={uri:e,resolvedUri:g0(t||"",e)};if(i||n){const o=(i||n).split("-");let a=O.BigInt?O.BigInt(o[0]):parseInt(o[0],10),l=O.BigInt?O.BigInt(o[1]):parseInt(o[1],10);a<Number.MAX_SAFE_INTEGER&&typeof a=="bigint"&&(a=Number(a)),l<Number.MAX_SAFE_INTEGER&&typeof l=="bigint"&&(l=Number(l));let u;typeof l=="bigint"||typeof a=="bigint"?u=O.BigInt(l)-O.BigInt(a)+O.BigInt(1):u=l-a+1,typeof u=="bigint"&&u<Number.MAX_SAFE_INTEGER&&(u=Number(u)),r.byterange={length:u,offset:a}}return r},xL=t=>{let e;return typeof t.offset=="bigint"||typeof t.length=="bigint"?e=O.BigInt(t.offset)+O.BigInt(t.length)-O.BigInt(1):e=t.offset+t.length-1,`${t.offset}-${e}`},F1=t=>(t&&typeof t!="number"&&(t=parseInt(t,10)),isNaN(t)?null:t),TL={static(t){const{duration:e,timescale:i=1,sourceDuration:n,periodDuration:r}=t,s=F1(t.endNumber),o=e/i;return typeof s=="number"?{start:0,end:s}:typeof r=="number"?{start:0,end:r/o}:{start:0,end:n/o}},dynamic(t){const{NOW:e,clientOffset:i,availabilityStartTime:n,timescale:r=1,duration:s,periodStart:o=0,minimumUpdatePeriod:a=0,timeShiftBufferDepth:l=1/0}=t,u=F1(t.endNumber),d=(e+i)/1e3,p=n+o,T=d+a-p,v=Math.ceil(T*r/s),w=Math.floor((d-p-l)*r/s),k=Math.floor((d-p)*r/s);return{start:Math.max(0,w),end:typeof u=="number"?u:Math.min(v,k)}}},wL=t=>e=>{const{duration:i,timescale:n=1,periodStart:r,startNumber:s=1}=t;return{number:s+e,duration:i/n,timeline:r,time:e*i}},k0=t=>{const{type:e,duration:i,timescale:n=1,periodDuration:r,sourceDuration:s}=t,{start:o,end:a}=TL[e](t),l=vL(o,a).map(wL(t));if(e==="static"){const u=l.length-1,d=typeof r=="number"?r:s;l[u].duration=d-i/n*u}return l},Hw=t=>{const{baseUrl:e,initialization:i={},sourceDuration:n,indexRange:r="",periodStart:s,presentationTime:o,number:a=0,duration:l}=t;if(!e)throw new Error(go.NO_BASE_URL);const u=bl({baseUrl:e,source:i.sourceURL,range:i.range}),d=bl({baseUrl:e,source:e,indexRange:r});if(d.map=u,l){const p=k0(t);p.length&&(d.duration=p[0].duration,d.timeline=p[0].timeline)}else n&&(d.duration=n,d.timeline=s);return d.presentationTime=o||s,d.number=a,[d]},D0=(t,e,i)=>{const n=t.sidx.map?t.sidx.map:null,r=t.sidx.duration,s=t.timeline||0,o=t.sidx.byterange,a=o.offset+o.length,l=e.timescale,u=e.references.filter(k=>k.referenceType!==1),d=[],p=t.endList?"static":"dynamic",y=t.sidx.timeline;let T=y,v=t.mediaSequence||0,w;typeof e.firstOffset=="bigint"?w=O.BigInt(a)+e.firstOffset:w=a+e.firstOffset;for(let k=0;k<u.length;k++){const x=e.references[k],b=x.referencedSize,S=x.subsegmentDuration;let E;typeof w=="bigint"?E=w+O.BigInt(b)-O.BigInt(1):E=w+b-1;const A=`${w}-${E}`,M=Hw({baseUrl:i,timescale:l,timeline:s,periodStart:y,presentationTime:T,number:v,duration:S,sourceDuration:r,indexRange:A,type:p})[0];n&&(M.map=n),d.push(M),typeof w=="bigint"?w+=O.BigInt(b):w+=b,T+=S/l,v++}return t.segments=d,t},SL=["AUDIO","SUBTITLES"],EL=1/60,qw=t=>bL(t,({timeline:e})=>e).sort((e,i)=>e.timeline>i.timeline?1:-1),CL=(t,e)=>{for(let i=0;i<t.length;i++)if(t[i].attributes.NAME===e)return t[i];return null},j1=t=>{let e=[];return $8(t,SL,(i,n,r,s)=>{e=e.concat(i.playlists||[])}),e},U1=({playlist:t,mediaSequence:e})=>{t.mediaSequence=e,t.segments.forEach((i,n)=>{i.number=t.mediaSequence+n})},kL=({oldPlaylists:t,newPlaylists:e,timelineStarts:i})=>{e.forEach(n=>{n.discontinuitySequence=i.findIndex(function({timeline:l}){return l===n.timeline});const r=CL(t,n.attributes.NAME);if(!r||n.sidx)return;const s=n.segments[0],o=r.segments.findIndex(function(l){return Math.abs(l.presentationTime-s.presentationTime)<EL});if(o===-1){U1({playlist:n,mediaSequence:r.mediaSequence+r.segments.length}),n.segments[0].discontinuity=!0,n.discontinuityStarts.unshift(0),(!r.segments.length&&n.timeline>r.timeline||r.segments.length&&n.timeline>r.segments[r.segments.length-1].timeline)&&n.discontinuitySequence--;return}r.segments[o].discontinuity&&!s.discontinuity&&(s.discontinuity=!0,n.discontinuityStarts.unshift(0),n.discontinuitySequence--),U1({playlist:n,mediaSequence:r.segments[o].number})})},DL=({oldManifest:t,newManifest:e})=>{const i=t.playlists.concat(j1(t)),n=e.playlists.concat(j1(e));return e.timelineStarts=qw([t.timelineStarts,e.timelineStarts]),kL({oldPlaylists:i,newPlaylists:n,timelineStarts:e.timelineStarts}),e},Yd=t=>t&&t.uri+"-"+xL(t.byterange),Uf=t=>{const e=t.reduce(function(n,r){return n[r.attributes.baseUrl]||(n[r.attributes.baseUrl]=[]),n[r.attributes.baseUrl].push(r),n},{});let i=[];return Object.values(e).forEach(n=>{const r=zw(n.reduce((s,o)=>{const a=o.attributes.id+(o.attributes.lang||"");return s[a]?(o.segments&&(o.segments[0]&&(o.segments[0].discontinuity=!0),s[a].segments.push(...o.segments)),o.attributes.contentProtection&&(s[a].attributes.contentProtection=o.attributes.contentProtection)):(s[a]=o,s[a].attributes.timelineStarts=[]),s[a].attributes.timelineStarts.push({start:o.attributes.periodStart,timeline:o.attributes.periodStart}),s},{}));i=i.concat(r)}),i.map(n=>(n.discontinuityStarts=_L(n.segments||[],"discontinuity"),n))},A0=(t,e)=>{const i=Yd(t.sidx),n=i&&e[i]&&e[i].sidx;return n&&D0(t,n,t.sidx.resolvedUri),t},AL=(t,e={})=>{if(!Object.keys(e).length)return t;for(const i in t)t[i]=A0(t[i],e);return t},PL=({attributes:t,segments:e,sidx:i,mediaSequence:n,discontinuitySequence:r,discontinuityStarts:s},o)=>{const a={attributes:{NAME:t.id,BANDWIDTH:t.bandwidth,CODECS:t.codecs,"PROGRAM-ID":1},uri:"",endList:t.type==="static",timeline:t.periodStart,resolvedUri:t.baseUrl||"",targetDuration:t.duration,discontinuitySequence:r,discontinuityStarts:s,timelineStarts:t.timelineStarts,mediaSequence:n,segments:e};return t.contentProtection&&(a.contentProtection=t.contentProtection),t.serviceLocation&&(a.attributes.serviceLocation=t.serviceLocation),i&&(a.sidx=i),o&&(a.attributes.AUDIO="audio",a.attributes.SUBTITLES="subs"),a},IL=({attributes:t,segments:e,mediaSequence:i,discontinuityStarts:n,discontinuitySequence:r})=>{typeof e>"u"&&(e=[{uri:t.baseUrl,timeline:t.periodStart,resolvedUri:t.baseUrl||"",duration:t.sourceDuration,number:0}],t.duration=t.sourceDuration);const s={NAME:t.id,BANDWIDTH:t.bandwidth,"PROGRAM-ID":1};t.codecs&&(s.CODECS=t.codecs);const o={attributes:s,uri:"",endList:t.type==="static",timeline:t.periodStart,resolvedUri:t.baseUrl||"",targetDuration:t.duration,timelineStarts:t.timelineStarts,discontinuityStarts:n,discontinuitySequence:r,mediaSequence:i,segments:e};return t.serviceLocation&&(o.attributes.serviceLocation=t.serviceLocation),o},OL=(t,e={},i=!1)=>{let n;const r=t.reduce((s,o)=>{const a=o.attributes.role&&o.attributes.role.value||"",l=o.attributes.lang||"";let u=o.attributes.label||"main";if(l&&!o.attributes.label){const p=a?` (${a})`:"";u=`${o.attributes.lang}${p}`}s[u]||(s[u]={language:l,autoselect:!0,default:a==="main",playlists:[],uri:""});const d=A0(PL(o,i),e);return s[u].playlists.push(d),typeof n>"u"&&a==="main"&&(n=o,n.default=!0),s},{});if(!n){const s=Object.keys(r)[0];r[s].default=!0}return r},LL=(t,e={})=>t.reduce((i,n)=>{const r=n.attributes.label||n.attributes.lang||"text";return i[r]||(i[r]={language:r,default:!1,autoselect:!1,playlists:[],uri:""}),i[r].playlists.push(A0(IL(n),e)),i},{}),NL=t=>t.reduce((e,i)=>(i&&i.forEach(n=>{const{channel:r,language:s}=n;e[s]={autoselect:!1,default:!1,instreamId:r,language:s},n.hasOwnProperty("aspectRatio")&&(e[s].aspectRatio=n.aspectRatio),n.hasOwnProperty("easyReader")&&(e[s].easyReader=n.easyReader),n.hasOwnProperty("3D")&&(e[s]["3D"]=n["3D"])}),e),{}),RL=({attributes:t,segments:e,sidx:i,discontinuityStarts:n})=>{const r={attributes:{NAME:t.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:t.width,height:t.height},CODECS:t.codecs,BANDWIDTH:t.bandwidth,"PROGRAM-ID":1},uri:"",endList:t.type==="static",timeline:t.periodStart,resolvedUri:t.baseUrl||"",targetDuration:t.duration,discontinuityStarts:n,timelineStarts:t.timelineStarts,segments:e};return t.frameRate&&(r.attributes["FRAME-RATE"]=t.frameRate),t.contentProtection&&(r.contentProtection=t.contentProtection),t.serviceLocation&&(r.attributes.serviceLocation=t.serviceLocation),i&&(r.sidx=i),r},ML=({attributes:t})=>t.mimeType==="video/mp4"||t.mimeType==="video/webm"||t.contentType==="video",BL=({attributes:t})=>t.mimeType==="audio/mp4"||t.mimeType==="audio/webm"||t.contentType==="audio",FL=({attributes:t})=>t.mimeType==="text/vtt"||t.contentType==="text",jL=(t,e)=>{t.forEach(i=>{i.mediaSequence=0,i.discontinuitySequence=e.findIndex(function({timeline:n}){return n===i.timeline}),i.segments&&i.segments.forEach((n,r)=>{n.number=r})})},$1=t=>t?Object.keys(t).reduce((e,i)=>{const n=t[i];return e.concat(n.playlists)},[]):[],UL=({dashPlaylists:t,locations:e,contentSteering:i,sidxMapping:n={},previousManifest:r,eventStream:s})=>{if(!t.length)return{};const{sourceDuration:o,type:a,suggestedPresentationDelay:l,minimumUpdatePeriod:u}=t[0].attributes,d=Uf(t.filter(ML)).map(RL),p=Uf(t.filter(BL)),y=Uf(t.filter(FL)),T=t.map(E=>E.attributes.captionServices).filter(Boolean),v={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:"",duration:o,playlists:AL(d,n)};u>=0&&(v.minimumUpdatePeriod=u*1e3),e&&(v.locations=e),i&&(v.contentSteering=i),a==="dynamic"&&(v.suggestedPresentationDelay=l),s&&s.length>0&&(v.eventStream=s);const w=v.playlists.length===0,k=p.length?OL(p,n,w):null,x=y.length?LL(y,n):null,b=d.concat($1(k),$1(x)),S=b.map(({timelineStarts:E})=>E);return v.timelineStarts=qw(S),jL(b,v.timelineStarts),k&&(v.mediaGroups.AUDIO.audio=k),x&&(v.mediaGroups.SUBTITLES.subs=x),T.length&&(v.mediaGroups["CLOSED-CAPTIONS"].cc=NL(T)),r?DL({oldManifest:r,newManifest:v}):v},$L=(t,e,i)=>{const{NOW:n,clientOffset:r,availabilityStartTime:s,timescale:o=1,periodStart:a=0,minimumUpdatePeriod:l=0}=t,u=(n+r)/1e3,d=s+a,y=u+l-d;return Math.ceil((y*o-e)/i)},Ww=(t,e)=>{const{type:i,minimumUpdatePeriod:n=0,media:r="",sourceDuration:s,timescale:o=1,startNumber:a=1,periodStart:l}=t,u=[];let d=-1;for(let p=0;p<e.length;p++){const y=e[p],T=y.d,v=y.r||0,w=y.t||0;d<0&&(d=w),w&&w>d&&(d=w);let k;if(v<0){const S=p+1;S===e.length?i==="dynamic"&&n>0&&r.indexOf("$Number$")>0?k=$L(t,d,T):k=(s*o-d)/T:k=(e[S].t-d)/T}else k=v+1;const x=a+u.length+k;let b=a+u.length;for(;b<x;)u.push({number:b,duration:T/o,time:d,timeline:l}),d+=T,b++}return u},zL=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,VL=t=>(e,i,n,r)=>{if(e==="$$")return"$";if(typeof t[i]>"u")return e;const s=""+t[i];return i==="RepresentationID"||(n?r=parseInt(r,10):r=1,s.length>=r)?s:`${new Array(r-s.length+1).join("0")}${s}`},z1=(t,e)=>t.replace(zL,VL(e)),HL=(t,e)=>!t.duration&&!e?[{number:t.startNumber||1,duration:t.sourceDuration,time:0,timeline:t.periodStart}]:t.duration?k0(t):Ww(t,e),qL=(t,e)=>{const i={RepresentationID:t.id,Bandwidth:t.bandwidth||0},{initialization:n={sourceURL:"",range:""}}=t,r=bl({baseUrl:t.baseUrl,source:z1(n.sourceURL,i),range:n.range});return HL(t,e).map(o=>{i.Number=o.number,i.Time=o.time;const a=z1(t.media||"",i),l=t.timescale||1,u=t.presentationTimeOffset||0,d=t.periodStart+(o.time-u)/l;return{uri:a,timeline:o.timeline,duration:o.duration,resolvedUri:g0(t.baseUrl||"",a),map:r,number:o.number,presentationTime:d}})},WL=(t,e)=>{const{baseUrl:i,initialization:n={}}=t,r=bl({baseUrl:i,source:n.sourceURL,range:n.range}),s=bl({baseUrl:i,source:e.media,range:e.mediaRange});return s.map=r,s},GL=(t,e)=>{const{duration:i,segmentUrls:n=[],periodStart:r}=t;if(!i&&!e||i&&e)throw new Error(go.SEGMENT_TIME_UNSPECIFIED);const s=n.map(l=>WL(t,l));let o;return i&&(o=k0(t)),e&&(o=Ww(t,e)),o.map((l,u)=>{if(s[u]){const d=s[u],p=t.timescale||1,y=t.presentationTimeOffset||0;return d.timeline=l.timeline,d.duration=l.duration,d.number=l.number,d.presentationTime=r+(l.time-y)/p,d}}).filter(l=>l)},XL=({attributes:t,segmentInfo:e})=>{let i,n;e.template?(n=qL,i=ct(t,e.template)):e.base?(n=Hw,i=ct(t,e.base)):e.list&&(n=GL,i=ct(t,e.list));const r={attributes:t};if(!n)return r;const s=n(i,e.segmentTimeline);if(i.duration){const{duration:o,timescale:a=1}=i;i.duration=o/a}else s.length?i.duration=s.reduce((o,a)=>Math.max(o,Math.ceil(a.duration)),0):i.duration=0;return r.attributes=i,r.segments=s,e.base&&i.indexRange&&(r.sidx=s[0],r.segments=[]),r},KL=t=>t.map(XL),$e=(t,e)=>Vw(t.childNodes).filter(({tagName:i})=>i===e),Rl=t=>t.textContent.trim(),YL=t=>parseFloat(t.split("/").reduce((e,i)=>e/i)),Ts=t=>{const a=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(t);if(!a)return 0;const[l,u,d,p,y,T]=a.slice(1);return parseFloat(l||0)*31536e3+parseFloat(u||0)*2592e3+parseFloat(d||0)*86400+parseFloat(p||0)*3600+parseFloat(y||0)*60+parseFloat(T||0)},QL=t=>(/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(t)&&(t+="Z"),Date.parse(t)),V1={mediaPresentationDuration(t){return Ts(t)},availabilityStartTime(t){return QL(t)/1e3},minimumUpdatePeriod(t){return Ts(t)},suggestedPresentationDelay(t){return Ts(t)},type(t){return t},timeShiftBufferDepth(t){return Ts(t)},start(t){return Ts(t)},width(t){return parseInt(t,10)},height(t){return parseInt(t,10)},bandwidth(t){return parseInt(t,10)},frameRate(t){return YL(t)},startNumber(t){return parseInt(t,10)},timescale(t){return parseInt(t,10)},presentationTimeOffset(t){return parseInt(t,10)},duration(t){const e=parseInt(t,10);return isNaN(e)?Ts(t):e},d(t){return parseInt(t,10)},t(t){return parseInt(t,10)},r(t){return parseInt(t,10)},presentationTime(t){return parseInt(t,10)},DEFAULT(t){return t}},et=t=>t&&t.attributes?Vw(t.attributes).reduce((e,i)=>{const n=V1[i.name]||V1.DEFAULT;return e[i.name]=n(i.value),e},{}):{},JL={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},Qd=(t,e)=>e.length?mo(t.map(function(i){return e.map(function(n){const r=Rl(n),s=g0(i.baseUrl,r),o=ct(et(n),{baseUrl:s});return s!==r&&!o.serviceLocation&&i.serviceLocation&&(o.serviceLocation=i.serviceLocation),o})})):t,P0=t=>{const e=$e(t,"SegmentTemplate")[0],i=$e(t,"SegmentList")[0],n=i&&$e(i,"SegmentURL").map(p=>ct({tag:"SegmentURL"},et(p))),r=$e(t,"SegmentBase")[0],s=i||e,o=s&&$e(s,"SegmentTimeline")[0],a=i||r||e,l=a&&$e(a,"Initialization")[0],u=e&&et(e);u&&l?u.initialization=l&&et(l):u&&u.initialization&&(u.initialization={sourceURL:u.initialization});const d={template:u,segmentTimeline:o&&$e(o,"S").map(p=>et(p)),list:i&&ct(et(i),{segmentUrls:n,initialization:et(l)}),base:r&&ct(et(r),{initialization:et(l)})};return Object.keys(d).forEach(p=>{d[p]||delete d[p]}),d},ZL=(t,e,i)=>n=>{const r=$e(n,"BaseURL"),s=Qd(e,r),o=ct(t,et(n)),a=P0(n);return s.map(l=>({segmentInfo:ct(i,a),attributes:ct(o,l)}))},eN=t=>t.reduce((e,i)=>{const n=et(i);n.schemeIdUri&&(n.schemeIdUri=n.schemeIdUri.toLowerCase());const r=JL[n.schemeIdUri];if(r){e[r]={attributes:n};const s=$e(i,"cenc:pssh")[0];if(s){const o=Rl(s);e[r].pssh=o&&V8(o)}}return e},{}),tN=t=>{if(t.schemeIdUri==="urn:scte:dash:cc:cea-608:2015")return(typeof t.value!="string"?[]:t.value.split(";")).map(i=>{let n,r;return r=i,/^CC\d=/.test(i)?[n,r]=i.split("="):/^CC\d$/.test(i)&&(n=i),{channel:n,language:r}});if(t.schemeIdUri==="urn:scte:dash:cc:cea-708:2015")return(typeof t.value!="string"?[]:t.value.split(";")).map(i=>{const n={channel:void 0,language:void 0,aspectRatio:1,easyReader:0,"3D":0};if(/=/.test(i)){const[r,s=""]=i.split("=");n.channel=r,n.language=i,s.split(",").forEach(o=>{const[a,l]=o.split(":");a==="lang"?n.language=l:a==="er"?n.easyReader=Number(l):a==="war"?n.aspectRatio=Number(l):a==="3D"&&(n["3D"]=Number(l))})}else n.language=i;return n.channel&&(n.channel="SERVICE"+n.channel),n})},iN=t=>mo($e(t.node,"EventStream").map(e=>{const i=et(e),n=i.schemeIdUri;return $e(e,"Event").map(r=>{const s=et(r),o=s.presentationTime||0,a=i.timescale||1,l=s.duration||0,u=o/a+t.attributes.start;return{schemeIdUri:n,value:i.value,id:s.id,start:u,end:u+l/a,messageData:Rl(r)||s.messageData,contentEncoding:i.contentEncoding,presentationTimeOffset:i.presentationTimeOffset||0}})})),nN=(t,e,i)=>n=>{const r=et(n),s=Qd(e,$e(n,"BaseURL")),o=$e(n,"Role")[0],a={role:et(o)};let l=ct(t,r,a);const u=$e(n,"Accessibility")[0],d=tN(et(u));d&&(l=ct(l,{captionServices:d}));const p=$e(n,"Label")[0];if(p&&p.childNodes.length){const k=p.childNodes[0].nodeValue.trim();l=ct(l,{label:k})}const y=eN($e(n,"ContentProtection"));Object.keys(y).length&&(l=ct(l,{contentProtection:y}));const T=P0(n),v=$e(n,"Representation"),w=ct(i,T);return mo(v.map(ZL(l,s,w)))},rN=(t,e)=>(i,n)=>{const r=Qd(e,$e(i.node,"BaseURL")),s=ct(t,{periodStart:i.attributes.start});typeof i.attributes.duration=="number"&&(s.periodDuration=i.attributes.duration);const o=$e(i.node,"AdaptationSet"),a=P0(i.node);return mo(o.map(nN(s,r,a)))},sN=(t,e)=>{if(t.length>1&&e({type:"warn",message:"The MPD manifest should contain no more than one ContentSteering tag"}),!t.length)return null;const i=ct({serverURL:Rl(t[0])},et(t[0]));return i.queryBeforeStart=i.queryBeforeStart==="true",i},oN=({attributes:t,priorPeriodAttributes:e,mpdType:i})=>typeof t.start=="number"?t.start:e&&typeof e.start=="number"&&typeof e.duration=="number"?e.start+e.duration:!e&&i==="static"?0:null,aN=(t,e={})=>{const{manifestUri:i="",NOW:n=Date.now(),clientOffset:r=0,eventHandler:s=function(){}}=e,o=$e(t,"Period");if(!o.length)throw new Error(go.INVALID_NUMBER_OF_PERIOD);const a=$e(t,"Location"),l=et(t),u=Qd([{baseUrl:i}],$e(t,"BaseURL")),d=$e(t,"ContentSteering");l.type=l.type||"static",l.sourceDuration=l.mediaPresentationDuration||0,l.NOW=n,l.clientOffset=r,a.length&&(l.locations=a.map(Rl));const p=[];return o.forEach((y,T)=>{const v=et(y),w=p[T-1];v.start=oN({attributes:v,priorPeriodAttributes:w?w.attributes:null,mpdType:l.type}),p.push({node:y,attributes:v})}),{locations:l.locations,contentSteeringInfo:sN(d,s),representationInfo:mo(p.map(rN(l,u))),eventStream:mo(p.map(iN))}},Gw=t=>{if(t==="")throw new Error(go.DASH_EMPTY_MANIFEST);const e=new yL;let i,n;try{i=e.parseFromString(t,"application/xml"),n=i&&i.documentElement.tagName==="MPD"?i.documentElement:null}catch{}if(!n||n&&n.getElementsByTagName("parsererror").length>0)throw new Error(go.DASH_INVALID_XML);return n},lN=t=>{const e=$e(t,"UTCTiming")[0];if(!e)return null;const i=et(e);switch(i.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":i.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":i.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":i.method="DIRECT",i.value=Date.parse(i.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error(go.UNSUPPORTED_UTC_TIMING_SCHEME)}return i},uN=(t,e={})=>{const i=aN(Gw(t),e),n=KL(i.representationInfo);return UL({dashPlaylists:n,locations:i.locations,contentSteering:i.contentSteeringInfo,sidxMapping:e.sidxMapping,previousManifest:e.previousManifest,eventStream:i.eventStream})},cN=t=>lN(Gw(t));var Xw=Math.pow(2,32),dN=function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),i;return e.getBigUint64?(i=e.getBigUint64(0),i<Number.MAX_SAFE_INTEGER?Number(i):i):e.getUint32(0)*Xw+e.getUint32(4)},hN={getUint64:dN,MAX_UINT32:Xw},H1=hN.getUint64,fN=function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),i={version:t[0],flags:new Uint8Array(t.subarray(1,4)),references:[],referenceId:e.getUint32(4),timescale:e.getUint32(8)},n=12;i.version===0?(i.earliestPresentationTime=e.getUint32(n),i.firstOffset=e.getUint32(n+4),n+=8):(i.earliestPresentationTime=H1(t.subarray(n)),i.firstOffset=H1(t.subarray(n+8)),n+=16),n+=2;var r=e.getUint16(n);for(n+=2;r>0;n+=12,r--)i.references.push({referenceType:(t[n]&128)>>>7,referencedSize:e.getUint32(n)&2147483647,subsegmentDuration:e.getUint32(n+4),startsWithSap:!!(t[n+8]&128),sapType:(t[n+8]&112)>>>4,sapDeltaTime:e.getUint32(n+8)&268435455});return i},pN=fN;const mN=fi(pN);var gN=ce([73,68,51]),yN=function(e,i){i===void 0&&(i=0),e=ce(e);var n=e[i+5],r=e[i+6]<<21|e[i+7]<<14|e[i+8]<<7|e[i+9],s=(n&16)>>4;return s?r+20:r+10},ka=function t(e,i){return i===void 0&&(i=0),e=ce(e),e.length-i<10||!Ue(e,gN,{offset:i})?i:(i+=yN(e,i),t(e,i))},q1=function(e){return typeof e=="string"?hw(e):e},vN=function(e){return Array.isArray(e)?e.map(function(i){return q1(i)}):[q1(e)]},_N=function t(e,i,n){n===void 0&&(n=!1),i=vN(i),e=ce(e);var r=[];if(!i.length)return r;for(var s=0;s<e.length;){var o=(e[s]<<24|e[s+1]<<16|e[s+2]<<8|e[s+3])>>>0,a=e.subarray(s+4,s+8);if(o===0)break;var l=s+o;if(l>e.length){if(n)break;l=e.length}var u=e.subarray(s+8,l);Ue(a,i[0])&&(i.length===1?r.push(u):r.push.apply(r,t(u,i.slice(1),n))),s=l}return r},Fu={EBML:ce([26,69,223,163]),DocType:ce([66,130]),Segment:ce([24,83,128,103]),SegmentInfo:ce([21,73,169,102]),Tracks:ce([22,84,174,107]),Track:ce([174]),TrackNumber:ce([215]),DefaultDuration:ce([35,227,131]),TrackEntry:ce([174]),TrackType:ce([131]),FlagDefault:ce([136]),CodecID:ce([134]),CodecPrivate:ce([99,162]),VideoTrack:ce([224]),AudioTrack:ce([225]),Cluster:ce([31,67,182,117]),Timestamp:ce([231]),TimestampScale:ce([42,215,177]),BlockGroup:ce([160]),BlockDuration:ce([155]),Block:ce([161]),SimpleBlock:ce([163])},Nm=[128,64,32,16,8,4,2,1],bN=function(e){for(var i=1,n=0;n<Nm.length&&!(e&Nm[n]);n++)i++;return i},Xc=function(e,i,n,r){n===void 0&&(n=!0),r===void 0&&(r=!1);var s=bN(e[i]),o=e.subarray(i,i+s);return n&&(o=Array.prototype.slice.call(e,i,i+s),o[0]^=Nm[s-1]),{length:s,value:F8(o,{signed:r}),bytes:o}},W1=function t(e){return typeof e=="string"?e.match(/.{1,2}/g).map(function(i){return t(i)}):typeof e=="number"?j8(e):e},xN=function(e){return Array.isArray(e)?e.map(function(i){return W1(i)}):[W1(e)]},TN=function t(e,i,n){if(n>=i.length)return i.length;var r=Xc(i,n,!1);if(Ue(e.bytes,r.bytes))return n;var s=Xc(i,n+r.length);return t(e,i,n+s.length+s.value+r.length)},G1=function t(e,i){i=xN(i),e=ce(e);var n=[];if(!i.length)return n;for(var r=0;r<e.length;){var s=Xc(e,r,!1),o=Xc(e,r+s.length),a=r+s.length+o.length;o.value===127&&(o.value=TN(s,e,a),o.value!==e.length&&(o.value-=a));var l=a+o.value>e.length?e.length:a+o.value,u=e.subarray(a,l);Ue(i[0],s.bytes)&&(i.length===1?n.push(u):n=n.concat(t(u,i.slice(1))));var d=s.length+o.length+u.length;r+=d}return n},wN=ce([0,0,0,1]),SN=ce([0,0,1]),EN=ce([0,0,3]),CN=function(e){for(var i=[],n=1;n<e.length-2;)Ue(e.subarray(n,n+3),EN)&&(i.push(n+2),n++),n++;if(i.length===0)return e;var r=e.length-i.length,s=new Uint8Array(r),o=0;for(n=0;n<r;o++,n++)o===i[0]&&(o++,i.shift()),s[n]=e[o];return s},Kw=function(e,i,n,r){r===void 0&&(r=1/0),e=ce(e),n=[].concat(n);for(var s=0,o,a=0;s<e.length&&(a<r||o);){var l=void 0;if(Ue(e.subarray(s),wN)?l=4:Ue(e.subarray(s),SN)&&(l=3),!l){s++;continue}if(a++,o)return CN(e.subarray(o,s));var u=void 0;i==="h264"?u=e[s+l]&31:i==="h265"&&(u=e[s+l]>>1&63),n.indexOf(u)!==-1&&(o=s+l),s+=l+(i==="h264"?1:2)}return e.subarray(0,0)},kN=function(e,i,n){return Kw(e,"h264",i,n)},DN=function(e,i,n){return Kw(e,"h265",i,n)},It={webm:ce([119,101,98,109]),matroska:ce([109,97,116,114,111,115,107,97]),flac:ce([102,76,97,67]),ogg:ce([79,103,103,83]),ac3:ce([11,119]),riff:ce([82,73,70,70]),avi:ce([65,86,73]),wav:ce([87,65,86,69]),"3gp":ce([102,116,121,112,51,103]),mp4:ce([102,116,121,112]),fmp4:ce([115,116,121,112]),mov:ce([102,116,121,112,113,116]),moov:ce([109,111,111,118]),moof:ce([109,111,111,102])},yo={aac:function(e){var i=ka(e);return Ue(e,[255,16],{offset:i,mask:[255,22]})},mp3:function(e){var i=ka(e);return Ue(e,[255,2],{offset:i,mask:[255,6]})},webm:function(e){var i=G1(e,[Fu.EBML,Fu.DocType])[0];return Ue(i,It.webm)},mkv:function(e){var i=G1(e,[Fu.EBML,Fu.DocType])[0];return Ue(i,It.matroska)},mp4:function(e){if(yo["3gp"](e)||yo.mov(e))return!1;if(Ue(e,It.mp4,{offset:4})||Ue(e,It.fmp4,{offset:4})||Ue(e,It.moof,{offset:4})||Ue(e,It.moov,{offset:4}))return!0},mov:function(e){return Ue(e,It.mov,{offset:4})},"3gp":function(e){return Ue(e,It["3gp"],{offset:4})},ac3:function(e){var i=ka(e);return Ue(e,It.ac3,{offset:i})},ts:function(e){if(e.length<189&&e.length>=1)return e[0]===71;for(var i=0;i+188<e.length&&i<188;){if(e[i]===71&&e[i+188]===71)return!0;i+=1}return!1},flac:function(e){var i=ka(e);return Ue(e,It.flac,{offset:i})},ogg:function(e){return Ue(e,It.ogg)},avi:function(e){return Ue(e,It.riff)&&Ue(e,It.avi,{offset:8})},wav:function(e){return Ue(e,It.riff)&&Ue(e,It.wav,{offset:8})},h264:function(e){return kN(e,7,3).length},h265:function(e){return DN(e,[32,33],3).length}},Rm=Object.keys(yo).filter(function(t){return t!=="ts"&&t!=="h264"&&t!=="h265"}).concat(["ts","h264","h265"]);Rm.forEach(function(t){var e=yo[t];yo[t]=function(i){return e(ce(i))}});var AN=yo,I0=function(e){e=ce(e);for(var i=0;i<Rm.length;i++){var n=Rm[i];if(AN[n](e))return n}return""},PN=function(e){return _N(e,["moof"]).length>0},O0=9e4,L0,N0,Jd,R0,Yw,Qw,Jw;L0=function(t){return t*O0};N0=function(t,e){return t*e};Jd=function(t){return t/O0};R0=function(t,e){return t/e};Yw=function(t,e){return L0(R0(t,e))};Qw=function(t,e){return N0(Jd(t),e)};Jw=function(t,e,i){return Jd(i?t:t-e)};var Kc={ONE_SECOND_IN_TS:O0,secondsToVideoTs:L0,secondsToAudioTs:N0,videoTsToSeconds:Jd,audioTsToSeconds:R0,audioTsToVideoTs:Yw,videoTsToAudioTs:Qw,metadataTsToSeconds:Jw};/**
 * @license
 * Video.js 8.5.2 <http://videojs.com/>
 * Copyright Brightcove, Inc. <https://www.brightcove.com/>
 * Available under Apache License Version 2.0
 * <https://github.com/videojs/video.js/blob/main/LICENSE>
 *
 * Includes vtt.js <https://github.com/mozilla/vtt.js>
 * Available under Apache License Version 2.0
 * <https://github.com/mozilla/vtt.js/blob/main/LICENSE>
 */var Zw="8.5.2";const An={},xr=function(t,e){return An[t]=An[t]||[],e&&(An[t]=An[t].concat(e)),An[t]},IN=function(t,e){xr(t,e)},eS=function(t,e){const i=xr(t).indexOf(e);return i<=-1?!1:(An[t]=An[t].slice(),An[t].splice(i,1),!0)},ON=function(t,e){xr(t,[].concat(e).map(i=>{const n=(...r)=>(eS(t,n),i(...r));return n}))},Yc={prefixed:!0},lc=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"]],X1=lc[0];let Da;for(let t=0;t<lc.length;t++)if(lc[t][1]in K){Da=lc[t];break}if(Da){for(let t=0;t<Da.length;t++)Yc[X1[t]]=Da[t];Yc.prefixed=Da[0]!==X1[0]}let zt=[];const LN=(t,e)=>(i,n,r)=>{const s=e.levels[n],o=new RegExp(`^(${s})$`);if(i!=="log"&&r.unshift(i.toUpperCase()+":"),r.unshift(t+":"),zt){zt.push([].concat(r));const l=zt.length-1e3;zt.splice(0,l>0?l:0)}if(!O.console)return;let a=O.console[i];!a&&i==="debug"&&(a=O.console.info||O.console.log),!(!a||!s||!o.test(i))&&a[Array.isArray(r)?"apply":"call"](O.console,r)};function tS(t){let e="info",i;const n=function(...r){i("log",e,r)};return i=LN(t,n),n.createLogger=r=>tS(t+": "+r),n.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:e},n.level=r=>{if(typeof r=="string"){if(!n.levels.hasOwnProperty(r))throw new Error(`"${r}" in not a valid log level`);e=r}return e},n.history=()=>zt?[].concat(zt):[],n.history.filter=r=>(zt||[]).filter(s=>new RegExp(`.*${r}.*`).test(s[0])),n.history.clear=()=>{zt&&(zt.length=0)},n.history.disable=()=>{zt!==null&&(zt.length=0,zt=null)},n.history.enable=()=>{zt===null&&(zt=[])},n.error=(...r)=>i("error",e,r),n.warn=(...r)=>i("warn",e,r),n.debug=(...r)=>i("debug",e,r),n}const ve=tS("VIDEOJS"),iS=ve.createLogger,NN=Object.prototype.toString,nS=function(t){return yn(t)?Object.keys(t):[]};function Ys(t,e){nS(t).forEach(i=>e(t[i],i))}function rS(t,e,i=0){return nS(t).reduce((n,r)=>e(n,t[r],r),i)}function yn(t){return!!t&&typeof t=="object"}function vo(t){return yn(t)&&NN.call(t)==="[object Object]"&&t.constructor===Object}function Oe(...t){const e={};return t.forEach(i=>{i&&Ys(i,(n,r)=>{if(!vo(n)){e[r]=n;return}vo(e[r])||(e[r]={}),e[r]=Oe(e[r],n)})}),e}function sS(t={}){const e=[];for(const i in t)if(t.hasOwnProperty(i)){const n=t[i];e.push(n)}return e}function Zd(t,e,i,n=!0){const r=o=>Object.defineProperty(t,e,{value:o,enumerable:!0,writable:!0}),s={configurable:!0,enumerable:!0,get(){const o=i();return r(o),o}};return n&&(s.set=r),Object.defineProperty(t,e,s)}var RN=Object.freeze({__proto__:null,each:Ys,reduce:rS,isObject:yn,isPlain:vo,merge:Oe,values:sS,defineLazyProperty:Zd});let M0=!1,oS=null,vn=!1,aS,lS=!1,Qs=!1,Js=!1,_n=!1,B0=null,eh=null,uS=null,Qc=!1,th=!1,Jc=!1,ih=!1;const xl=!!(Ro()&&("ontouchstart"in O||O.navigator.maxTouchPoints||O.DocumentTouch&&O.document instanceof O.DocumentTouch)),ws=O.navigator&&O.navigator.userAgentData;ws&&(vn=ws.platform==="Android",Qs=!!ws.brands.find(t=>t.brand==="Microsoft Edge"),Js=!!ws.brands.find(t=>t.brand==="Chromium"),_n=!Qs&&Js,B0=eh=(ws.brands.find(t=>t.brand==="Chromium")||{}).version||null,th=ws.platform==="Windows");if(!Js){const t=O.navigator&&O.navigator.userAgent||"";M0=/iPod/i.test(t),oS=function(){const e=t.match(/OS (\d+)_/i);return e&&e[1]?e[1]:null}(),vn=/Android/i.test(t),aS=function(){const e=t.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!e)return null;const i=e[1]&&parseFloat(e[1]),n=e[2]&&parseFloat(e[2]);return i&&n?parseFloat(e[1]+"."+e[2]):i||null}(),lS=/Firefox/i.test(t),Qs=/Edg/i.test(t),Js=/Chrome/i.test(t)||/CriOS/i.test(t),_n=!Qs&&Js,B0=eh=function(){const e=t.match(/(Chrome|CriOS)\/(\d+)/);return e&&e[2]?parseFloat(e[2]):null}(),uS=function(){const e=/MSIE\s(\d+)\.\d/.exec(t);let i=e&&parseFloat(e[1]);return!i&&/Trident\/7.0/i.test(t)&&/rv:11.0/.test(t)&&(i=11),i}(),Qc=/Safari/i.test(t)&&!_n&&!vn&&!Qs,th=/Windows/i.test(t),Jc=/iPad/i.test(t)||Qc&&xl&&!/iPhone/i.test(t),ih=/iPhone/i.test(t)&&!Jc}const Ft=ih||Jc||M0,nh=(Qc||Ft)&&!_n;var MN=Object.freeze({__proto__:null,get IS_IPOD(){return M0},get IOS_VERSION(){return oS},get IS_ANDROID(){return vn},get ANDROID_VERSION(){return aS},get IS_FIREFOX(){return lS},get IS_EDGE(){return Qs},get IS_CHROMIUM(){return Js},get IS_CHROME(){return _n},get CHROMIUM_VERSION(){return B0},get CHROME_VERSION(){return eh},get IE_VERSION(){return uS},get IS_SAFARI(){return Qc},get IS_WINDOWS(){return th},get IS_IPAD(){return Jc},get IS_IPHONE(){return ih},TOUCH_ENABLED:xl,IS_IOS:Ft,IS_ANY_SAFARI:nh});function K1(t){return typeof t=="string"&&!!t.trim()}function BN(t){if(t.indexOf(" ")>=0)throw new Error("class has illegal whitespace characters")}function Ro(){return K===O.document}function Mo(t){return yn(t)&&t.nodeType===1}function cS(){try{return O.parent!==O.self}catch{return!0}}function dS(t){return function(e,i){if(!K1(e))return K[t](null);K1(i)&&(i=K.querySelector(i));const n=Mo(i)?i:K;return n[t]&&n[t](e)}}function ge(t="div",e={},i={},n){const r=K.createElement(t);return Object.getOwnPropertyNames(e).forEach(function(s){const o=e[s];s==="textContent"?Dr(r,o):(r[s]!==o||s==="tabIndex")&&(r[s]=o)}),Object.getOwnPropertyNames(i).forEach(function(s){r.setAttribute(s,i[s])}),n&&F0(r,n),r}function Dr(t,e){return typeof t.textContent>"u"?t.innerText=e:t.textContent=e,t}function Mm(t,e){e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)}function $a(t,e){return BN(e),t.classList.contains(e)}function Kr(t,...e){return t.classList.add(...e.reduce((i,n)=>i.concat(n.split(/\s+/)),[])),t}function rh(t,...e){return t?(t.classList.remove(...e.reduce((i,n)=>i.concat(n.split(/\s+/)),[])),t):(ve.warn("removeClass was called with an element that doesn't exist"),null)}function hS(t,e,i){return typeof i=="function"&&(i=i(t,e)),typeof i!="boolean"&&(i=void 0),e.split(/\s+/).forEach(n=>t.classList.toggle(n,i)),t}function fS(t,e){Object.getOwnPropertyNames(e).forEach(function(i){const n=e[i];n===null||typeof n>"u"||n===!1?t.removeAttribute(i):t.setAttribute(i,n===!0?"":n)})}function tr(t){const e={},i=["autoplay","controls","playsinline","loop","muted","default","defaultMuted"];if(t&&t.attributes&&t.attributes.length>0){const n=t.attributes;for(let r=n.length-1;r>=0;r--){const s=n[r].name;let o=n[r].value;i.includes(s)&&(o=o!==null),e[s]=o}}return e}function pS(t,e){return t.getAttribute(e)}function _o(t,e,i){t.setAttribute(e,i)}function sh(t,e){t.removeAttribute(e)}function mS(){K.body.focus(),K.onselectstart=function(){return!1}}function gS(){K.onselectstart=function(){return!0}}function bo(t){if(t&&t.getBoundingClientRect&&t.parentNode){const e=t.getBoundingClientRect(),i={};return["bottom","height","left","right","top","width"].forEach(n=>{e[n]!==void 0&&(i[n]=e[n])}),i.height||(i.height=parseFloat(xo(t,"height"))),i.width||(i.width=parseFloat(xo(t,"width"))),i}}function Tl(t){if(!t||t&&!t.offsetParent)return{left:0,top:0,width:0,height:0};const e=t.offsetWidth,i=t.offsetHeight;let n=0,r=0;for(;t.offsetParent&&t!==K[Yc.fullscreenElement];)n+=t.offsetLeft,r+=t.offsetTop,t=t.offsetParent;return{left:n,top:r,width:e,height:i}}function oh(t,e){const i={x:0,y:0};if(Ft){let d=t;for(;d&&d.nodeName.toLowerCase()!=="html";){const p=xo(d,"transform");if(/^matrix/.test(p)){const y=p.slice(7,-1).split(/,\s/).map(Number);i.x+=y[4],i.y+=y[5]}else if(/^matrix3d/.test(p)){const y=p.slice(9,-1).split(/,\s/).map(Number);i.x+=y[12],i.y+=y[13]}d=d.parentNode}}const n={},r=Tl(e.target),s=Tl(t),o=s.width,a=s.height;let l=e.offsetY-(s.top-r.top),u=e.offsetX-(s.left-r.left);return e.changedTouches&&(u=e.changedTouches[0].pageX-s.left,l=e.changedTouches[0].pageY+s.top,Ft&&(u-=i.x,l-=i.y)),n.y=1-Math.max(0,Math.min(1,l/a)),n.x=Math.max(0,Math.min(1,u/o)),n}function yS(t){return yn(t)&&t.nodeType===3}function ah(t){for(;t.firstChild;)t.removeChild(t.firstChild);return t}function vS(t){return typeof t=="function"&&(t=t()),(Array.isArray(t)?t:[t]).map(e=>{if(typeof e=="function"&&(e=e()),Mo(e)||yS(e))return e;if(typeof e=="string"&&/\S/.test(e))return K.createTextNode(e)}).filter(e=>e)}function F0(t,e){return vS(e).forEach(i=>t.appendChild(i)),t}function _S(t,e){return F0(ah(t),e)}function wl(t){return t.button===void 0&&t.buttons===void 0||t.button===0&&t.buttons===void 0||t.type==="mouseup"&&t.button===0&&t.buttons===0?!0:!(t.button!==0||t.buttons!==1)}const Tr=dS("querySelector"),bS=dS("querySelectorAll");function xo(t,e){if(!t||!e)return"";if(typeof O.getComputedStyle=="function"){let i;try{i=O.getComputedStyle(t)}catch{return""}return i?i.getPropertyValue(e)||i[e]:""}return""}function xS(t){[...K.styleSheets].forEach(e=>{try{const i=[...e.cssRules].map(r=>r.cssText).join(""),n=K.createElement("style");n.textContent=i,t.document.head.appendChild(n)}catch{const n=K.createElement("link");n.rel="stylesheet",n.type=e.type,n.media=e.media.mediaText,n.href=e.href,t.document.head.appendChild(n)}})}var TS=Object.freeze({__proto__:null,isReal:Ro,isEl:Mo,isInFrame:cS,createEl:ge,textContent:Dr,prependTo:Mm,hasClass:$a,addClass:Kr,removeClass:rh,toggleClass:hS,setAttributes:fS,getAttributes:tr,getAttribute:pS,setAttribute:_o,removeAttribute:sh,blockTextSelection:mS,unblockTextSelection:gS,getBoundingClientRect:bo,findPosition:Tl,getPointerPosition:oh,isTextNode:yS,emptyEl:ah,normalizeContent:vS,appendContent:F0,insertContent:_S,isSingleLeftClick:wl,$:Tr,$$:bS,computedStyle:xo,copyStyleSheetsToWindow:xS});let wS=!1,Bm;const FN=function(){if(Bm.options.autoSetup===!1)return;const t=Array.prototype.slice.call(K.getElementsByTagName("video")),e=Array.prototype.slice.call(K.getElementsByTagName("audio")),i=Array.prototype.slice.call(K.getElementsByTagName("video-js")),n=t.concat(e,i);if(n&&n.length>0)for(let r=0,s=n.length;r<s;r++){const o=n[r];if(o&&o.getAttribute)o.player===void 0&&o.getAttribute("data-setup")!==null&&Bm(o);else{Fm(1);break}}else wS||Fm(1)};function Fm(t,e){Ro()&&(e&&(Bm=e),O.setTimeout(FN,t))}function jm(){wS=!0,O.removeEventListener("load",jm)}Ro()&&(K.readyState==="complete"?jm():O.addEventListener("load",jm));const SS=function(t){const e=K.createElement("style");return e.className=t,e},ES=function(t,e){t.styleSheet?t.styleSheet.cssText=e:t.textContent=e};var Rt=new WeakMap;const jN=3;let UN=jN;function bn(){return UN++}function Y1(t,e){if(!Rt.has(t))return;const i=Rt.get(t);i.handlers[e].length===0&&(delete i.handlers[e],t.removeEventListener?t.removeEventListener(e,i.dispatcher,!1):t.detachEvent&&t.detachEvent("on"+e,i.dispatcher)),Object.getOwnPropertyNames(i.handlers).length<=0&&(delete i.handlers,delete i.dispatcher,delete i.disabled),Object.getOwnPropertyNames(i).length===0&&Rt.delete(t)}function j0(t,e,i,n){i.forEach(function(r){t(e,r,n)})}function lh(t){if(t.fixed_)return t;function e(){return!0}function i(){return!1}if(!t||!t.isPropagationStopped||!t.isImmediatePropagationStopped){const n=t||O.event;t={};for(const r in n)r!=="layerX"&&r!=="layerY"&&r!=="keyLocation"&&r!=="webkitMovementX"&&r!=="webkitMovementY"&&r!=="path"&&(r==="returnValue"&&n.preventDefault||(t[r]=n[r]));if(t.target||(t.target=t.srcElement||K),t.relatedTarget||(t.relatedTarget=t.fromElement===t.target?t.toElement:t.fromElement),t.preventDefault=function(){n.preventDefault&&n.preventDefault(),t.returnValue=!1,n.returnValue=!1,t.defaultPrevented=!0},t.defaultPrevented=!1,t.stopPropagation=function(){n.stopPropagation&&n.stopPropagation(),t.cancelBubble=!0,n.cancelBubble=!0,t.isPropagationStopped=e},t.isPropagationStopped=i,t.stopImmediatePropagation=function(){n.stopImmediatePropagation&&n.stopImmediatePropagation(),t.isImmediatePropagationStopped=e,t.stopPropagation()},t.isImmediatePropagationStopped=i,t.clientX!==null&&t.clientX!==void 0){const r=K.documentElement,s=K.body;t.pageX=t.clientX+(r&&r.scrollLeft||s&&s.scrollLeft||0)-(r&&r.clientLeft||s&&s.clientLeft||0),t.pageY=t.clientY+(r&&r.scrollTop||s&&s.scrollTop||0)-(r&&r.clientTop||s&&s.clientTop||0)}t.which=t.charCode||t.keyCode,t.button!==null&&t.button!==void 0&&(t.button=t.button&1?0:t.button&4?1:t.button&2?2:0)}return t.fixed_=!0,t}let ju;const $N=function(){if(typeof ju!="boolean"){ju=!1;try{const t=Object.defineProperty({},"passive",{get(){ju=!0}});O.addEventListener("test",null,t),O.removeEventListener("test",null,t)}catch{}}return ju},zN=["touchstart","touchmove"];function hi(t,e,i){if(Array.isArray(e))return j0(hi,t,e,i);Rt.has(t)||Rt.set(t,{});const n=Rt.get(t);if(n.handlers||(n.handlers={}),n.handlers[e]||(n.handlers[e]=[]),i.guid||(i.guid=bn()),n.handlers[e].push(i),n.dispatcher||(n.disabled=!1,n.dispatcher=function(r,s){if(n.disabled)return;r=lh(r);const o=n.handlers[r.type];if(o){const a=o.slice(0);for(let l=0,u=a.length;l<u&&!r.isImmediatePropagationStopped();l++)try{a[l].call(t,r,s)}catch(d){ve.error(d)}}}),n.handlers[e].length===1)if(t.addEventListener){let r=!1;$N()&&zN.indexOf(e)>-1&&(r={passive:!0}),t.addEventListener(e,n.dispatcher,r)}else t.attachEvent&&t.attachEvent("on"+e,n.dispatcher)}function Ct(t,e,i){if(!Rt.has(t))return;const n=Rt.get(t);if(!n.handlers)return;if(Array.isArray(e))return j0(Ct,t,e,i);const r=function(o,a){n.handlers[a]=[],Y1(o,a)};if(e===void 0){for(const o in n.handlers)Object.prototype.hasOwnProperty.call(n.handlers||{},o)&&r(t,o);return}const s=n.handlers[e];if(s){if(!i){r(t,e);return}if(i.guid)for(let o=0;o<s.length;o++)s[o].guid===i.guid&&s.splice(o--,1);Y1(t,e)}}function Bo(t,e,i){const n=Rt.has(t)?Rt.get(t):{},r=t.parentNode||t.ownerDocument;if(typeof e=="string"?e={type:e,target:t}:e.target||(e.target=t),e=lh(e),n.dispatcher&&n.dispatcher.call(t,e,i),r&&!e.isPropagationStopped()&&e.bubbles===!0)Bo.call(null,r,e,i);else if(!r&&!e.defaultPrevented&&e.target&&e.target[e.type]){Rt.has(e.target)||Rt.set(e.target,{});const s=Rt.get(e.target);e.target[e.type]&&(s.disabled=!0,typeof e.target[e.type]=="function"&&e.target[e.type](),s.disabled=!1)}return!e.defaultPrevented}function uh(t,e,i){if(Array.isArray(e))return j0(uh,t,e,i);const n=function(){Ct(t,e,n),i.apply(this,arguments)};n.guid=i.guid=i.guid||bn(),hi(t,e,n)}function U0(t,e,i){const n=function(){Ct(t,e,n),i.apply(this,arguments)};n.guid=i.guid=i.guid||bn(),hi(t,e,n)}var VN=Object.freeze({__proto__:null,fixEvent:lh,on:hi,off:Ct,trigger:Bo,one:uh,any:U0});const Ii=30,Ne=function(t,e,i){e.guid||(e.guid=bn());const n=e.bind(t);return n.guid=i?i+"_"+e.guid:e.guid,n},xn=function(t,e){let i=O.performance.now();return function(...r){const s=O.performance.now();s-i>=e&&(t(...r),i=s)}},CS=function(t,e,i,n=O){let r;const s=()=>{n.clearTimeout(r),r=null},o=function(){const a=this,l=arguments;let u=function(){r=null,u=null,i||t.apply(a,l)};!r&&i&&t.apply(a,l),n.clearTimeout(r),r=n.setTimeout(u,e)};return o.cancel=s,o};var HN=Object.freeze({__proto__:null,UPDATE_REFRESH_INTERVAL:Ii,bind_:Ne,throttle:xn,debounce:CS});let ma;class Oi{on(e,i){const n=this.addEventListener;this.addEventListener=()=>{},hi(this,e,i),this.addEventListener=n}off(e,i){Ct(this,e,i)}one(e,i){const n=this.addEventListener;this.addEventListener=()=>{},uh(this,e,i),this.addEventListener=n}any(e,i){const n=this.addEventListener;this.addEventListener=()=>{},U0(this,e,i),this.addEventListener=n}trigger(e){const i=e.type||e;typeof e=="string"&&(e={type:i}),e=lh(e),this.allowedEvents_[i]&&this["on"+i]&&this["on"+i](e),Bo(this,e)}queueTrigger(e){ma||(ma=new Map);const i=e.type||e;let n=ma.get(this);n||(n=new Map,ma.set(this,n));const r=n.get(i);n.delete(i),O.clearTimeout(r);const s=O.setTimeout(()=>{n.delete(i),n.size===0&&(n=null,ma.delete(this)),this.trigger(e)},0);n.set(i,s)}}Oi.prototype.allowedEvents_={};Oi.prototype.addEventListener=Oi.prototype.on;Oi.prototype.removeEventListener=Oi.prototype.off;Oi.prototype.dispatchEvent=Oi.prototype.trigger;const ch=t=>typeof t.name=="function"?t.name():typeof t.name=="string"?t.name:t.name_?t.name_:t.constructor&&t.constructor.name?t.constructor.name:typeof t,Rn=t=>t instanceof Oi||!!t.eventBusEl_&&["on","one","off","trigger"].every(e=>typeof t[e]=="function"),qN=(t,e)=>{Rn(t)?e():(t.eventedCallbacks||(t.eventedCallbacks=[]),t.eventedCallbacks.push(e))},Um=t=>typeof t=="string"&&/\S/.test(t)||Array.isArray(t)&&!!t.length,Zc=(t,e,i)=>{if(!t||!t.nodeName&&!Rn(t))throw new Error(`Invalid target for ${ch(e)}#${i}; must be a DOM node or evented object.`)},kS=(t,e,i)=>{if(!Um(t))throw new Error(`Invalid event type for ${ch(e)}#${i}; must be a non-empty string or array.`)},DS=(t,e,i)=>{if(typeof t!="function")throw new Error(`Invalid listener for ${ch(e)}#${i}; must be a function.`)},$f=(t,e,i)=>{const n=e.length<3||e[0]===t||e[0]===t.eventBusEl_;let r,s,o;return n?(r=t.eventBusEl_,e.length>=3&&e.shift(),[s,o]=e):[r,s,o]=e,Zc(r,t,i),kS(s,t,i),DS(o,t,i),o=Ne(t,o),{isTargetingSelf:n,target:r,type:s,listener:o}},Rr=(t,e,i,n)=>{Zc(t,t,e),t.nodeName?VN[e](t,i,n):t[e](i,n)},WN={on(...t){const{isTargetingSelf:e,target:i,type:n,listener:r}=$f(this,t,"on");if(Rr(i,"on",n,r),!e){const s=()=>this.off(i,n,r);s.guid=r.guid;const o=()=>this.off("dispose",s);o.guid=r.guid,Rr(this,"on","dispose",s),Rr(i,"on","dispose",o)}},one(...t){const{isTargetingSelf:e,target:i,type:n,listener:r}=$f(this,t,"one");if(e)Rr(i,"one",n,r);else{const s=(...o)=>{this.off(i,n,s),r.apply(null,o)};s.guid=r.guid,Rr(i,"one",n,s)}},any(...t){const{isTargetingSelf:e,target:i,type:n,listener:r}=$f(this,t,"any");if(e)Rr(i,"any",n,r);else{const s=(...o)=>{this.off(i,n,s),r.apply(null,o)};s.guid=r.guid,Rr(i,"any",n,s)}},off(t,e,i){if(!t||Um(t))Ct(this.eventBusEl_,t,e);else{const n=t,r=e;Zc(n,this,"off"),kS(r,this,"off"),DS(i,this,"off"),i=Ne(this,i),this.off("dispose",i),n.nodeName?(Ct(n,r,i),Ct(n,"dispose",i)):Rn(n)&&(n.off(r,i),n.off("dispose",i))}},trigger(t,e){Zc(this.eventBusEl_,this,"trigger");const i=t&&typeof t!="string"?t.type:t;if(!Um(i))throw new Error(`Invalid event type for ${ch(this)}#trigger; must be a non-empty string or object with a type key that has a non-empty value.`);return Bo(this.eventBusEl_,t,e)}};function $0(t,e={}){const{eventBusKey:i}=e;if(i){if(!t[i].nodeName)throw new Error(`The eventBusKey "${i}" does not refer to an element.`);t.eventBusEl_=t[i]}else t.eventBusEl_=ge("span",{className:"vjs-event-bus"});return Object.assign(t,WN),t.eventedCallbacks&&t.eventedCallbacks.forEach(n=>{n()}),t.on("dispose",()=>{t.off(),[t,t.el_,t.eventBusEl_].forEach(function(n){n&&Rt.has(n)&&Rt.delete(n)}),O.setTimeout(()=>{t.eventBusEl_=null},0)}),t}const GN={state:{},setState(t){typeof t=="function"&&(t=t());let e;return Ys(t,(i,n)=>{this.state[n]!==i&&(e=e||{},e[n]={from:this.state[n],to:i}),this.state[n]=i}),e&&Rn(this)&&this.trigger({changes:e,type:"statechanged"}),e}};function AS(t,e){return Object.assign(t,GN),t.state=Object.assign({},t.state,e),typeof t.handleStateChanged=="function"&&Rn(t)&&t.on("statechanged",t.handleStateChanged),t}const za=function(t){return typeof t!="string"?t:t.replace(/./,e=>e.toLowerCase())},Ke=function(t){return typeof t!="string"?t:t.replace(/./,e=>e.toUpperCase())},PS=function(t,e){return Ke(t)===Ke(e)};var XN=Object.freeze({__proto__:null,toLowerCase:za,toTitleCase:Ke,titleCaseEquals:PS});class ${constructor(e,i,n){if(!e&&this.play?this.player_=e=this:this.player_=e,this.isDisposed_=!1,this.parentComponent_=null,this.options_=Oe({},this.options_),i=this.options_=Oe(this.options_,i),this.id_=i.id||i.el&&i.el.id,!this.id_){const r=e&&e.id&&e.id()||"no_player";this.id_=`${r}_component_${bn()}`}this.name_=i.name||null,i.el?this.el_=i.el:i.createEl!==!1&&(this.el_=this.createEl()),i.className&&this.el_&&i.className.split(" ").forEach(r=>this.addClass(r)),["on","off","one","any","trigger"].forEach(r=>{this[r]=void 0}),i.evented!==!1&&($0(this,{eventBusKey:this.el_?"el_":null}),this.handleLanguagechange=this.handleLanguagechange.bind(this),this.on(this.player_,"languagechange",this.handleLanguagechange)),AS(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.setTimeoutIds_=new Set,this.setIntervalIds_=new Set,this.rafIds_=new Set,this.namedRafs_=new Map,this.clearingTimersOnDispose_=!1,i.initChildren!==!1&&this.initChildren(),this.ready(n),i.reportTouchActivity!==!1&&this.enableTouchActivity()}on(e,i){}off(e,i){}one(e,i){}any(e,i){}trigger(e,i){}dispose(e={}){if(!this.isDisposed_){if(this.readyQueue_&&(this.readyQueue_.length=0),this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(let i=this.children_.length-1;i>=0;i--)this.children_[i].dispose&&this.children_[i].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&(e.restoreEl?this.el_.parentNode.replaceChild(e.restoreEl,this.el_):this.el_.parentNode.removeChild(this.el_)),this.el_=null),this.player_=null}}isDisposed(){return!!this.isDisposed_}player(){return this.player_}options(e){return e?(this.options_=Oe(this.options_,e),this.options_):this.options_}el(){return this.el_}createEl(e,i,n){return ge(e,i,n)}localize(e,i,n=e){const r=this.player_.language&&this.player_.language(),s=this.player_.languages&&this.player_.languages(),o=s&&s[r],a=r&&r.split("-")[0],l=s&&s[a];let u=n;return o&&o[e]?u=o[e]:l&&l[e]&&(u=l[e]),i&&(u=u.replace(/\{(\d+)\}/g,function(d,p){const y=i[p-1];let T=y;return typeof y>"u"&&(T=d),T})),u}handleLanguagechange(){}contentEl(){return this.contentEl_||this.el_}id(){return this.id_}name(){return this.name_}children(){return this.children_}getChildById(e){return this.childIndex_[e]}getChild(e){if(e)return this.childNameIndex_[e]}getDescendant(...e){e=e.reduce((n,r)=>n.concat(r),[]);let i=this;for(let n=0;n<e.length;n++)if(i=i.getChild(e[n]),!i||!i.getChild)return;return i}setIcon(e,i=this.el()){if(!this.player_.options_.experimentalSvgIcons)return;const n="http://www.w3.org/2000/svg",r=ge("span",{className:"vjs-icon-placeholder vjs-svg-icon"},{"aria-hidden":"true"}),s=K.createElementNS(n,"svg");s.setAttributeNS(null,"viewBox","0 0 512 512");const o=K.createElementNS(n,"use");return s.appendChild(o),o.setAttributeNS(null,"href",`#vjs-icon-${e}`),r.appendChild(s),this.iconIsSet_?i.replaceChild(r,i.querySelector(".vjs-icon-placeholder")):i.appendChild(r),this.iconIsSet_=!0,r}addChild(e,i={},n=this.children_.length){let r,s;if(typeof e=="string"){s=Ke(e);const o=i.componentClass||s;i.name=s;const a=$.getComponent(o);if(!a)throw new Error(`Component ${o} does not exist`);if(typeof a!="function")return null;r=new a(this.player_||this,i)}else r=e;if(r.parentComponent_&&r.parentComponent_.removeChild(r),this.children_.splice(n,0,r),r.parentComponent_=this,typeof r.id=="function"&&(this.childIndex_[r.id()]=r),s=s||r.name&&Ke(r.name()),s&&(this.childNameIndex_[s]=r,this.childNameIndex_[za(s)]=r),typeof r.el=="function"&&r.el()){let o=null;this.children_[n+1]&&(this.children_[n+1].el_?o=this.children_[n+1].el_:Mo(this.children_[n+1])&&(o=this.children_[n+1])),this.contentEl().insertBefore(r.el(),o)}return r}removeChild(e){if(typeof e=="string"&&(e=this.getChild(e)),!e||!this.children_)return;let i=!1;for(let r=this.children_.length-1;r>=0;r--)if(this.children_[r]===e){i=!0,this.children_.splice(r,1);break}if(!i)return;e.parentComponent_=null,this.childIndex_[e.id()]=null,this.childNameIndex_[Ke(e.name())]=null,this.childNameIndex_[za(e.name())]=null;const n=e.el();n&&n.parentNode===this.contentEl()&&this.contentEl().removeChild(e.el())}initChildren(){const e=this.options_.children;if(e){const i=this.options_,n=o=>{const a=o.name;let l=o.opts;if(i[a]!==void 0&&(l=i[a]),l===!1)return;l===!0&&(l={}),l.playerOptions=this.options_.playerOptions;const u=this.addChild(a,l);u&&(this[a]=u)};let r;const s=$.getComponent("Tech");Array.isArray(e)?r=e:r=Object.keys(e),r.concat(Object.keys(this.options_).filter(function(o){return!r.some(function(a){return typeof a=="string"?o===a:o===a.name})})).map(o=>{let a,l;return typeof o=="string"?(a=o,l=e[a]||this.options_[a]||{}):(a=o.name,l=o),{name:a,opts:l}}).filter(o=>{const a=$.getComponent(o.opts.componentClass||Ke(o.name));return a&&!s.isTech(a)}).forEach(n)}}buildCSSClass(){return""}ready(e,i=!1){if(e){if(!this.isReady_){this.readyQueue_=this.readyQueue_||[],this.readyQueue_.push(e);return}i?e.call(this):this.setTimeout(e,1)}}triggerReady(){this.isReady_=!0,this.setTimeout(function(){const e=this.readyQueue_;this.readyQueue_=[],e&&e.length>0&&e.forEach(function(i){i.call(this)},this),this.trigger("ready")},1)}$(e,i){return Tr(e,i||this.contentEl())}$$(e,i){return bS(e,i||this.contentEl())}hasClass(e){return $a(this.el_,e)}addClass(...e){Kr(this.el_,...e)}removeClass(...e){rh(this.el_,...e)}toggleClass(e,i){hS(this.el_,e,i)}show(){this.removeClass("vjs-hidden")}hide(){this.addClass("vjs-hidden")}lockShowing(){this.addClass("vjs-lock-showing")}unlockShowing(){this.removeClass("vjs-lock-showing")}getAttribute(e){return pS(this.el_,e)}setAttribute(e,i){_o(this.el_,e,i)}removeAttribute(e){sh(this.el_,e)}width(e,i){return this.dimension("width",e,i)}height(e,i){return this.dimension("height",e,i)}dimensions(e,i){this.width(e,!0),this.height(i)}dimension(e,i,n){if(i!==void 0){(i===null||i!==i)&&(i=0),(""+i).indexOf("%")!==-1||(""+i).indexOf("px")!==-1?this.el_.style[e]=i:i==="auto"?this.el_.style[e]="":this.el_.style[e]=i+"px",n||this.trigger("componentresize");return}if(!this.el_)return 0;const r=this.el_.style[e],s=r.indexOf("px");return parseInt(s!==-1?r.slice(0,s):this.el_["offset"+Ke(e)],10)}currentDimension(e){let i=0;if(e!=="width"&&e!=="height")throw new Error("currentDimension only accepts width or height value");if(i=xo(this.el_,e),i=parseFloat(i),i===0||isNaN(i)){const n=`offset${Ke(e)}`;i=this.el_[n]}return i}currentDimensions(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}}currentWidth(){return this.currentDimension("width")}currentHeight(){return this.currentDimension("height")}focus(){this.el_.focus()}blur(){this.el_.blur()}handleKeyDown(e){this.player_&&(pe.isEventKey(e,"Tab")||e.stopPropagation(),this.player_.handleKeyDown(e))}handleKeyPress(e){this.handleKeyDown(e)}emitTapEvents(){let e=0,i=null;const n=10,r=200;let s;this.on("touchstart",function(a){a.touches.length===1&&(i={pageX:a.touches[0].pageX,pageY:a.touches[0].pageY},e=O.performance.now(),s=!0)}),this.on("touchmove",function(a){if(a.touches.length>1)s=!1;else if(i){const l=a.touches[0].pageX-i.pageX,u=a.touches[0].pageY-i.pageY;Math.sqrt(l*l+u*u)>n&&(s=!1)}});const o=function(){s=!1};this.on("touchleave",o),this.on("touchcancel",o),this.on("touchend",function(a){i=null,s===!0&&O.performance.now()-e<r&&(a.preventDefault(),this.trigger("tap"))})}enableTouchActivity(){if(!this.player()||!this.player().reportUserActivity)return;const e=Ne(this.player(),this.player().reportUserActivity);let i;this.on("touchstart",function(){e(),this.clearInterval(i),i=this.setInterval(e,250)});const n=function(r){e(),this.clearInterval(i)};this.on("touchmove",e),this.on("touchend",n),this.on("touchcancel",n)}setTimeout(e,i){var n;return e=Ne(this,e),this.clearTimersOnDispose_(),n=O.setTimeout(()=>{this.setTimeoutIds_.has(n)&&this.setTimeoutIds_.delete(n),e()},i),this.setTimeoutIds_.add(n),n}clearTimeout(e){return this.setTimeoutIds_.has(e)&&(this.setTimeoutIds_.delete(e),O.clearTimeout(e)),e}setInterval(e,i){e=Ne(this,e),this.clearTimersOnDispose_();const n=O.setInterval(e,i);return this.setIntervalIds_.add(n),n}clearInterval(e){return this.setIntervalIds_.has(e)&&(this.setIntervalIds_.delete(e),O.clearInterval(e)),e}requestAnimationFrame(e){this.clearTimersOnDispose_();var i;return e=Ne(this,e),i=O.requestAnimationFrame(()=>{this.rafIds_.has(i)&&this.rafIds_.delete(i),e()}),this.rafIds_.add(i),i}requestNamedAnimationFrame(e,i){if(this.namedRafs_.has(e))return;this.clearTimersOnDispose_(),i=Ne(this,i);const n=this.requestAnimationFrame(()=>{i(),this.namedRafs_.has(e)&&this.namedRafs_.delete(e)});return this.namedRafs_.set(e,n),e}cancelNamedAnimationFrame(e){this.namedRafs_.has(e)&&(this.cancelAnimationFrame(this.namedRafs_.get(e)),this.namedRafs_.delete(e))}cancelAnimationFrame(e){return this.rafIds_.has(e)&&(this.rafIds_.delete(e),O.cancelAnimationFrame(e)),e}clearTimersOnDispose_(){this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",()=>{[["namedRafs_","cancelNamedAnimationFrame"],["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach(([e,i])=>{this[e].forEach((n,r)=>this[i](r))}),this.clearingTimersOnDispose_=!1}))}static registerComponent(e,i){if(typeof e!="string"||!e)throw new Error(`Illegal component name, "${e}"; must be a non-empty string.`);const n=$.getComponent("Tech"),r=n&&n.isTech(i),s=$===i||$.prototype.isPrototypeOf(i.prototype);if(r||!s){let a;throw r?a="techs must be registered using Tech.registerTech()":a="must be a Component subclass",new Error(`Illegal component, "${e}"; ${a}.`)}e=Ke(e),$.components_||($.components_={});const o=$.getComponent("Player");if(e==="Player"&&o&&o.players){const a=o.players,l=Object.keys(a);if(a&&l.length>0&&l.map(u=>a[u]).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return $.components_[e]=i,$.components_[za(e)]=i,i}static getComponent(e){if(!(!e||!$.components_))return $.components_[e]}}$.registerComponent("Component",$);function KN(t,e,i){if(typeof e!="number"||e<0||e>i)throw new Error(`Failed to execute '${t}' on 'TimeRanges': The index provided (${e}) is non-numeric or out of bounds (0-${i}).`)}function Q1(t,e,i,n){return KN(t,n,i.length-1),i[n][e]}function zf(t){let e;return t===void 0||t.length===0?e={length:0,start(){throw new Error("This TimeRanges object is empty")},end(){throw new Error("This TimeRanges object is empty")}}:e={length:t.length,start:Q1.bind(null,"start",0,t),end:Q1.bind(null,"end",1,t)},O.Symbol&&O.Symbol.iterator&&(e[O.Symbol.iterator]=()=>(t||[]).values()),e}function mn(t,e){return Array.isArray(t)?zf(t):t===void 0||e===void 0?zf():zf([[t,e]])}const IS=function(t,e){t=t<0?0:t;let i=Math.floor(t%60),n=Math.floor(t/60%60),r=Math.floor(t/3600);const s=Math.floor(e/60%60),o=Math.floor(e/3600);return(isNaN(t)||t===1/0)&&(r=n=i="-"),r=r>0||o>0?r+":":"",n=((r||s>=10)&&n<10?"0"+n:n)+":",i=i<10?"0"+i:i,r+n+i};let z0=IS;function OS(t){z0=t}function LS(){z0=IS}function ns(t,e=t){return z0(t,e)}var YN=Object.freeze({__proto__:null,createTimeRanges:mn,createTimeRange:mn,setFormatTime:OS,resetFormatTime:LS,formatTime:ns});function NS(t,e){let i=0,n,r;if(!e)return 0;(!t||!t.length)&&(t=mn(0,0));for(let s=0;s<t.length;s++)n=t.start(s),r=t.end(s),r>e&&(r=e),i+=r-n;return i/e}function Mt(t){if(t instanceof Mt)return t;typeof t=="number"?this.code=t:typeof t=="string"?this.message=t:yn(t)&&(typeof t.code=="number"&&(this.code=t.code),Object.assign(this,t)),this.message||(this.message=Mt.defaultMessages[this.code]||"")}Mt.prototype.code=0;Mt.prototype.message="";Mt.prototype.status=null;Mt.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"];Mt.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(let t=0;t<Mt.errorTypes.length;t++)Mt[Mt.errorTypes[t]]=t,Mt.prototype[Mt.errorTypes[t]]=t;function Va(t){return t!=null&&typeof t.then=="function"}function an(t){Va(t)&&t.then(null,e=>{})}const $m=function(t){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce((i,n,r)=>(t[n]&&(i[n]=t[n]),i),{cues:t.cues&&Array.prototype.map.call(t.cues,function(i){return{startTime:i.startTime,endTime:i.endTime,text:i.text,id:i.id}})})},QN=function(t){const e=t.$$("track"),i=Array.prototype.map.call(e,r=>r.track);return Array.prototype.map.call(e,function(r){const s=$m(r.track);return r.src&&(s.src=r.src),s}).concat(Array.prototype.filter.call(t.textTracks(),function(r){return i.indexOf(r)===-1}).map($m))},JN=function(t,e){return t.forEach(function(i){const n=e.addRemoteTextTrack(i).track;!i.src&&i.cues&&i.cues.forEach(r=>n.addCue(r))}),e.textTracks()};var J1={textTracksToJson:QN,jsonToTextTracks:JN,trackToJson_:$m};const Vf="vjs-modal-dialog";class Fo extends ${constructor(e,i){super(e,i),this.handleKeyDown_=n=>this.handleKeyDown(n),this.close_=n=>this.close(n),this.opened_=this.hasBeenOpened_=this.hasBeenFilled_=!1,this.closeable(!this.options_.uncloseable),this.content(this.options_.content),this.contentEl_=ge("div",{className:`${Vf}-content`},{role:"document"}),this.descEl_=ge("p",{className:`${Vf}-description vjs-control-text`,id:this.el().getAttribute("aria-describedby")}),Dr(this.descEl_,this.description()),this.el_.appendChild(this.descEl_),this.el_.appendChild(this.contentEl_)}createEl(){return super.createEl("div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":`${this.id()}_description`,"aria-hidden":"true","aria-label":this.label(),role:"dialog"})}dispose(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,super.dispose()}buildCSSClass(){return`${Vf} vjs-hidden ${super.buildCSSClass()}`}label(){return this.localize(this.options_.label||"Modal Window")}description(){let e=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(e+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),e}open(){if(!this.opened_){const e=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!e.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&e.pause(),this.on("keydown",this.handleKeyDown_),this.hadControls_=e.controls(),e.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}}opened(e){return typeof e=="boolean"&&this[e?"open":"close"](),this.opened_}close(){if(!this.opened_)return;const e=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&e.play(),this.off("keydown",this.handleKeyDown_),this.hadControls_&&e.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}closeable(e){if(typeof e=="boolean"){const i=this.closeable_=!!e;let n=this.getChild("closeButton");if(i&&!n){const r=this.contentEl_;this.contentEl_=this.el_,n=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=r,this.on(n,"close",this.close_)}!i&&n&&(this.off(n,"close",this.close_),this.removeChild(n),n.dispose())}return this.closeable_}fill(){this.fillWith(this.content())}fillWith(e){const i=this.contentEl(),n=i.parentNode,r=i.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,n.removeChild(i),this.empty(),_S(i,e),this.trigger("modalfill"),r?n.insertBefore(i,r):n.appendChild(i);const s=this.getChild("closeButton");s&&n.appendChild(s.el_)}empty(){this.trigger("beforemodalempty"),ah(this.contentEl()),this.trigger("modalempty")}content(e){return typeof e<"u"&&(this.content_=e),this.content_}conditionalFocus_(){const e=K.activeElement,i=this.player_.el_;this.previouslyActiveEl_=null,(i.contains(e)||i===e)&&(this.previouslyActiveEl_=e,this.focus())}conditionalBlur_(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)}handleKeyDown(e){if(e.stopPropagation(),pe.isEventKey(e,"Escape")&&this.closeable()){e.preventDefault(),this.close();return}if(!pe.isEventKey(e,"Tab"))return;const i=this.focusableEls_(),n=this.el_.querySelector(":focus");let r;for(let s=0;s<i.length;s++)if(n===i[s]){r=s;break}K.activeElement===this.el_&&(r=0),e.shiftKey&&r===0?(i[i.length-1].focus(),e.preventDefault()):!e.shiftKey&&r===i.length-1&&(i[0].focus(),e.preventDefault())}focusableEls_(){const e=this.el_.querySelectorAll("*");return Array.prototype.filter.call(e,i=>(i instanceof O.HTMLAnchorElement||i instanceof O.HTMLAreaElement)&&i.hasAttribute("href")||(i instanceof O.HTMLInputElement||i instanceof O.HTMLSelectElement||i instanceof O.HTMLTextAreaElement||i instanceof O.HTMLButtonElement)&&!i.hasAttribute("disabled")||i instanceof O.HTMLIFrameElement||i instanceof O.HTMLObjectElement||i instanceof O.HTMLEmbedElement||i.hasAttribute("tabindex")&&i.getAttribute("tabindex")!==-1||i.hasAttribute("contenteditable"))}}Fo.prototype.options_={pauseOnOpen:!0,temporary:!0};$.registerComponent("ModalDialog",Fo);class To extends Oi{constructor(e=[]){super(),this.tracks_=[],Object.defineProperty(this,"length",{get(){return this.tracks_.length}});for(let i=0;i<e.length;i++)this.addTrack(e[i])}addTrack(e){const i=this.tracks_.length;""+i in this||Object.defineProperty(this,i,{get(){return this.tracks_[i]}}),this.tracks_.indexOf(e)===-1&&(this.tracks_.push(e),this.trigger({track:e,type:"addtrack",target:this})),e.labelchange_=()=>{this.trigger({track:e,type:"labelchange",target:this})},Rn(e)&&e.addEventListener("labelchange",e.labelchange_)}removeTrack(e){let i;for(let n=0,r=this.length;n<r;n++)if(this[n]===e){i=this[n],i.off&&i.off(),this.tracks_.splice(n,1);break}i&&this.trigger({track:i,type:"removetrack",target:this})}getTrackById(e){let i=null;for(let n=0,r=this.length;n<r;n++){const s=this[n];if(s.id===e){i=s;break}}return i}}To.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack",labelchange:"labelchange"};for(const t in To.prototype.allowedEvents_)To.prototype["on"+t]=null;const Hf=function(t,e){for(let i=0;i<t.length;i++)!Object.keys(t[i]).length||e.id===t[i].id||(t[i].enabled=!1)};class ZN extends To{constructor(e=[]){for(let i=e.length-1;i>=0;i--)if(e[i].enabled){Hf(e,e[i]);break}super(e),this.changing_=!1}addTrack(e){e.enabled&&Hf(this,e),super.addTrack(e),e.addEventListener&&(e.enabledChange_=()=>{this.changing_||(this.changing_=!0,Hf(this,e),this.changing_=!1,this.trigger("change"))},e.addEventListener("enabledchange",e.enabledChange_))}removeTrack(e){super.removeTrack(e),e.removeEventListener&&e.enabledChange_&&(e.removeEventListener("enabledchange",e.enabledChange_),e.enabledChange_=null)}}const qf=function(t,e){for(let i=0;i<t.length;i++)!Object.keys(t[i]).length||e.id===t[i].id||(t[i].selected=!1)};class eR extends To{constructor(e=[]){for(let i=e.length-1;i>=0;i--)if(e[i].selected){qf(e,e[i]);break}super(e),this.changing_=!1,Object.defineProperty(this,"selectedIndex",{get(){for(let i=0;i<this.length;i++)if(this[i].selected)return i;return-1},set(){}})}addTrack(e){e.selected&&qf(this,e),super.addTrack(e),e.addEventListener&&(e.selectedChange_=()=>{this.changing_||(this.changing_=!0,qf(this,e),this.changing_=!1,this.trigger("change"))},e.addEventListener("selectedchange",e.selectedChange_))}removeTrack(e){super.removeTrack(e),e.removeEventListener&&e.selectedChange_&&(e.removeEventListener("selectedchange",e.selectedChange_),e.selectedChange_=null)}}class RS extends To{addTrack(e){super.addTrack(e),this.queueChange_||(this.queueChange_=()=>this.queueTrigger("change")),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=()=>this.trigger("selectedlanguagechange")),e.addEventListener("modechange",this.queueChange_),["metadata","chapters"].indexOf(e.kind)===-1&&e.addEventListener("modechange",this.triggerSelectedlanguagechange_)}removeTrack(e){super.removeTrack(e),e.removeEventListener&&(this.queueChange_&&e.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&e.removeEventListener("modechange",this.triggerSelectedlanguagechange_))}}class tR{constructor(e=[]){this.trackElements_=[],Object.defineProperty(this,"length",{get(){return this.trackElements_.length}});for(let i=0,n=e.length;i<n;i++)this.addTrackElement_(e[i])}addTrackElement_(e){const i=this.trackElements_.length;""+i in this||Object.defineProperty(this,i,{get(){return this.trackElements_[i]}}),this.trackElements_.indexOf(e)===-1&&this.trackElements_.push(e)}getTrackElementByTrack_(e){let i;for(let n=0,r=this.trackElements_.length;n<r;n++)if(e===this.trackElements_[n].track){i=this.trackElements_[n];break}return i}removeTrackElement_(e){for(let i=0,n=this.trackElements_.length;i<n;i++)if(e===this.trackElements_[i]){this.trackElements_[i].track&&typeof this.trackElements_[i].track.off=="function"&&this.trackElements_[i].track.off(),typeof this.trackElements_[i].off=="function"&&this.trackElements_[i].off(),this.trackElements_.splice(i,1);break}}}class ed{constructor(e){ed.prototype.setCues_.call(this,e),Object.defineProperty(this,"length",{get(){return this.length_}})}setCues_(e){const i=this.length||0;let n=0;const r=e.length;this.cues_=e,this.length_=e.length;const s=function(o){""+o in this||Object.defineProperty(this,""+o,{get(){return this.cues_[o]}})};if(i<r)for(n=i;n<r;n++)s.call(this,n)}getCueById(e){let i=null;for(let n=0,r=this.length;n<r;n++){const s=this[n];if(s.id===e){i=s;break}}return i}}const iR={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},nR={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},rR={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},Z1={disabled:"disabled",hidden:"hidden",showing:"showing"};class V0 extends Oi{constructor(e={}){super();const i={id:e.id||"vjs_track_"+bn(),kind:e.kind||"",language:e.language||""};let n=e.label||"";for(const r in i)Object.defineProperty(this,r,{get(){return i[r]},set(){}});Object.defineProperty(this,"label",{get(){return n},set(r){r!==n&&(n=r,this.trigger("labelchange"))}})}}const H0=function(t){const e=["protocol","hostname","port","pathname","search","hash","host"],i=K.createElement("a");i.href=t;const n={};for(let r=0;r<e.length;r++)n[e[r]]=i[e[r]];return n.protocol==="http:"&&(n.host=n.host.replace(/:80$/,"")),n.protocol==="https:"&&(n.host=n.host.replace(/:443$/,"")),n.protocol||(n.protocol=O.location.protocol),n.host||(n.host=O.location.host),n},MS=function(t){if(!t.match(/^https?:\/\//)){const e=K.createElement("a");e.href=t,t=e.href}return t},q0=function(t){if(typeof t=="string"){const i=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/.exec(t);if(i)return i.pop().toLowerCase()}return""},dh=function(t,e=O.location){const i=H0(t);return(i.protocol===":"?e.protocol:i.protocol)+i.host!==e.protocol+e.host};var sR=Object.freeze({__proto__:null,parseUrl:H0,getAbsoluteURL:MS,getFileExtension:q0,isCrossOrigin:dh});const e2=function(t,e){const i=new O.WebVTT.Parser(O,O.vttjs,O.WebVTT.StringDecoder()),n=[];i.oncue=function(r){e.addCue(r)},i.onparsingerror=function(r){n.push(r)},i.onflush=function(){e.trigger({type:"loadeddata",target:e})},i.parse(t),n.length>0&&(O.console&&O.console.groupCollapsed&&O.console.groupCollapsed(`Text Track parsing errors for ${e.src}`),n.forEach(r=>ve.error(r)),O.console&&O.console.groupEnd&&O.console.groupEnd()),i.flush()},t2=function(t,e){const i={uri:t},n=dh(t);n&&(i.cors=n);const r=e.tech_.crossOrigin()==="use-credentials";r&&(i.withCredentials=r),nw(i,Ne(this,function(s,o,a){if(s)return ve.error(s,o);e.loaded_=!0,typeof O.WebVTT!="function"?e.tech_&&e.tech_.any(["vttjsloaded","vttjserror"],l=>{if(l.type==="vttjserror"){ve.error(`vttjs failed to load, stopping trying to process ${e.src}`);return}return e2(a,e)}):e2(a,e)}))};class Ml extends V0{constructor(e={}){if(!e.tech)throw new Error("A tech was not provided.");const i=Oe(e,{kind:rR[e.kind]||"subtitles",language:e.language||e.srclang||""});let n=Z1[i.mode]||"disabled";const r=i.default;(i.kind==="metadata"||i.kind==="chapters")&&(n="hidden"),super(i),this.tech_=i.tech,this.cues_=[],this.activeCues_=[],this.preload_=this.tech_.preloadTextTracks!==!1;const s=new ed(this.cues_),o=new ed(this.activeCues_);let a=!1;this.timeupdateHandler=Ne(this,function(u={}){if(!this.tech_.isDisposed()){if(!this.tech_.isReady_){u.type!=="timeupdate"&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler));return}this.activeCues=this.activeCues,a&&(this.trigger("cuechange"),a=!1),u.type!=="timeupdate"&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler))}});const l=()=>{this.stopTracking()};this.tech_.one("dispose",l),n!=="disabled"&&this.startTracking(),Object.defineProperties(this,{default:{get(){return r},set(){}},mode:{get(){return n},set(u){Z1[u]&&n!==u&&(n=u,!this.preload_&&n!=="disabled"&&this.cues.length===0&&t2(this.src,this),this.stopTracking(),n!=="disabled"&&this.startTracking(),this.trigger("modechange"))}},cues:{get(){return this.loaded_?s:null},set(){}},activeCues:{get(){if(!this.loaded_)return null;if(this.cues.length===0)return o;const u=this.tech_.currentTime(),d=[];for(let p=0,y=this.cues.length;p<y;p++){const T=this.cues[p];T.startTime<=u&&T.endTime>=u&&d.push(T)}if(a=!1,d.length!==this.activeCues_.length)a=!0;else for(let p=0;p<d.length;p++)this.activeCues_.indexOf(d[p])===-1&&(a=!0);return this.activeCues_=d,o.setCues_(this.activeCues_),o},set(){}}}),i.src?(this.src=i.src,this.preload_||(this.loaded_=!0),(this.preload_||i.kind!=="subtitles"&&i.kind!=="captions")&&t2(this.src,this)):this.loaded_=!0}startTracking(){this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler),this.tech_.on("timeupdate",this.timeupdateHandler)}stopTracking(){this.rvf_&&(this.tech_.cancelVideoFrameCallback(this.rvf_),this.rvf_=void 0),this.tech_.off("timeupdate",this.timeupdateHandler)}addCue(e){let i=e;if(i.constructor&&i.constructor.name!=="VTTCue"){i=new O.vttjs.VTTCue(e.startTime,e.endTime,e.text);for(const r in e)r in i||(i[r]=e[r]);i.id=e.id,i.originalCue_=e}const n=this.tech_.textTracks();for(let r=0;r<n.length;r++)n[r]!==this&&n[r].removeCue(i);this.cues_.push(i),this.cues.setCues_(this.cues_)}removeCue(e){let i=this.cues_.length;for(;i--;){const n=this.cues_[i];if(n===e||n.originalCue_&&n.originalCue_===e){this.cues_.splice(i,1),this.cues.setCues_(this.cues_);break}}}}Ml.prototype.allowedEvents_={cuechange:"cuechange"};class BS extends V0{constructor(e={}){const i=Oe(e,{kind:nR[e.kind]||""});super(i);let n=!1;Object.defineProperty(this,"enabled",{get(){return n},set(r){typeof r!="boolean"||r===n||(n=r,this.trigger("enabledchange"))}}),i.enabled&&(this.enabled=i.enabled),this.loaded_=!0}}class FS extends V0{constructor(e={}){const i=Oe(e,{kind:iR[e.kind]||""});super(i);let n=!1;Object.defineProperty(this,"selected",{get(){return n},set(r){typeof r!="boolean"||r===n||(n=r,this.trigger("selectedchange"))}}),i.selected&&(this.selected=i.selected)}}class Hn extends Oi{constructor(e={}){super();let i;const n=new Ml(e);this.kind=n.kind,this.src=n.src,this.srclang=n.language,this.label=n.label,this.default=n.default,Object.defineProperties(this,{readyState:{get(){return i}},track:{get(){return n}}}),i=Hn.NONE,n.addEventListener("loadeddata",()=>{i=Hn.LOADED,this.trigger({type:"load",target:this})})}}Hn.prototype.allowedEvents_={load:"load"};Hn.NONE=0;Hn.LOADING=1;Hn.LOADED=2;Hn.ERROR=3;const Ci={audio:{ListClass:ZN,TrackClass:BS,capitalName:"Audio"},video:{ListClass:eR,TrackClass:FS,capitalName:"Video"},text:{ListClass:RS,TrackClass:Ml,capitalName:"Text"}};Object.keys(Ci).forEach(function(t){Ci[t].getterName=`${t}Tracks`,Ci[t].privateName=`${t}Tracks_`});const wo={remoteText:{ListClass:RS,TrackClass:Ml,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:tR,TrackClass:Hn,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},Lt=Object.assign({},Ci,wo);wo.names=Object.keys(wo);Ci.names=Object.keys(Ci);Lt.names=[].concat(wo.names).concat(Ci.names);function oR(t,e,i,n,r={}){const s=t.textTracks();r.kind=e,i&&(r.label=i),n&&(r.language=n),r.tech=t;const o=new Lt.text.TrackClass(r);return s.addTrack(o),o}class me extends ${constructor(e={},i=function(){}){e.reportTouchActivity=!1,super(null,e,i),this.onDurationChange_=n=>this.onDurationChange(n),this.trackProgress_=n=>this.trackProgress(n),this.trackCurrentTime_=n=>this.trackCurrentTime(n),this.stopTrackingCurrentTime_=n=>this.stopTrackingCurrentTime(n),this.disposeSourceHandler_=n=>this.disposeSourceHandler(n),this.queuedHanders_=new Set,this.hasStarted_=!1,this.on("playing",function(){this.hasStarted_=!0}),this.on("loadstart",function(){this.hasStarted_=!1}),Lt.names.forEach(n=>{const r=Lt[n];e&&e[r.getterName]&&(this[r.privateName]=e[r.getterName])}),this.featuresProgressEvents||this.manualProgressOn(),this.featuresTimeupdateEvents||this.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(n=>{e[`native${n}Tracks`]===!1&&(this[`featuresNative${n}Tracks`]=!1)}),e.nativeCaptions===!1||e.nativeTextTracks===!1?this.featuresNativeTextTracks=!1:(e.nativeCaptions===!0||e.nativeTextTracks===!0)&&(this.featuresNativeTextTracks=!0),this.featuresNativeTextTracks||this.emulateTextTracks(),this.preloadTextTracks=e.preloadTextTracks!==!1,this.autoRemoteTextTracks_=new Lt.text.ListClass,this.initTrackListeners(),e.nativeControlsForTouch||this.emitTapEvents(),this.constructor&&(this.name_=this.constructor.name||"Unknown Tech")}triggerSourceset(e){this.isReady_||this.one("ready",()=>this.setTimeout(()=>this.triggerSourceset(e),1)),this.trigger({src:e,type:"sourceset"})}manualProgressOn(){this.on("durationchange",this.onDurationChange_),this.manualProgress=!0,this.one("ready",this.trackProgress_)}manualProgressOff(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange_)}trackProgress(e){this.stopTrackingProgress(),this.progressInterval=this.setInterval(Ne(this,function(){const i=this.bufferedPercent();this.bufferedPercent_!==i&&this.trigger("progress"),this.bufferedPercent_=i,i===1&&this.stopTrackingProgress()}),500)}onDurationChange(e){this.duration_=this.duration()}buffered(){return mn(0,0)}bufferedPercent(){return NS(this.buffered(),this.duration_)}stopTrackingProgress(){this.clearInterval(this.progressInterval)}manualTimeUpdatesOn(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime_),this.on("pause",this.stopTrackingCurrentTime_)}manualTimeUpdatesOff(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime_),this.off("pause",this.stopTrackingCurrentTime_)}trackCurrentTime(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)}stopTrackingCurrentTime(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}dispose(){this.clearTracks(Ci.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),super.dispose()}clearTracks(e){e=[].concat(e),e.forEach(i=>{const n=this[`${i}Tracks`]()||[];let r=n.length;for(;r--;){const s=n[r];i==="text"&&this.removeRemoteTextTrack(s),n.removeTrack(s)}})}cleanupAutoTextTracks(){const e=this.autoRemoteTextTracks_||[];let i=e.length;for(;i--;){const n=e[i];this.removeRemoteTextTrack(n)}}reset(){}crossOrigin(){}setCrossOrigin(){}error(e){return e!==void 0&&(this.error_=new Mt(e),this.trigger("error")),this.error_}played(){return this.hasStarted_?mn(0,0):mn()}play(){}setScrubbing(e){}scrubbing(){}setCurrentTime(e){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}initTrackListeners(){Ci.names.forEach(e=>{const i=Ci[e],n=()=>{this.trigger(`${e}trackchange`)},r=this[i.getterName]();r.addEventListener("removetrack",n),r.addEventListener("addtrack",n),this.on("dispose",()=>{r.removeEventListener("removetrack",n),r.removeEventListener("addtrack",n)})})}addWebVttScript_(){if(!O.WebVTT)if(K.body.contains(this.el())){if(!this.options_["vtt.js"]&&vo(v1)&&Object.keys(v1).length>0){this.trigger("vttjsloaded");return}const e=K.createElement("script");e.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",e.onload=()=>{this.trigger("vttjsloaded")},e.onerror=()=>{this.trigger("vttjserror")},this.on("dispose",()=>{e.onload=null,e.onerror=null}),O.WebVTT=!0,this.el().parentNode.appendChild(e)}else this.ready(this.addWebVttScript_)}emulateTextTracks(){const e=this.textTracks(),i=this.remoteTextTracks(),n=a=>e.addTrack(a.track),r=a=>e.removeTrack(a.track);i.on("addtrack",n),i.on("removetrack",r),this.addWebVttScript_();const s=()=>this.trigger("texttrackchange"),o=()=>{s();for(let a=0;a<e.length;a++){const l=e[a];l.removeEventListener("cuechange",s),l.mode==="showing"&&l.addEventListener("cuechange",s)}};o(),e.addEventListener("change",o),e.addEventListener("addtrack",o),e.addEventListener("removetrack",o),this.on("dispose",function(){i.off("addtrack",n),i.off("removetrack",r),e.removeEventListener("change",o),e.removeEventListener("addtrack",o),e.removeEventListener("removetrack",o);for(let a=0;a<e.length;a++)e[a].removeEventListener("cuechange",s)})}addTextTrack(e,i,n){if(!e)throw new Error("TextTrack kind is required but was not provided");return oR(this,e,i,n)}createRemoteTextTrack(e){const i=Oe(e,{tech:this});return new wo.remoteTextEl.TrackClass(i)}addRemoteTextTrack(e={},i){const n=this.createRemoteTextTrack(e);return typeof i!="boolean"&&(i=!1),this.remoteTextTrackEls().addTrackElement_(n),this.remoteTextTracks().addTrack(n.track),i===!1&&this.ready(()=>this.autoRemoteTextTracks_.addTrack(n.track)),n}removeRemoteTextTrack(e){const i=this.remoteTextTrackEls().getTrackElementByTrack_(e);this.remoteTextTrackEls().removeTrackElement_(i),this.remoteTextTracks().removeTrack(e),this.autoRemoteTextTracks_.removeTrack(e)}getVideoPlaybackQuality(){return{}}requestPictureInPicture(){return Promise.reject()}disablePictureInPicture(){return!0}setDisablePictureInPicture(){}requestVideoFrameCallback(e){const i=bn();return!this.isReady_||this.paused()?(this.queuedHanders_.add(i),this.one("playing",()=>{this.queuedHanders_.has(i)&&(this.queuedHanders_.delete(i),e())})):this.requestNamedAnimationFrame(i,e),i}cancelVideoFrameCallback(e){this.queuedHanders_.has(e)?this.queuedHanders_.delete(e):this.cancelNamedAnimationFrame(e)}setPoster(){}playsinline(){}setPlaysinline(){}overrideNativeAudioTracks(e){}overrideNativeVideoTracks(e){}canPlayType(e){return""}static canPlayType(e){return""}static canPlaySource(e,i){return me.canPlayType(e.type)}static isTech(e){return e.prototype instanceof me||e instanceof me||e===me}static registerTech(e,i){if(me.techs_||(me.techs_={}),!me.isTech(i))throw new Error(`Tech ${e} must be a Tech`);if(!me.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!me.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return e=Ke(e),me.techs_[e]=i,me.techs_[za(e)]=i,e!=="Tech"&&me.defaultTechOrder_.push(e),i}static getTech(e){if(e){if(me.techs_&&me.techs_[e])return me.techs_[e];if(e=Ke(e),O&&O.videojs&&O.videojs[e])return ve.warn(`The ${e} tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)`),O.videojs[e]}}}Lt.names.forEach(function(t){const e=Lt[t];me.prototype[e.getterName]=function(){return this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName]}});me.prototype.featuresVolumeControl=!0;me.prototype.featuresMuteControl=!0;me.prototype.featuresFullscreenResize=!1;me.prototype.featuresPlaybackRate=!1;me.prototype.featuresProgressEvents=!1;me.prototype.featuresSourceset=!1;me.prototype.featuresTimeupdateEvents=!1;me.prototype.featuresNativeTextTracks=!1;me.prototype.featuresVideoFrameCallback=!1;me.withSourceHandlers=function(t){t.registerSourceHandler=function(i,n){let r=t.sourceHandlers;r||(r=t.sourceHandlers=[]),n===void 0&&(n=r.length),r.splice(n,0,i)},t.canPlayType=function(i){const n=t.sourceHandlers||[];let r;for(let s=0;s<n.length;s++)if(r=n[s].canPlayType(i),r)return r;return""},t.selectSourceHandler=function(i,n){const r=t.sourceHandlers||[];let s;for(let o=0;o<r.length;o++)if(s=r[o].canHandleSource(i,n),s)return r[o];return null},t.canPlaySource=function(i,n){const r=t.selectSourceHandler(i,n);return r?r.canHandleSource(i,n):""},["seekable","seeking","duration"].forEach(function(i){const n=this[i];typeof n=="function"&&(this[i]=function(){return this.sourceHandler_&&this.sourceHandler_[i]?this.sourceHandler_[i].apply(this.sourceHandler_,arguments):n.apply(this,arguments)})},t.prototype),t.prototype.setSource=function(i){let n=t.selectSourceHandler(i,this.options_);n||(t.nativeSourceHandler?n=t.nativeSourceHandler:ve.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler_),n!==t.nativeSourceHandler&&(this.currentSource_=i),this.sourceHandler_=n.handleSource(i,this,this.options_),this.one("dispose",this.disposeSourceHandler_)},t.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}};$.registerComponent("Tech",me);me.registerTech("Tech",me);me.defaultTechOrder_=[];const Yr={},zm={},td={};function aR(t,e){Yr[t]=Yr[t]||[],Yr[t].push(e)}function lR(t,e,i){t.setTimeout(()=>Fr(e,Yr[e.type],i,t),1)}function uR(t,e){t.forEach(i=>i.setTech&&i.setTech(e))}function cR(t,e,i){return t.reduceRight(W0(i),e[i]())}function dR(t,e,i,n){return e[i](t.reduce(W0(i),n))}function i2(t,e,i,n=null){const r="call"+Ke(i),s=t.reduce(W0(r),n),o=s===td,a=o?null:e[i](s);return pR(t,i,a,o),a}const hR={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1,ended:1},fR={setCurrentTime:1,setMuted:1,setVolume:1},n2={play:1,pause:1};function W0(t){return(e,i)=>e===td?td:i[t]?i[t](e):e}function pR(t,e,i,n){for(let r=t.length-1;r>=0;r--){const s=t[r];s[e]&&s[e](n,i)}}function mR(t){zm[t.id()]=null}function gR(t,e){const i=zm[t.id()];let n=null;if(i==null)return n=e(t),zm[t.id()]=[[e,n]],n;for(let r=0;r<i.length;r++){const[s,o]=i[r];s===e&&(n=o)}return n===null&&(n=e(t),i.push([e,n])),n}function Fr(t={},e=[],i,n,r=[],s=!1){const[o,...a]=e;if(typeof o=="string")Fr(t,Yr[o],i,n,r,s);else if(o){const l=gR(n,o);if(!l.setSource)return r.push(l),Fr(t,a,i,n,r,s);l.setSource(Object.assign({},t),function(u,d){if(u)return Fr(t,a,i,n,r,s);r.push(l),Fr(d,t.type===d.type?a:Yr[d.type],i,n,r,s)})}else a.length?Fr(t,a,i,n,r,s):s?i(t,r):Fr(t,Yr["*"],i,n,r,!0)}const yR={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",caf:"audio/x-caf",flac:"audio/flac",oga:"audio/ogg",wav:"audio/wav",m3u8:"application/x-mpegURL",mpd:"application/dash+xml",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},id=function(t=""){const e=q0(t);return yR[e.toLowerCase()]||""},vR=(t,e)=>{if(!e)return"";if(t.cache_.source.src===e&&t.cache_.source.type)return t.cache_.source.type;const i=t.cache_.sources.filter(r=>r.src===e);if(i.length)return i[0].type;const n=t.$$("source");for(let r=0;r<n.length;r++){const s=n[r];if(s.type&&s.src&&s.src===e)return s.type}return id(e)},jS=function(t){if(Array.isArray(t)){let e=[];t.forEach(function(i){i=jS(i),Array.isArray(i)?e=e.concat(i):yn(i)&&e.push(i)}),t=e}else typeof t=="string"&&t.trim()?t=[r2({src:t})]:yn(t)&&typeof t.src=="string"&&t.src&&t.src.trim()?t=[r2(t)]:t=[];return t};function r2(t){if(!t.type){const e=id(t.src);e&&(t.type=e)}return t}var _R=`<svg xmlns="http://www.w3.org/2000/svg">
  <defs>
    <symbol viewBox="0 0 16 16" id="vjs-icon-play">
      <path d="M2 1v14l12-7z"></path>
    </symbol>
    <symbol viewBox="0 0 24 24" id="vjs-icon-pause">
       <path d="M10 4H5v16h5V4zm9 0h-5v16h5V4z"/>
    </symbol>
    <symbol viewBox="0 0 24 24" id="vjs-icon-audio">
      <g><rect fill='none' height='24' width='24'/></g><g><path d='M12,3c-4.97,0-9,4.03-9,9v7c0,1.1,0.9,2,2,2h4v-8H5v-1c0-3.87,3.13-7,7-7s7,3.13,7,7v1h-4v8h4c1.1,0,2-0.9,2-2v-7 C21,7.03,16.97,3,12,3z'/></g>
    </symbol>
    <symbol viewBox="0 0 576 512" id="vjs-icon-captions">
      <path d='M0 96C0 60.7 28.7 32 64 32H512c35.3 0 64 28.7 64 64V416c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V96zM200 208c14.2 0 27 6.1 35.8 16c8.8 9.9 24 10.7 33.9 1.9s10.7-24 1.9-33.9c-17.5-19.6-43.1-32-71.5-32c-53 0-96 43-96 96s43 96 96 96c28.4 0 54-12.4 71.5-32c8.8-9.9 8-25-1.9-33.9s-25-8-33.9 1.9c-8.8 9.9-21.6 16-35.8 16c-26.5 0-48-21.5-48-48s21.5-48 48-48zm144 48c0-26.5 21.5-48 48-48c14.2 0 27 6.1 35.8 16c8.8 9.9 24 10.7 33.9 1.9s10.7-24 1.9-33.9c-17.5-19.6-43.1-32-71.5-32c-53 0-96 43-96 96s43 96 96 96c28.4 0 54-12.4 71.5-32c8.8-9.9 8-25-1.9-33.9s-25-8-33.9 1.9c-8.8 9.9-21.6 16-35.8 16c-26.5 0-48-21.5-48-48z'/>
    </symbol>
    <symbol viewBox="0 0 24 24" id="vjs-icon-subtitles">
      <path d='M0 0h24v24H0z' fill='none'/><path d='M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zM4 12h4v2H4v-2zm10 6H4v-2h10v2zm6 0h-4v-2h4v2zm0-4H10v-2h10v2z'/>
    </symbol>
    <symbol viewBox="0 0 448 512" id="vjs-icon-fullscreen-enter">
      <path d='M0 180V56c0-13.3 10.7-24 24-24h124c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H64v84c0 6.6-5.4 12-12 12H12c-6.6 0-12-5.4-12-12zM288 44v40c0 6.6 5.4 12 12 12h84v84c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12V56c0-13.3-10.7-24-24-24H300c-6.6 0-12 5.4-12 12zm148 276h-40c-6.6 0-12 5.4-12 12v84h-84c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h124c13.3 0 24-10.7 24-24V332c0-6.6-5.4-12-12-12zM160 468v-40c0-6.6-5.4-12-12-12H64v-84c0-6.6-5.4-12-12-12H12c-6.6 0-12 5.4-12 12v124c0 13.3 10.7 24 24 24h124c6.6 0 12-5.4 12-12z'/>
    </symbol>
    <symbol viewBox="0 0 24 24" id="vjs-icon-fullscreen-exit">
      <path d="M16,9h5a1,1,0,0,0,0-2H17V3a1,1,0,0,0-2,0V8A1,1,0,0,0,16,9ZM8,15H3a1,1,0,0,0,0,2H7v4a1,1,0,0,0,2,0V16A1,1,0,0,0,8,15ZM8,2A1,1,0,0,0,7,3V7H3A1,1,0,0,0,3,9H8A1,1,0,0,0,9,8V3A1,1,0,0,0,8,2ZM21,15H16a1,1,0,0,0-1,1v5a1,1,0,0,0,2,0V17h4a1,1,0,0,0,0-2Z"/>
    </symbol>
    <symbol viewBox="0 0 512 512" id="vjs-icon-play-circle">
      <path d='M464 256A208 208 0 1 0 48 256a208 208 0 1 0 416 0zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256zM188.3 147.1c7.6-4.2 16.8-4.1 24.3 .5l144 88c7.1 4.4 11.5 12.1 11.5 20.5s-4.4 16.1-11.5 20.5l-144 88c-7.4 4.5-16.7 4.7-24.3 .5s-12.3-12.2-12.3-20.9V168c0-8.7 4.7-16.7 12.3-20.9z'/>
    </symbol>
    <symbol viewBox="0 0 24 24" id="vjs-icon-volume-mute">
      <path d='M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z'/>
    </symbol>
    <symbol viewBox="0 0 24 24" id="vjs-icon-volume-low">
      <path d="M0 0h24v24H0z" fill="none"/><path d="M7 9v6h4l5 5V4l-5 5H7z"/>
    </symbol>
    <symbol viewBox="0 0 24 24" id="vjs-icon-volume-medium">
      <path d="M0 0h24v24H0z" fill="none"/><path d="M18.5 12c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM5 9v6h4l5 5V4L9 9H5z"/>
    </symbol>
    <symbol viewBox="0 0 24 24" id="vjs-icon-volume-high">
      <path d="M0 0h24v24H0z" fill="none"/><path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"/>
    </symbol>
    <symbol viewBox="0 0 512 512" id="vjs-icon-spinner">
      <path d='M304 48a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zm0 416a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zM48 304a48 48 0 1 0 0-96 48 48 0 1 0 0 96zm464-48a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zM142.9 437A48 48 0 1 0 75 369.1 48 48 0 1 0 142.9 437zm0-294.2A48 48 0 1 0 75 75a48 48 0 1 0 67.9 67.9zM369.1 437A48 48 0 1 0 437 369.1 48 48 0 1 0 369.1 437z'/>
    </symbol>
    <symbol viewBox="0 0 24 24" id="vjs-icon-hd">
      <path d='M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-8 12H9.5v-2h-2v2H6V9h1.5v2.5h2V9H11v6zm2-6h4c.55 0 1 .45 1 1v4c0 .55-.45 1-1 1h-4V9zm1.5 4.5h2v-3h-2v3z'/>
    </symbol>
    <symbol viewBox="0 0 24 24" id="vjs-icon-chapters">
      <path d='M3 13h2v-2H3v2zm0 4h2v-2H3v2zm0-8h2V7H3v2zm4 4h14v-2H7v2zm0 4h14v-2H7v2zM7 7v2h14V7H7z'/>
    </symbol>
    <symbol viewBox="0 0 24 24" id="vjs-icon-downloading">
      <path d='M18.32,4.26C16.84,3.05,15.01,2.25,13,2.05v2.02c1.46,0.18,2.79,0.76,3.9,1.62L18.32,4.26z M19.93,11h2.02 c-0.2-2.01-1-3.84-2.21-5.32L18.31,7.1C19.17,8.21,19.75,9.54,19.93,11z M18.31,16.9l1.43,1.43c1.21-1.48,2.01-3.32,2.21-5.32 h-2.02C19.75,14.46,19.17,15.79,18.31,16.9z M13,19.93v2.02c2.01-0.2,3.84-1,5.32-2.21l-1.43-1.43 C15.79,19.17,14.46,19.75,13,19.93z M15.59,10.59L13,13.17V7h-2v6.17l-2.59-2.59L7,12l5,5l5-5L15.59,10.59z M11,19.93v2.02 c-5.05-0.5-9-4.76-9-9.95s3.95-9.45,9-9.95v2.02C7.05,4.56,4,7.92,4,12S7.05,19.44,11,19.93z'/>
    </symbol>
    <symbol viewBox="0 0 24 24" id="vjs-icon-file-download">
      <path d='M18,15v3H6v-3H4v3c0,1.1,0.9,2,2,2h12c1.1,0,2-0.9,2-2v-3H18z M17,11l-1.41-1.41L13,12.17V4h-2v8.17L8.41,9.59L7,11l5,5 L17,11z'/>
    </symbol>
    <symbol viewBox="0 0 24 24" id="vjs-icon-file-download-done">
      <polygon points='20.13,5.41 18.72,4 9.53,13.19 5.28,8.95 3.87,10.36 9.53,16.02'/><rect height='2' width='14' x='5' y='18'/>
    </symbol>
    <symbol viewBox="0 0 24 24" id="vjs-icon-file-download-off">
      <path d='M18,15.17V15h2v2.17L18,15.17z M15.41,12.59L17,11l-1.41-1.41L14,11.17L15.41,12.59z M13,10.17V4h-2v4.17L13,10.17z M21.19,21.19l-1.78-1.78L2.81,2.81L1.39,4.22l6.19,6.19L7,11l5,5l0.59-0.59L15.17,18H6v-3H4v3c0,1.1,0.9,2,2,2h11.17l2.61,2.61 L21.19,21.19z'/>
    </symbol>
    <symbol viewBox="0 0 24 24" id="vjs-icon-share">
      <path d='M0 0h24v24H0z' fill='none'/><path d='M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z'/>
    </symbol>
    <symbol viewBox="0 0 24 24" id="vjs-icon-cog">
      <path d='M0,0h24v24H0V0z' fill='none'/><path d='M19.14,12.94c0.04-0.3,0.06-0.61,0.06-0.94c0-0.32-0.02-0.64-0.07-0.94l2.03-1.58c0.18-0.14,0.23-0.41,0.12-0.61 l-1.92-3.32c-0.12-0.22-0.37-0.29-0.59-0.22l-2.39,0.96c-0.5-0.38-1.03-0.7-1.62-0.94L14.4,2.81c-0.04-0.24-0.24-0.41-0.48-0.41 h-3.84c-0.24,0-0.43,0.17-0.47,0.41L9.25,5.35C8.66,5.59,8.12,5.92,7.63,6.29L5.24,5.33c-0.22-0.08-0.47,0-0.59,0.22L2.74,8.87 C2.62,9.08,2.66,9.34,2.86,9.48l2.03,1.58C4.84,11.36,4.8,11.69,4.8,12s0.02,0.64,0.07,0.94l-2.03,1.58 c-0.18,0.14-0.23,0.41-0.12,0.61l1.92,3.32c0.12,0.22,0.37,0.29,0.59,0.22l2.39-0.96c0.5,0.38,1.03,0.7,1.62,0.94l0.36,2.54 c0.05,0.24,0.24,0.41,0.48,0.41h3.84c0.24,0,0.44-0.17,0.47-0.41l0.36-2.54c0.59-0.24,1.13-0.56,1.62-0.94l2.39,0.96 c0.22,0.08,0.47,0,0.59-0.22l1.92-3.32c0.12-0.22,0.07-0.47-0.12-0.61L19.14,12.94z M12,15.6c-1.98,0-3.6-1.62-3.6-3.6 s1.62-3.6,3.6-3.6s3.6,1.62,3.6,3.6S13.98,15.6,12,15.6z'/>
    </symbol>
    <symbol viewBox="0 0 448 512" id="vjs-icon-square">
      <path d='M384 80c8.8 0 16 7.2 16 16V416c0 8.8-7.2 16-16 16H64c-8.8 0-16-7.2-16-16V96c0-8.8 7.2-16 16-16H384zM64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H64z'/>
    </symbol>
    <symbol viewBox="0 0 512 512" id="vjs-icon-circle">
      <path d='M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512z'/>
    </symbol>
    <symbol viewBox="0 0 24 24" id="vjs-icon-circle-outline">
      <path d='M12,2C6.47,2,2,6.47,2,12c0,5.53,4.47,10,10,10s10-4.47,10-10C22,6.47,17.53,2,12,2z M12,20c-4.42,0-8-3.58-8-8 c0-4.42,3.58-8,8-8s8,3.58,8,8C20,16.42,16.42,20,12,20z'/>
    </symbol>
    <symbol viewBox="0 0 24 24" id="vjs-icon-circle-inner-circle">
      <path d='M12 2C6.49 2 2 6.49 2 12s4.49 10 10 10 10-4.49 10-10S17.51 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm3-8c0 1.66-1.34 3-3 3s-3-1.34-3-3 1.34-3 3-3 3 1.34 3 3z'/>
    </symbol>
    <symbol viewBox="0 0 24 24" id="vjs-icon-cancel">
      <path d='M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z'/>
    </symbol>
    <symbol viewBox="0 0 24 24" id="vjs-icon-repeat">
      <path d='M0 0h24v24H0z' fill='none'/><path d='M7 7h10v3l4-4-4-4v3H5v6h2V7zm10 10H7v-3l-4 4 4 4v-3h12v-6h-2v4z'/>
    </symbol>
    <symbol viewBox="0 0 24 24" id="vjs-icon-replay">
      <path d='M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8z'/>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-5">
      <path d='m17.68852 98-8.69633 8.69633 8.69633 8.69634 2.48665-2.48434-4.31928-4.31928h1.3011c4.93015 0 9.07149 1.72189 12.42399 5.16511 3.35251 3.44322 5.02876 7.63753 5.02876 12.58345h3.54972c0-2.95809-.55264-5.7293-1.657-8.3127-1.10435-2.5834-2.62238-4.84095-4.555-6.77357-1.93262-1.93262-4.19017-3.45065-6.77357-4.55501-2.5834-1.10435-5.35462-1.65699-8.31271-1.65699H15.5l4.61508-4.61509zm-8.07929 21.65879v13.86144h11.35631v5.00796H9.60923V143h12.699c.83466 0 1.55075-.29818 2.14693-.89436.59619-.59619.89436-1.30996.89436-2.14462v-7.78117c0-.83466-.29817-1.55075-.89436-2.14693-.59618-.59618-1.31227-.89436-2.14693-.89436h-8.22719v-5.09578h11.26848v-4.38399z'/>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-10">
      <path d='M42.314792 125.62978c0-4.99676-1.693476-9.23445-5.080438-12.71305-3.386962-3.47861-7.570851-5.21791-12.551676-5.21791h-1.314946l4.363203 4.3632-2.510335 2.51034-8.786174-8.78619L25.2206 97l2.450567 2.45057-4.662053 4.66205h1.374714c2.988489 0 5.787713.55785 8.397671 1.67355 2.609949 1.11571 4.891163 2.64981 6.843654 4.60229 1.952481 1.95248 3.486576 4.2337 4.602275 6.84365 1.115709 2.60995 1.673563 5.40917 1.673563 8.39767zM8.1829433 142v-19.65677H3.17603v-4.5433h9.642939V142Zm13.6299297 0c-1.155923 0-2.126398-.39251-2.911424-1.17755-.778861-.77885-1.168286-1.74624-1.168286-2.90215v-16.04066c0-1.15593.392524-2.1264 1.17755-2.91144.77886-.77885 1.746237-1.16827 2.90216-1.16827h7.695814c1.155914 0 2.126388.39251 2.911425 1.17755.77885.77886 1.168275 1.74623 1.168275 2.90216v16.04066c0 1.15591-.392513 2.12639-1.177549 2.91142-.778851.77885-1.746237 1.16828-2.902151 1.16828Zm.556316-4.63603h6.583172v-15.02074h-6.583172z'/>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-30">
      <path d='m26.046875 97-8.732422 8.73242 8.732422 8.73242 2.496094-2.49414-4.335938-4.33789h1.306641c4.950749 0 9.108097 1.72991 12.474609 5.1875 3.366504 3.4576 5.050781 7.66818 5.050781 12.63477h3.564454c0-2.97045-.555098-5.75152-1.664063-8.3457-1.108965-2.59419-2.633522-4.86205-4.574219-6.80274-1.940688-1.94069-4.208545-3.46525-6.802734-4.57422-2.59419-1.10897-5.375262-1.66406-8.345703-1.66406h-1.367188l4.634766-4.63477zM2.5546875 117.53125v4.6875H12.851562v5.25H5.8730469v4.6875h6.9785151v5.15625H2.5546875V142H13.361328c1.06088 0 1.950319-.39495 2.667969-1.18555.71765-.79059 1.076172-1.7727 1.076172-2.9414v-16.2168c0-1.1687-.358522-2.14886-1.076172-2.93945-.71765-.79059-1.607089-1.18555-2.667969-1.18555zm22.4824215.14063c-1.148936 0-2.110612.38991-2.884765 1.16406-.780292.78029-1.171875 1.74365-1.171875 2.89258v15.94336c0 1.14892.387966 2.1106 1.162109 2.88476.780302.78029 1.745595 1.17188 2.894531 1.17188h7.648438c1.148936 0 2.110613-.38795 2.884765-1.16211.780294-.78029 1.169922-1.74561 1.169922-2.89453v-15.94336c0-1.14893-.386013-2.11061-1.160156-2.88477-.780293-.78029-1.745595-1.17187-2.894531-1.17187zm.552735 4.51757h6.544922v14.92969h-6.544922z'/>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-5">
      <path d='m29.50843 97-2.43193 2.42962 4.6253 4.6253h-1.3642c-2.96464 0-5.74198.55386-8.3311 1.66066-2.58912 1.1068-4.85167 2.62819-6.78857 4.56508-1.93689 1.9369-3.45828 4.19945-4.56508 6.78857-1.1068 2.58911-1.66066 5.36646-1.66066 8.3311h3.55757c0-4.95687 1.67996-9.16047 5.03989-12.6113 3.35992-3.45084 7.51042-5.17654 12.45149-5.17654h1.30398l-4.32653 4.32883 2.48984 2.48984 8.71558-8.71558zm-9.78332 21.60945v13.8898h11.38144v5.01905H19.72511V142h12.72711c.83651 0 1.55186-.29884 2.14937-.89634.5975-.59751.89634-1.31286.89634-2.14936v-7.7984c0-.83651-.29884-1.55418-.89634-2.15168-.59751-.5975-1.31286-.89634-2.14937-.89634h-8.2454v-5.10706h11.29111v-4.39137z'/>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-10">
      <path d='m23.118923 97-2.385761 2.38349 4.537491 4.53749h-1.338298c-2.908354 0-5.632974.54335-8.172936 1.62913-2.539963 1.08579-4.759558 2.57829-6.659682 4.47842-1.900125 1.90012-3.39263 4.11972-4.478415 6.65968-1.085785 2.53996-1.629134 5.26458-1.629134 8.17294h3.490028c0-4.86277 1.648071-8.98656 4.944206-12.37188 3.296134-3.38532 7.367841-5.07826 12.215097-5.07826h1.279222l-4.244383 4.24665 2.442565 2.44257 8.550114-8.55012zm-9.520322 21.44913v4.42161h4.871497V142h4.512496v-23.55087zm18.136328 0c-1.124919 0-2.06632.37811-2.824287 1.13608-.763982.76398-1.147437 1.70845-1.147437 2.83337v15.61197c0 1.12492.380382 2.06631 1.138349 2.82428.763983.76398 1.708456 1.14517 2.833375 1.14517h7.489021c1.12492 0 2.06632-.37811 2.82428-1.13608.76399-.76398 1.14517-1.70845 1.14517-2.83337v-15.61197c0-1.12492-.37811-2.06632-1.13608-2.82429-.76398-.76398-1.70845-1.14516-2.83337-1.14516zm.540773 4.42161h6.407468v14.61676h-6.407468z'/>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-30">
      <path d='m25.548631 97-2.436697 2.43438 4.634367 4.63436H26.37943c-2.970448 0-5.753239.55495-8.347429 1.66392-2.594191 1.10897-4.861176 2.63334-6.801867 4.57403-1.940693 1.94069-3.465063 4.20767-4.57403 6.80187-1.108967 2.59419-1.663916 5.37698-1.663916 8.34742h3.56454c0-4.96658 1.683258-9.17841 5.049766-12.63601 3.366507-3.4576 7.525145-5.18669 12.475891-5.18669h1.306534l-4.335002 4.33733 2.494714 2.49471 8.73266-8.73266zm-11.552266 20.53092v4.68774h10.296787v5.24934h-6.978237v4.68774h6.978237v5.15652H13.996365V142h10.807333c1.060879 0 1.94879-.39527 2.666443-1.18586.717653-.79059 1.076789-1.77158 1.076789-2.94028v-16.2168c0-1.1687-.359136-2.14969-1.076789-2.94028-.717653-.79059-1.605564-1.18586-2.666443-1.18586zm21.173741.16708c-1.148937 0-2.110436.38851-2.884586 1.16266-.780294.78029-1.171935 1.74493-1.171935 2.89387v15.94296c0 1.14894.388502 2.11043 1.162652 2.88458.780294.78029 1.744932 1.16962 2.893869 1.16962h7.648904c1.14894 0 2.11044-.38619 2.88459-1.16033.78029-.7803 1.16961-1.74493 1.16961-2.89387v-15.94296c0-1.14894-.38618-2.11044-1.16033-2.88459-.78029-.78029-1.74493-1.17194-2.89387-1.17194zm.552317 4.51602h6.541957v14.93115h-6.541957z'/>
    </symbol>
    <symbol viewBox="0 0 512 512" xmlns:sketch='http://www.bohemiancoding.com/sketch/ns' id="vjs-icon-audio-description">
      <g id='Page-1' stroke='none' stroke-width='1' sketch:type='MSPage'><g id='AD' sketch:type='MSArtboardGroup'><g id='g24' sketch:type='MSLayerGroup' transform='translate(226.904216, 162.124958)'><path d='M0.385466989,219.226204 L0.385466989,0.867948105 C50.7660025,-0.149278544 89.4938709,-2.16027378 118.016886,17.9940357 C145.39121,37.3362698 166.750707,74.9591545 162.906445,123.318579 C158.839382,174.474203 121.571663,217.457893 73.1311827,221.793795 C49.0460488,223.949377 1.1583283,221.793795 1.1583283,221.793795 C1.1583283,221.793795 0.318395733,220.441758 0.385466989,219.226204 M49.1404882,164.421786 C80.5703101,165.681697 102.34881,147.788744 105.636072,119.036417 C110.038491,80.5268177 84.4473371,55.4838492 47.5943801,58.2399576 L47.5943801,161.852062 C47.5585317,163.318404 48.1702678,164.071194 49.1404882,164.421786' id='path26' sketch:type='MSShapeGroup'></path></g><g id='g28' sketch:type='MSLayerGroup' transform='translate(383.779991, 168.926023)'><path d='M0,212.402042 C13.3360014,216.111401 17.386874,201.342635 23.2151349,190.99422 C35.936702,168.422877 45.5086182,139.400143 45.6604922,106.220214 C45.8813648,58.6259492 27.3172746,23.7033002 10.059532,0.0383859113 L1.54919183,0.0383859113 C0.96289654,3.91152436 3.77564916,7.35260805 5.41542574,10.3142944 C18.5814362,34.0755999 30.7818519,66.8674044 30.9556975,104.507776 C31.1545985,147.683822 16.7932549,183.786198 0,212.402042' id='path30' sketch:type='MSShapeGroup'></path></g><g id='g32' sketch:type='MSLayerGroup' transform='translate(425.153705, 168.926023)'><path d='M0,212.402042 C13.3360014,216.111401 17.3841758,201.340502 23.2151349,190.99422 C35.936702,168.422877 45.5066909,139.400143 45.6604922,106.220214 C45.8813648,58.6259492 27.3172746,23.7033002 10.059532,0.0383859113 L1.54919183,0.0383859113 C0.96289654,3.91152436 3.77487823,7.35346107 5.41542574,10.3142944 C18.5814362,34.0755999 30.7822374,66.8674044 30.9556975,104.507776 C31.1545985,147.683822 16.7932549,183.786198 0,212.402042' id='path34' sketch:type='MSShapeGroup'></path></g><g id='g36' sketch:type='MSLayerGroup' transform='translate(466.260868, 168.926023)'><path d='M0,212.402042 C13.3360014,216.111401 17.3841758,201.340502 23.2151349,190.99422 C35.936702,168.422877 45.5066909,139.400143 45.6604922,106.220214 C45.8813648,58.6259492 27.3172746,23.7033002 10.059532,0.0383859113 L1.54919183,0.0383859113 C0.96289654,3.91152436 3.77487823,7.35303456 5.41542574,10.3142944 C18.5814362,34.0755999 30.7818519,66.8674044 30.9556975,104.507776 C31.1545985,147.683822 16.7932549,183.786198 0,212.402042' id='path38' sketch:type='MSShapeGroup'></path></g><path d='M4.4765625,383.005158 L72.5800993,383.005158 L91.1530552,354.521486 L155.321745,354.386058 C155.321745,354.386058 155.386889,373.799083 155.386889,383.005158 L204.142681,383.005158 L204.142681,160.308263 L145.326586,160.308263 C139.673713,169.845383 4.4765625,383.005158 4.4765625,383.005158 L4.4765625,383.005158 Z M157.144233,237.722611 L157.144233,308.881058 L116.6914,308.610203 L157.144233,237.722611 L157.144233,237.722611 Z' id='path22' sketch:type='MSShapeGroup'></path></g></g>
    </symbol>
    <symbol viewBox="0 0 24 24" id="vjs-icon-next-item">
      <path d='M0 0h24v24H0z' fill='none'/><path d='M6 18l8.5-6L6 6v12zM16 6v12h2V6h-2z'/>
    </symbol>
    <symbol viewBox="0 0 24 24" id="vjs-icon-previous-item">
      <path d='M0 0h24v24H0z' fill='none'/><path d='M6 6h2v12H6zm3.5 6l8.5 6V6z'/>
    </symbol>
    <symbol viewBox="0 0 24 24" id="vjs-icon-shuffle">
      <path d='M0 0h24v24H0z' fill='none'/><path d='M10.59 9.17L5.41 4 4 5.41l5.17 5.17 1.42-1.41zM14.5 4l2.04 2.04L4 18.59 5.41 20 17.96 7.46 20 9.5V4h-5.5zm.33 9.41l-1.41 1.41 3.13 3.13L14.5 20H20v-5.5l-2.04 2.04-3.13-3.13z'/>
    </symbol>
    <symbol viewBox="0 0 24 24" id="vjs-icon-cast">
      <path d='M0 0h24v24H0z' fill='none'/><path d='M0 0h24v24H0z' fill='none' opacity='.1'/><path d='M21 3H3c-1.1 0-2 .9-2 2v3h2V5h18v14h-7v2h7c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM1 18v3h3c0-1.66-1.34-3-3-3zm0-4v2c2.76 0 5 2.24 5 5h2c0-3.87-3.13-7-7-7zm0-4v2c4.97 0 9 4.03 9 9h2c0-6.08-4.93-11-11-11z'/>
    </symbol>
    <symbol viewBox="0 0 24 24" id="vjs-icon-picture-in-picture-enter">
      <path d='M0 0h24v24H0V0z' fill='none'/><path d='M19 11h-8v6h8v-6zm4 8V4.98C23 3.88 22.1 3 21 3H3c-1.1 0-2 .88-2 1.98V19c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2zm-2 .02H3V4.97h18v14.05z'/>
    </symbol>
    <symbol viewBox="0 0 22 18" id="vjs-icon-picture-in-picture-exit">
      <path d='M18 4H4v10h14V4zm4 12V1.98C22 .88 21.1 0 20 0H2C.9 0 0 .88 0 1.98V16c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2zm-2 .02H2V1.97h18v14.05z'/><path fill='none' d='M-1-3h24v24H-1z'/>
    </symbol>
    <symbol viewBox="0 0 320 512" id="vjs-icon-facebook">
      <path d='M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 225.36 0c-73.22 0-121.08 44.38-121.08 124.72v70.62H22.89V288h81.39v224h100.17V288z'/>
    </symbol>
    <symbol viewBox="0 0 448 512" id="vjs-icon-linkedin">
      <path d='M100.28 448H7.4V148.9h92.88zM53.79 108.1C24.09 108.1 0 83.5 0 53.8a53.79 53.79 0 0 1 107.58 0c0 29.7-24.1 54.3-53.79 54.3zM447.9 448h-92.68V302.4c0-34.7-.7-79.2-48.29-79.2-48.29 0-55.69 37.7-55.69 76.7V448h-92.78V148.9h89.08v40.8h1.3c12.4-23.5 42.69-48.3 87.88-48.3 94 0 111.28 61.9 111.28 142.3V448z'/>
    </symbol>
    <symbol viewBox="0 0 512 512" id="vjs-icon-twitter">
      <path d='M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z'/>
    </symbol>
    <symbol viewBox="0 0 320 512" id="vjs-icon-tumblr">
      <path d='M309.8 480.3c-13.6 14.5-50 31.7-97.4 31.7-120.8 0-147-88.8-147-140.6v-144H17.9c-5.5 0-10-4.5-10-10v-68c0-7.2 4.5-13.6 11.3-16 62-21.8 81.5-76 84.3-117.1.8-11 6.5-16.3 16.1-16.3h70.9c5.5 0 10 4.5 10 10v115.2h83c5.5 0 10 4.4 10 9.9v81.7c0 5.5-4.5 10-10 10h-83.4V360c0 34.2 23.7 53.6 68 35.8 4.8-1.9 9-3.2 12.7-2.2 3.5.9 5.8 3.4 7.4 7.9l22 64.3c1.8 5 3.3 10.6-.4 14.5z'/>
    </symbol>
    <symbol viewBox="0 0 496 512" id="vjs-icon-pinterest">
      <path d='M496 256c0 137-111 248-248 248-25.6 0-50.2-3.9-73.4-11.1 10.1-16.5 25.2-43.5 30.8-65 3-11.6 15.4-59 15.4-59 8.1 15.4 31.7 28.5 56.8 28.5 74.8 0 128.7-68.8 128.7-154.3 0-81.9-66.9-143.2-152.9-143.2-107 0-163.9 71.8-163.9 150.1 0 36.4 19.4 81.7 50.3 96.1 4.7 2.2 7.2 1.2 8.3-3.3.8-3.4 5-20.3 6.9-28.1.6-2.5.3-4.7-1.7-7.1-10.1-12.5-18.3-35.3-18.3-56.6 0-54.7 41.4-107.6 112-107.6 60.9 0 103.6 41.5 103.6 100.9 0 67.1-33.9 113.6-78 113.6-24.3 0-42.6-20.1-36.7-44.8 7-29.5 20.5-61.3 20.5-82.6 0-19-10.2-34.9-31.4-34.9-24.9 0-44.9 25.7-44.9 60.2 0 22 7.4 36.8 7.4 36.8s-24.5 103.8-29 123.2c-5 21.4-3 51.6-.9 71.2C65.4 450.9 0 361.1 0 256 0 119 111 8 248 8s248 111 248 248z'/>
    </symbol>
  </defs>
</svg>`;class bR extends ${constructor(e,i,n){const r=Oe({createEl:!1},i);if(super(e,r,n),!i.playerOptions.sources||i.playerOptions.sources.length===0)for(let s=0,o=i.playerOptions.techOrder;s<o.length;s++){const a=Ke(o[s]);let l=me.getTech(a);if(a||(l=$.getComponent(a)),l&&l.isSupported()){e.loadTech_(a);break}}else e.src(i.playerOptions.sources)}}$.registerComponent("MediaLoader",bR);class hh extends ${constructor(e,i){super(e,i),this.options_.controlText&&this.controlText(this.options_.controlText),this.handleMouseOver_=n=>this.handleMouseOver(n),this.handleMouseOut_=n=>this.handleMouseOut(n),this.handleClick_=n=>this.handleClick(n),this.handleKeyDown_=n=>this.handleKeyDown(n),this.emitTapEvents(),this.enable()}createEl(e="div",i={},n={}){i=Object.assign({className:this.buildCSSClass(),tabIndex:0},i),e==="button"&&ve.error(`Creating a ClickableComponent with an HTML element of ${e} is not supported; use a Button instead.`),n=Object.assign({role:"button"},n),this.tabIndex_=i.tabIndex;const r=ge(e,i,n);return this.player_.options_.experimentalSvgIcons||r.appendChild(ge("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(r),r}dispose(){this.controlTextEl_=null,super.dispose()}createControlTextEl(e){return this.controlTextEl_=ge("span",{className:"vjs-control-text"},{"aria-live":"polite"}),e&&e.appendChild(this.controlTextEl_),this.controlText(this.controlText_,e),this.controlTextEl_}controlText(e,i=this.el()){if(e===void 0)return this.controlText_||"Need Text";const n=this.localize(e);this.controlText_=e,Dr(this.controlTextEl_,n),!this.nonIconControl&&!this.player_.options_.noUITitleAttributes&&i.setAttribute("title",n)}buildCSSClass(){return`vjs-control vjs-button ${super.buildCSSClass()}`}enable(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),typeof this.tabIndex_<"u"&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick_),this.on("keydown",this.handleKeyDown_))}disable(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),typeof this.tabIndex_<"u"&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver_),this.off("mouseout",this.handleMouseOut_),this.off(["tap","click"],this.handleClick_),this.off("keydown",this.handleKeyDown_)}handleLanguagechange(){this.controlText(this.controlText_)}handleClick(e){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)}handleKeyDown(e){pe.isEventKey(e,"Space")||pe.isEventKey(e,"Enter")?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):super.handleKeyDown(e)}}$.registerComponent("ClickableComponent",hh);class Vm extends hh{constructor(e,i){super(e,i),this.update(),this.update_=n=>this.update(n),e.on("posterchange",this.update_)}dispose(){this.player().off("posterchange",this.update_),super.dispose()}createEl(){return ge("div",{className:"vjs-poster"})}crossOrigin(e){if(typeof e>"u")return this.$("img")?this.$("img").crossOrigin:this.player_.tech_&&this.player_.tech_.isReady_?this.player_.crossOrigin():this.player_.options_.crossOrigin||this.player_.options_.crossorigin||null;if(e!==null&&e!=="anonymous"&&e!=="use-credentials"){this.player_.log.warn(`crossOrigin must be null,  "anonymous" or "use-credentials", given "${e}"`);return}this.$("img")&&(this.$("img").crossOrigin=e)}update(e){const i=this.player().poster();this.setSrc(i),i?this.show():this.hide()}setSrc(e){if(!e){this.el_.textContent="";return}this.$("img")||this.el_.appendChild(ge("picture",{className:"vjs-poster",tabIndex:-1},{},ge("img",{loading:"lazy",crossOrigin:this.crossOrigin()},{alt:""}))),this.$("img").src=e}handleClick(e){this.player_.controls()&&(this.player_.tech(!0)&&this.player_.tech(!0).focus(),this.player_.paused()?an(this.player_.play()):this.player_.pause())}}Vm.prototype.crossorigin=Vm.prototype.crossOrigin;$.registerComponent("PosterImage",Vm);const vi="#222",s2="#ccc",xR={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function Wf(t,e){let i;if(t.length===4)i=t[1]+t[1]+t[2]+t[2]+t[3]+t[3];else if(t.length===7)i=t.slice(1);else throw new Error("Invalid color code provided, "+t+"; must be formatted as e.g. #f0e or #f604e2.");return"rgba("+parseInt(i.slice(0,2),16)+","+parseInt(i.slice(2,4),16)+","+parseInt(i.slice(4,6),16)+","+e+")"}function ga(t,e,i){try{t.style[e]=i}catch{return}}function o2(t){return t?`${t}px`:""}class TR extends ${constructor(e,i,n){super(e,i,n);const r=o=>this.updateDisplay(o),s=o=>{this.updateDisplayOverlay(),this.updateDisplay(o)};e.on("loadstart",o=>this.toggleDisplay(o)),e.on("texttrackchange",r),e.on("loadedmetadata",o=>{this.updateDisplayOverlay(),this.preselectTrack(o)}),e.ready(Ne(this,function(){if(e.tech_&&e.tech_.featuresNativeTextTracks){this.hide();return}e.on("fullscreenchange",s),e.on("playerresize",s);const o=O.screen.orientation||O,a=O.screen.orientation?"change":"orientationchange";o.addEventListener(a,s),e.on("dispose",()=>o.removeEventListener(a,s));const l=this.options_.playerOptions.tracks||[];for(let u=0;u<l.length;u++)this.player_.addRemoteTextTrack(l[u],!0);this.preselectTrack()}))}preselectTrack(){const e={captions:1,subtitles:1},i=this.player_.textTracks(),n=this.player_.cache_.selectedLanguage;let r,s,o;for(let a=0;a<i.length;a++){const l=i[a];n&&n.enabled&&n.language&&n.language===l.language&&l.kind in e?l.kind===n.kind?o=l:o||(o=l):n&&!n.enabled?(o=null,r=null,s=null):l.default&&(l.kind==="descriptions"&&!r?r=l:l.kind in e&&!s&&(s=l))}o?o.mode="showing":s?s.mode="showing":r&&(r.mode="showing")}toggleDisplay(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()}createEl(){return super.createEl("div",{className:"vjs-text-track-display"},{translate:"yes","aria-live":"off","aria-atomic":"true"})}clearDisplay(){typeof O.WebVTT=="function"&&O.WebVTT.processCues(O,[],this.el_)}updateDisplay(){const e=this.player_.textTracks(),i=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),i){const o=[];for(let a=0;a<e.length;++a){const l=e[a];l.mode==="showing"&&o.push(l)}this.updateForTrack(o);return}let n=null,r=null,s=e.length;for(;s--;){const o=e[s];o.mode==="showing"&&(o.kind==="descriptions"?n=o:r=o)}r?(this.getAttribute("aria-live")!=="off"&&this.setAttribute("aria-live","off"),this.updateForTrack(r)):n&&(this.getAttribute("aria-live")!=="assertive"&&this.setAttribute("aria-live","assertive"),this.updateForTrack(n))}updateDisplayOverlay(){if(!this.player_.videoHeight()||!O.CSS.supports("inset-inline: 10px"))return;const e=this.player_.currentWidth(),i=this.player_.currentHeight(),n=e/i,r=this.player_.videoWidth()/this.player_.videoHeight();let s=0,o=0;Math.abs(n-r)>.1&&(n>r?s=Math.round((e-i*r)/2):o=Math.round((i-e/r)/2)),ga(this.el_,"insetInline",o2(s)),ga(this.el_,"insetBlock",o2(o))}updateDisplayState(e){const i=this.player_.textTrackSettings.getValues(),n=e.activeCues;let r=n.length;for(;r--;){const s=n[r];if(!s)continue;const o=s.displayState;if(i.color&&(o.firstChild.style.color=i.color),i.textOpacity&&ga(o.firstChild,"color",Wf(i.color||"#fff",i.textOpacity)),i.backgroundColor&&(o.firstChild.style.backgroundColor=i.backgroundColor),i.backgroundOpacity&&ga(o.firstChild,"backgroundColor",Wf(i.backgroundColor||"#000",i.backgroundOpacity)),i.windowColor&&(i.windowOpacity?ga(o,"backgroundColor",Wf(i.windowColor,i.windowOpacity)):o.style.backgroundColor=i.windowColor),i.edgeStyle&&(i.edgeStyle==="dropshadow"?o.firstChild.style.textShadow=`2px 2px 3px ${vi}, 2px 2px 4px ${vi}, 2px 2px 5px ${vi}`:i.edgeStyle==="raised"?o.firstChild.style.textShadow=`1px 1px ${vi}, 2px 2px ${vi}, 3px 3px ${vi}`:i.edgeStyle==="depressed"?o.firstChild.style.textShadow=`1px 1px ${s2}, 0 1px ${s2}, -1px -1px ${vi}, 0 -1px ${vi}`:i.edgeStyle==="uniform"&&(o.firstChild.style.textShadow=`0 0 4px ${vi}, 0 0 4px ${vi}, 0 0 4px ${vi}, 0 0 4px ${vi}`)),i.fontPercent&&i.fontPercent!==1){const a=O.parseFloat(o.style.fontSize);o.style.fontSize=a*i.fontPercent+"px",o.style.height="auto",o.style.top="auto"}i.fontFamily&&i.fontFamily!=="default"&&(i.fontFamily==="small-caps"?o.firstChild.style.fontVariant="small-caps":o.firstChild.style.fontFamily=xR[i.fontFamily])}}updateForTrack(e){if(Array.isArray(e)||(e=[e]),typeof O.WebVTT!="function"||e.every(n=>!n.activeCues))return;const i=[];for(let n=0;n<e.length;++n){const r=e[n];for(let s=0;s<r.activeCues.length;++s)i.push(r.activeCues[s])}O.WebVTT.processCues(O,i,this.el_);for(let n=0;n<e.length;++n){const r=e[n];for(let s=0;s<r.activeCues.length;++s){const o=r.activeCues[s].displayState;Kr(o,"vjs-text-track-cue","vjs-text-track-cue-"+(r.language?r.language:n)),r.language&&_o(o,"lang",r.language)}this.player_.textTrackSettings&&this.updateDisplayState(r)}}}$.registerComponent("TextTrackDisplay",TR);class wR extends ${createEl(){const e=this.player_.isAudio(),i=this.localize(e?"Audio Player":"Video Player"),n=ge("span",{className:"vjs-control-text",textContent:this.localize("{1} is loading.",[i])}),r=super.createEl("div",{className:"vjs-loading-spinner",dir:"ltr"});return r.appendChild(n),r}handleLanguagechange(){this.$(".vjs-control-text").textContent=this.localize("{1} is loading.",[this.player_.isAudio()?"Audio Player":"Video Player"])}}$.registerComponent("LoadingSpinner",wR);class ui extends hh{createEl(e,i={},n={}){e="button",i=Object.assign({className:this.buildCSSClass()},i),n=Object.assign({type:"button"},n);const r=ge(e,i,n);return this.player_.options_.experimentalSvgIcons||r.appendChild(ge("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(r),r}addChild(e,i={}){const n=this.constructor.name;return ve.warn(`Adding an actionable (user controllable) child to a Button (${n}) is not supported; use a ClickableComponent instead.`),$.prototype.addChild.call(this,e,i)}enable(){super.enable(),this.el_.removeAttribute("disabled")}disable(){super.disable(),this.el_.setAttribute("disabled","disabled")}handleKeyDown(e){if(pe.isEventKey(e,"Space")||pe.isEventKey(e,"Enter")){e.stopPropagation();return}super.handleKeyDown(e)}}$.registerComponent("Button",ui);class US extends ui{constructor(e,i){super(e,i),this.mouseused_=!1,this.setIcon("play"),this.on("mousedown",n=>this.handleMouseDown(n))}buildCSSClass(){return"vjs-big-play-button"}handleClick(e){const i=this.player_.play();if(this.mouseused_&&e.clientX&&e.clientY){an(i),this.player_.tech(!0)&&this.player_.tech(!0).focus();return}const n=this.player_.getChild("controlBar"),r=n&&n.getChild("playToggle");if(!r){this.player_.tech(!0).focus();return}const s=()=>r.focus();Va(i)?i.then(s,()=>{}):this.setTimeout(s,1)}handleKeyDown(e){this.mouseused_=!1,super.handleKeyDown(e)}handleMouseDown(e){this.mouseused_=!0}}US.prototype.controlText_="Play Video";$.registerComponent("BigPlayButton",US);class SR extends ui{constructor(e,i){super(e,i),this.setIcon("cancel"),this.controlText(i&&i.controlText||this.localize("Close"))}buildCSSClass(){return`vjs-close-button ${super.buildCSSClass()}`}handleClick(e){this.trigger({type:"close",bubbles:!1})}handleKeyDown(e){pe.isEventKey(e,"Esc")?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):super.handleKeyDown(e)}}$.registerComponent("CloseButton",SR);class $S extends ui{constructor(e,i={}){super(e,i),i.replay=i.replay===void 0||i.replay,this.setIcon("play"),this.on(e,"play",n=>this.handlePlay(n)),this.on(e,"pause",n=>this.handlePause(n)),i.replay&&this.on(e,"ended",n=>this.handleEnded(n))}buildCSSClass(){return`vjs-play-control ${super.buildCSSClass()}`}handleClick(e){this.player_.paused()?an(this.player_.play()):this.player_.pause()}handleSeeked(e){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(e):this.handlePlay(e)}handlePlay(e){this.removeClass("vjs-ended","vjs-paused"),this.addClass("vjs-playing"),this.setIcon("pause"),this.controlText("Pause")}handlePause(e){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.setIcon("play"),this.controlText("Play")}handleEnded(e){this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.setIcon("replay"),this.controlText("Replay"),this.one(this.player_,"seeked",i=>this.handleSeeked(i))}}$S.prototype.controlText_="Play";$.registerComponent("PlayToggle",$S);class jo extends ${constructor(e,i){super(e,i),this.on(e,["timeupdate","ended"],n=>this.updateContent(n)),this.updateTextNode_()}createEl(){const e=this.buildCSSClass(),i=super.createEl("div",{className:`${e} vjs-time-control vjs-control`}),n=ge("span",{className:"vjs-control-text",textContent:`${this.localize(this.labelText_)} `},{role:"presentation"});return i.appendChild(n),this.contentEl_=ge("span",{className:`${e}-display`},{role:"presentation"}),i.appendChild(this.contentEl_),i}dispose(){this.contentEl_=null,this.textNode_=null,super.dispose()}updateTextNode_(e=0){e=ns(e),this.formattedTime_!==e&&(this.formattedTime_=e,this.requestNamedAnimationFrame("TimeDisplay#updateTextNode_",()=>{if(!this.contentEl_)return;let i=this.textNode_;i&&this.contentEl_.firstChild!==i&&(i=null,ve.warn("TimeDisplay#updateTextnode_: Prevented replacement of text node element since it was no longer a child of this node. Appending a new node instead.")),this.textNode_=K.createTextNode(this.formattedTime_),this.textNode_&&(i?this.contentEl_.replaceChild(this.textNode_,i):this.contentEl_.appendChild(this.textNode_))}))}updateContent(e){}}jo.prototype.labelText_="Time";jo.prototype.controlText_="Time";$.registerComponent("TimeDisplay",jo);class G0 extends jo{buildCSSClass(){return"vjs-current-time"}updateContent(e){let i;this.player_.ended()?i=this.player_.duration():i=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),this.updateTextNode_(i)}}G0.prototype.labelText_="Current Time";G0.prototype.controlText_="Current Time";$.registerComponent("CurrentTimeDisplay",G0);class X0 extends jo{constructor(e,i){super(e,i);const n=r=>this.updateContent(r);this.on(e,"durationchange",n),this.on(e,"loadstart",n),this.on(e,"loadedmetadata",n)}buildCSSClass(){return"vjs-duration"}updateContent(e){const i=this.player_.duration();this.updateTextNode_(i)}}X0.prototype.labelText_="Duration";X0.prototype.controlText_="Duration";$.registerComponent("DurationDisplay",X0);class ER extends ${createEl(){const e=super.createEl("div",{className:"vjs-time-control vjs-time-divider"},{"aria-hidden":!0}),i=super.createEl("div"),n=super.createEl("span",{textContent:"/"});return i.appendChild(n),e.appendChild(i),e}}$.registerComponent("TimeDivider",ER);class K0 extends jo{constructor(e,i){super(e,i),this.on(e,"durationchange",n=>this.updateContent(n))}buildCSSClass(){return"vjs-remaining-time"}createEl(){const e=super.createEl();return this.options_.displayNegative!==!1&&e.insertBefore(ge("span",{},{"aria-hidden":!0},"-"),this.contentEl_),e}updateContent(e){if(typeof this.player_.duration()!="number")return;let i;this.player_.ended()?i=0:this.player_.remainingTimeDisplay?i=this.player_.remainingTimeDisplay():i=this.player_.remainingTime(),this.updateTextNode_(i)}}K0.prototype.labelText_="Remaining Time";K0.prototype.controlText_="Remaining Time";$.registerComponent("RemainingTimeDisplay",K0);class CR extends ${constructor(e,i){super(e,i),this.updateShowing(),this.on(this.player(),"durationchange",n=>this.updateShowing(n))}createEl(){const e=super.createEl("div",{className:"vjs-live-control vjs-control"});return this.contentEl_=ge("div",{className:"vjs-live-display"},{"aria-live":"off"}),this.contentEl_.appendChild(ge("span",{className:"vjs-control-text",textContent:`${this.localize("Stream Type")} `})),this.contentEl_.appendChild(K.createTextNode(this.localize("LIVE"))),e.appendChild(this.contentEl_),e}dispose(){this.contentEl_=null,super.dispose()}updateShowing(e){this.player().duration()===1/0?this.show():this.hide()}}$.registerComponent("LiveDisplay",CR);class zS extends ui{constructor(e,i){super(e,i),this.updateLiveEdgeStatus(),this.player_.liveTracker&&(this.updateLiveEdgeStatusHandler_=n=>this.updateLiveEdgeStatus(n),this.on(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_))}createEl(){const e=super.createEl("button",{className:"vjs-seek-to-live-control vjs-control"});return this.setIcon("circle",e),this.textEl_=ge("span",{className:"vjs-seek-to-live-text",textContent:this.localize("LIVE")},{"aria-hidden":"true"}),e.appendChild(this.textEl_),e}updateLiveEdgeStatus(){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))}handleClick(){this.player_.liveTracker.seekToLiveEdge()}dispose(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_),this.textEl_=null,super.dispose()}}zS.prototype.controlText_="Seek to live, currently playing live";$.registerComponent("SeekToLive",zS);function Bl(t,e,i){return t=Number(t),Math.min(i,Math.max(e,isNaN(t)?e:t))}var kR=Object.freeze({__proto__:null,clamp:Bl});class Y0 extends ${constructor(e,i){super(e,i),this.handleMouseDown_=n=>this.handleMouseDown(n),this.handleMouseUp_=n=>this.handleMouseUp(n),this.handleKeyDown_=n=>this.handleKeyDown(n),this.handleClick_=n=>this.handleClick(n),this.handleMouseMove_=n=>this.handleMouseMove(n),this.update_=n=>this.update(n),this.bar=this.getChild(this.options_.barName),this.vertical(!!this.options_.vertical),this.enable()}enabled(){return this.enabled_}enable(){this.enabled()||(this.on("mousedown",this.handleMouseDown_),this.on("touchstart",this.handleMouseDown_),this.on("keydown",this.handleKeyDown_),this.on("click",this.handleClick_),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)}disable(){if(!this.enabled())return;const e=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown_),this.off("touchstart",this.handleMouseDown_),this.off("keydown",this.handleKeyDown_),this.off("click",this.handleClick_),this.off(this.player_,"controlsvisible",this.update_),this.off(e,"mousemove",this.handleMouseMove_),this.off(e,"mouseup",this.handleMouseUp_),this.off(e,"touchmove",this.handleMouseMove_),this.off(e,"touchend",this.handleMouseUp_),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}createEl(e,i={},n={}){return i.className=i.className+" vjs-slider",i=Object.assign({tabIndex:0},i),n=Object.assign({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100},n),super.createEl(e,i,n)}handleMouseDown(e){const i=this.bar.el_.ownerDocument;e.type==="mousedown"&&e.preventDefault(),e.type==="touchstart"&&!_n&&e.preventDefault(),mS(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(i,"mousemove",this.handleMouseMove_),this.on(i,"mouseup",this.handleMouseUp_),this.on(i,"touchmove",this.handleMouseMove_),this.on(i,"touchend",this.handleMouseUp_),this.handleMouseMove(e,!0)}handleMouseMove(e){}handleMouseUp(e){const i=this.bar.el_.ownerDocument;gS(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(i,"mousemove",this.handleMouseMove_),this.off(i,"mouseup",this.handleMouseUp_),this.off(i,"touchmove",this.handleMouseMove_),this.off(i,"touchend",this.handleMouseUp_),this.update()}update(){if(!this.el_||!this.bar)return;const e=this.getProgress();return e===this.progress_||(this.progress_=e,this.requestNamedAnimationFrame("Slider#update",()=>{const i=this.vertical()?"height":"width";this.bar.el().style[i]=(e*100).toFixed(2)+"%"})),e}getProgress(){return Number(Bl(this.getPercent(),0,1).toFixed(4))}calculateDistance(e){const i=oh(this.el_,e);return this.vertical()?i.y:i.x}handleKeyDown(e){pe.isEventKey(e,"Left")||pe.isEventKey(e,"Down")?(e.preventDefault(),e.stopPropagation(),this.stepBack()):pe.isEventKey(e,"Right")||pe.isEventKey(e,"Up")?(e.preventDefault(),e.stopPropagation(),this.stepForward()):super.handleKeyDown(e)}handleClick(e){e.stopPropagation(),e.preventDefault()}vertical(e){if(e===void 0)return this.vertical_||!1;this.vertical_=!!e,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")}}$.registerComponent("Slider",Y0);const Gf=(t,e)=>Bl(t/e*100,0,100).toFixed(2)+"%";class DR extends ${constructor(e,i){super(e,i),this.partEls_=[],this.on(e,"progress",n=>this.update(n))}createEl(){const e=super.createEl("div",{className:"vjs-load-progress"}),i=ge("span",{className:"vjs-control-text"}),n=ge("span",{textContent:this.localize("Loaded")}),r=K.createTextNode(": ");return this.percentageEl_=ge("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"}),e.appendChild(i),i.appendChild(n),i.appendChild(r),i.appendChild(this.percentageEl_),e}dispose(){this.partEls_=null,this.percentageEl_=null,super.dispose()}update(e){this.requestNamedAnimationFrame("LoadProgressBar#update",()=>{const i=this.player_.liveTracker,n=this.player_.buffered(),r=i&&i.isLive()?i.seekableEnd():this.player_.duration(),s=this.player_.bufferedEnd(),o=this.partEls_,a=Gf(s,r);this.percent_!==a&&(this.el_.style.width=a,Dr(this.percentageEl_,a),this.percent_=a);for(let l=0;l<n.length;l++){const u=n.start(l),d=n.end(l);let p=o[l];p||(p=this.el_.appendChild(ge()),o[l]=p),!(p.dataset.start===u&&p.dataset.end===d)&&(p.dataset.start=u,p.dataset.end=d,p.style.left=Gf(u,s),p.style.width=Gf(d-u,s))}for(let l=o.length;l>n.length;l--)this.el_.removeChild(o[l-1]);o.length=n.length})}}$.registerComponent("LoadProgressBar",DR);class AR extends ${constructor(e,i){super(e,i),this.update=xn(Ne(this,this.update),Ii)}createEl(){return super.createEl("div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})}update(e,i,n){const r=Tl(this.el_),s=bo(this.player_.el()),o=e.width*i;if(!s||!r)return;const a=e.left-s.left+o,l=e.width-o+(s.right-e.right);let u=r.width/2;a<u?u+=u-a:l<u&&(u=l),u<0?u=0:u>r.width&&(u=r.width),u=Math.round(u),this.el_.style.right=`-${u}px`,this.write(n)}write(e){Dr(this.el_,e)}updateTime(e,i,n,r){this.requestNamedAnimationFrame("TimeTooltip#updateTime",()=>{let s;const o=this.player_.duration();if(this.player_.liveTracker&&this.player_.liveTracker.isLive()){const a=this.player_.liveTracker.liveWindow(),l=a-i*a;s=(l<1?"":"-")+ns(l,a)}else s=ns(n,o);this.update(e,i,s),r&&r()})}}$.registerComponent("TimeTooltip",AR);class Q0 extends ${constructor(e,i){super(e,i),this.setIcon("circle"),this.update=xn(Ne(this,this.update),Ii)}createEl(){return super.createEl("div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})}update(e,i){const n=this.getChild("timeTooltip");if(!n)return;const r=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();n.updateTime(e,i,r)}}Q0.prototype.options_={children:[]};!Ft&&!vn&&Q0.prototype.options_.children.push("timeTooltip");$.registerComponent("PlayProgressBar",Q0);class VS extends ${constructor(e,i){super(e,i),this.update=xn(Ne(this,this.update),Ii)}createEl(){return super.createEl("div",{className:"vjs-mouse-display"})}update(e,i){const n=i*this.player_.duration();this.getChild("timeTooltip").updateTime(e,i,n,()=>{this.el_.style.left=`${e.width*i}px`})}}VS.prototype.options_={children:["timeTooltip"]};$.registerComponent("MouseTimeDisplay",VS);const Uu=5,a2=12;class J0 extends Y0{constructor(e,i){super(e,i),this.setEventHandlers_()}setEventHandlers_(){this.update_=Ne(this,this.update),this.update=xn(this.update_,Ii),this.on(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.enableIntervalHandler_=e=>this.enableInterval_(e),this.disableIntervalHandler_=e=>this.disableInterval_(e),this.on(this.player_,["playing"],this.enableIntervalHandler_),this.on(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in K&&"visibilityState"in K&&this.on(K,"visibilitychange",this.toggleVisibility_)}toggleVisibility_(e){K.visibilityState==="hidden"?(this.cancelNamedAnimationFrame("SeekBar#update"),this.cancelNamedAnimationFrame("Slider#update"),this.disableInterval_(e)):(!this.player_.ended()&&!this.player_.paused()&&this.enableInterval_(),this.update())}enableInterval_(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,Ii))}disableInterval_(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&e&&e.type!=="ended"||this.updateInterval&&(this.clearInterval(this.updateInterval),this.updateInterval=null)}createEl(){return super.createEl("div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})}update(e){if(K.visibilityState==="hidden")return;const i=super.update();return this.requestNamedAnimationFrame("SeekBar#update",()=>{const n=this.player_.ended()?this.player_.duration():this.getCurrentTime_(),r=this.player_.liveTracker;let s=this.player_.duration();r&&r.isLive()&&(s=this.player_.liveTracker.liveCurrentTime()),this.percent_!==i&&(this.el_.setAttribute("aria-valuenow",(i*100).toFixed(2)),this.percent_=i),(this.currentTime_!==n||this.duration_!==s)&&(this.el_.setAttribute("aria-valuetext",this.localize("progress bar timing: currentTime={1} duration={2}",[ns(n,s),ns(s,s)],"{1} of {2}")),this.currentTime_=n,this.duration_=s),this.bar&&this.bar.update(bo(this.el()),this.getProgress())}),i}userSeek_(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(e)}getCurrentTime_(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()}getPercent(){const e=this.getCurrentTime_();let i;const n=this.player_.liveTracker;return n&&n.isLive()?(i=(e-n.seekableStart())/n.liveWindow(),n.atLiveEdge()&&(i=1)):i=e/this.player_.duration(),i}handleMouseDown(e){wl(e)&&(e.stopPropagation(),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),super.handleMouseDown(e))}handleMouseMove(e,i=!1){if(!wl(e)||isNaN(this.player_.duration()))return;!i&&!this.player_.scrubbing()&&this.player_.scrubbing(!0);let n;const r=this.calculateDistance(e),s=this.player_.liveTracker;if(!s||!s.isLive())n=r*this.player_.duration(),n===this.player_.duration()&&(n=n-.1);else{if(r>=.99){s.seekToLiveEdge();return}const o=s.seekableStart(),a=s.liveCurrentTime();if(n=o+r*s.liveWindow(),n>=a&&(n=a),n<=o&&(n=o+.1),n===1/0)return}this.userSeek_(n)}enable(){super.enable();const e=this.getChild("mouseTimeDisplay");e&&e.show()}disable(){super.disable();const e=this.getChild("mouseTimeDisplay");e&&e.hide()}handleMouseUp(e){super.handleMouseUp(e),e&&e.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying?an(this.player_.play()):this.update_()}stepForward(){this.userSeek_(this.player_.currentTime()+Uu)}stepBack(){this.userSeek_(this.player_.currentTime()-Uu)}handleAction(e){this.player_.paused()?this.player_.play():this.player_.pause()}handleKeyDown(e){const i=this.player_.liveTracker;if(pe.isEventKey(e,"Space")||pe.isEventKey(e,"Enter"))e.preventDefault(),e.stopPropagation(),this.handleAction(e);else if(pe.isEventKey(e,"Home"))e.preventDefault(),e.stopPropagation(),this.userSeek_(0);else if(pe.isEventKey(e,"End"))e.preventDefault(),e.stopPropagation(),i&&i.isLive()?this.userSeek_(i.liveCurrentTime()):this.userSeek_(this.player_.duration());else if(/^[0-9]$/.test(pe(e))){e.preventDefault(),e.stopPropagation();const n=(pe.codes[pe(e)]-pe.codes[0])*10/100;i&&i.isLive()?this.userSeek_(i.seekableStart()+i.liveWindow()*n):this.userSeek_(this.player_.duration()*n)}else pe.isEventKey(e,"PgDn")?(e.preventDefault(),e.stopPropagation(),this.userSeek_(this.player_.currentTime()-Uu*a2)):pe.isEventKey(e,"PgUp")?(e.preventDefault(),e.stopPropagation(),this.userSeek_(this.player_.currentTime()+Uu*a2)):super.handleKeyDown(e)}dispose(){this.disableInterval_(),this.off(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.update),this.off(this.player_,["playing"],this.enableIntervalHandler_),this.off(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in K&&"visibilityState"in K&&this.off(K,"visibilitychange",this.toggleVisibility_),super.dispose()}}J0.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"};!Ft&&!vn&&J0.prototype.options_.children.splice(1,0,"mouseTimeDisplay");$.registerComponent("SeekBar",J0);class HS extends ${constructor(e,i){super(e,i),this.handleMouseMove=xn(Ne(this,this.handleMouseMove),Ii),this.throttledHandleMouseSeek=xn(Ne(this,this.handleMouseSeek),Ii),this.handleMouseUpHandler_=n=>this.handleMouseUp(n),this.handleMouseDownHandler_=n=>this.handleMouseDown(n),this.enable()}createEl(){return super.createEl("div",{className:"vjs-progress-control vjs-control"})}handleMouseMove(e){const i=this.getChild("seekBar");if(!i)return;const n=i.getChild("playProgressBar"),r=i.getChild("mouseTimeDisplay");if(!n&&!r)return;const s=i.el(),o=Tl(s);let a=oh(s,e).x;a=Bl(a,0,1),r&&r.update(o,a),n&&n.update(o,i.getProgress())}handleMouseSeek(e){const i=this.getChild("seekBar");i&&i.handleMouseMove(e)}enabled(){return this.enabled_}disable(){if(this.children().forEach(e=>e.disable&&e.disable()),!!this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDownHandler_),this.off(this.el_,"mousemove",this.handleMouseMove),this.removeListenersAddedOnMousedownAndTouchstart(),this.addClass("disabled"),this.enabled_=!1,this.player_.scrubbing())){const e=this.getChild("seekBar");this.player_.scrubbing(!1),e.videoWasPlaying&&an(this.player_.play())}}enable(){this.children().forEach(e=>e.enable&&e.enable()),!this.enabled()&&(this.on(["mousedown","touchstart"],this.handleMouseDownHandler_),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)}removeListenersAddedOnMousedownAndTouchstart(){const e=this.el_.ownerDocument;this.off(e,"mousemove",this.throttledHandleMouseSeek),this.off(e,"touchmove",this.throttledHandleMouseSeek),this.off(e,"mouseup",this.handleMouseUpHandler_),this.off(e,"touchend",this.handleMouseUpHandler_)}handleMouseDown(e){const i=this.el_.ownerDocument,n=this.getChild("seekBar");n&&n.handleMouseDown(e),this.on(i,"mousemove",this.throttledHandleMouseSeek),this.on(i,"touchmove",this.throttledHandleMouseSeek),this.on(i,"mouseup",this.handleMouseUpHandler_),this.on(i,"touchend",this.handleMouseUpHandler_)}handleMouseUp(e){const i=this.getChild("seekBar");i&&i.handleMouseUp(e),this.removeListenersAddedOnMousedownAndTouchstart()}}HS.prototype.options_={children:["seekBar"]};$.registerComponent("ProgressControl",HS);class qS extends ui{constructor(e,i){super(e,i),this.setIcon("picture-in-picture-enter"),this.on(e,["enterpictureinpicture","leavepictureinpicture"],n=>this.handlePictureInPictureChange(n)),this.on(e,["disablepictureinpicturechanged","loadedmetadata"],n=>this.handlePictureInPictureEnabledChange(n)),this.on(e,["loadedmetadata","audioonlymodechange","audiopostermodechange"],()=>this.handlePictureInPictureAudioModeChange()),this.disable()}buildCSSClass(){return`vjs-picture-in-picture-control vjs-hidden ${super.buildCSSClass()}`}handlePictureInPictureAudioModeChange(){if(!(this.player_.currentType().substring(0,5)==="audio"||this.player_.audioPosterMode()||this.player_.audioOnlyMode())){this.show();return}this.player_.isInPictureInPicture()&&this.player_.exitPictureInPicture(),this.hide()}handlePictureInPictureEnabledChange(){K.pictureInPictureEnabled&&this.player_.disablePictureInPicture()===!1||this.player_.options_.enableDocumentPictureInPicture&&"documentPictureInPicture"in O?this.enable():this.disable()}handlePictureInPictureChange(e){this.player_.isInPictureInPicture()?(this.setIcon("picture-in-picture-exit"),this.controlText("Exit Picture-in-Picture")):(this.setIcon("picture-in-picture-enter"),this.controlText("Picture-in-Picture")),this.handlePictureInPictureEnabledChange()}handleClick(e){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()}show(){typeof K.exitPictureInPicture=="function"&&super.show()}}qS.prototype.controlText_="Picture-in-Picture";$.registerComponent("PictureInPictureToggle",qS);class WS extends ui{constructor(e,i){super(e,i),this.setIcon("fullscreen-enter"),this.on(e,"fullscreenchange",n=>this.handleFullscreenChange(n)),K[e.fsApi_.fullscreenEnabled]===!1&&this.disable()}buildCSSClass(){return`vjs-fullscreen-control ${super.buildCSSClass()}`}handleFullscreenChange(e){this.player_.isFullscreen()?(this.controlText("Exit Fullscreen"),this.setIcon("fullscreen-exit")):(this.controlText("Fullscreen"),this.setIcon("fullscreen-enter"))}handleClick(e){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()}}WS.prototype.controlText_="Fullscreen";$.registerComponent("FullscreenToggle",WS);const PR=function(t,e){e.tech_&&!e.tech_.featuresVolumeControl&&t.addClass("vjs-hidden"),t.on(e,"loadstart",function(){e.tech_.featuresVolumeControl?t.removeClass("vjs-hidden"):t.addClass("vjs-hidden")})};class IR extends ${createEl(){const e=super.createEl("div",{className:"vjs-volume-level"});return this.setIcon("circle",e),e.appendChild(super.createEl("span",{className:"vjs-control-text"})),e}}$.registerComponent("VolumeLevel",IR);class OR extends ${constructor(e,i){super(e,i),this.update=xn(Ne(this,this.update),Ii)}createEl(){return super.createEl("div",{className:"vjs-volume-tooltip"},{"aria-hidden":"true"})}update(e,i,n,r){if(!n){const s=bo(this.el_),o=bo(this.player_.el()),a=e.width*i;if(!o||!s)return;const l=e.left-o.left+a,u=e.width-a+(o.right-e.right);let d=s.width/2;l<d?d+=d-l:u<d&&(d=u),d<0?d=0:d>s.width&&(d=s.width),this.el_.style.right=`-${d}px`}this.write(`${r}%`)}write(e){Dr(this.el_,e)}updateVolume(e,i,n,r,s){this.requestNamedAnimationFrame("VolumeLevelTooltip#updateVolume",()=>{this.update(e,i,n,r.toFixed(0)),s&&s()})}}$.registerComponent("VolumeLevelTooltip",OR);class GS extends ${constructor(e,i){super(e,i),this.update=xn(Ne(this,this.update),Ii)}createEl(){return super.createEl("div",{className:"vjs-mouse-display"})}update(e,i,n){const r=100*i;this.getChild("volumeLevelTooltip").updateVolume(e,i,n,r,()=>{n?this.el_.style.bottom=`${e.height*i}px`:this.el_.style.left=`${e.width*i}px`})}}GS.prototype.options_={children:["volumeLevelTooltip"]};$.registerComponent("MouseVolumeLevelDisplay",GS);class fh extends Y0{constructor(e,i){super(e,i),this.on("slideractive",n=>this.updateLastVolume_(n)),this.on(e,"volumechange",n=>this.updateARIAAttributes(n)),e.ready(()=>this.updateARIAAttributes())}createEl(){return super.createEl("div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})}handleMouseDown(e){wl(e)&&super.handleMouseDown(e)}handleMouseMove(e){const i=this.getChild("mouseVolumeLevelDisplay");if(i){const n=this.el(),r=bo(n),s=this.vertical();let o=oh(n,e);o=s?o.y:o.x,o=Bl(o,0,1),i.update(r,o,s)}wl(e)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(e)))}checkMuted(){this.player_.muted()&&this.player_.muted(!1)}getPercent(){return this.player_.muted()?0:this.player_.volume()}stepForward(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)}stepBack(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)}updateARIAAttributes(e){const i=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",i),this.el_.setAttribute("aria-valuetext",i+"%")}volumeAsPercentage_(){return Math.round(this.player_.volume()*100)}updateLastVolume_(){const e=this.player_.volume();this.one("sliderinactive",()=>{this.player_.volume()===0&&this.player_.lastVolume_(e)})}}fh.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"};!Ft&&!vn&&fh.prototype.options_.children.splice(0,0,"mouseVolumeLevelDisplay");fh.prototype.playerEvent="volumechange";$.registerComponent("VolumeBar",fh);class XS extends ${constructor(e,i={}){i.vertical=i.vertical||!1,(typeof i.volumeBar>"u"||vo(i.volumeBar))&&(i.volumeBar=i.volumeBar||{},i.volumeBar.vertical=i.vertical),super(e,i),PR(this,e),this.throttledHandleMouseMove=xn(Ne(this,this.handleMouseMove),Ii),this.handleMouseUpHandler_=n=>this.handleMouseUp(n),this.on("mousedown",n=>this.handleMouseDown(n)),this.on("touchstart",n=>this.handleMouseDown(n)),this.on("mousemove",n=>this.handleMouseMove(n)),this.on(this.volumeBar,["focus","slideractive"],()=>{this.volumeBar.addClass("vjs-slider-active"),this.addClass("vjs-slider-active"),this.trigger("slideractive")}),this.on(this.volumeBar,["blur","sliderinactive"],()=>{this.volumeBar.removeClass("vjs-slider-active"),this.removeClass("vjs-slider-active"),this.trigger("sliderinactive")})}createEl(){let e="vjs-volume-horizontal";return this.options_.vertical&&(e="vjs-volume-vertical"),super.createEl("div",{className:`vjs-volume-control vjs-control ${e}`})}handleMouseDown(e){const i=this.el_.ownerDocument;this.on(i,"mousemove",this.throttledHandleMouseMove),this.on(i,"touchmove",this.throttledHandleMouseMove),this.on(i,"mouseup",this.handleMouseUpHandler_),this.on(i,"touchend",this.handleMouseUpHandler_)}handleMouseUp(e){const i=this.el_.ownerDocument;this.off(i,"mousemove",this.throttledHandleMouseMove),this.off(i,"touchmove",this.throttledHandleMouseMove),this.off(i,"mouseup",this.handleMouseUpHandler_),this.off(i,"touchend",this.handleMouseUpHandler_)}handleMouseMove(e){this.volumeBar.handleMouseMove(e)}}XS.prototype.options_={children:["volumeBar"]};$.registerComponent("VolumeControl",XS);const LR=function(t,e){e.tech_&&!e.tech_.featuresMuteControl&&t.addClass("vjs-hidden"),t.on(e,"loadstart",function(){e.tech_.featuresMuteControl?t.removeClass("vjs-hidden"):t.addClass("vjs-hidden")})};class KS extends ui{constructor(e,i){super(e,i),LR(this,e),this.on(e,["loadstart","volumechange"],n=>this.update(n))}buildCSSClass(){return`vjs-mute-control ${super.buildCSSClass()}`}handleClick(e){const i=this.player_.volume(),n=this.player_.lastVolume_();if(i===0){const r=n<.1?.1:n;this.player_.volume(r),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())}update(e){this.updateIcon_(),this.updateControlText_()}updateIcon_(){const e=this.player_.volume();let i=3;this.setIcon("volume-high"),Ft&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),e===0||this.player_.muted()?(this.setIcon("volume-mute"),i=0):e<.33?(this.setIcon("volume-low"),i=1):e<.67&&(this.setIcon("volume-medium"),i=2),rh(this.el_,[0,1,2,3].reduce((n,r)=>n+`${r?" ":""}vjs-vol-${r}`,"")),Kr(this.el_,`vjs-vol-${i}`)}updateControlText_(){const i=this.player_.muted()||this.player_.volume()===0?"Unmute":"Mute";this.controlText()!==i&&this.controlText(i)}}KS.prototype.controlText_="Mute";$.registerComponent("MuteToggle",KS);class YS extends ${constructor(e,i={}){typeof i.inline<"u"?i.inline=i.inline:i.inline=!0,(typeof i.volumeControl>"u"||vo(i.volumeControl))&&(i.volumeControl=i.volumeControl||{},i.volumeControl.vertical=!i.inline),super(e,i),this.handleKeyPressHandler_=n=>this.handleKeyPress(n),this.on(e,["loadstart"],n=>this.volumePanelState_(n)),this.on(this.muteToggle,"keyup",n=>this.handleKeyPress(n)),this.on(this.volumeControl,"keyup",n=>this.handleVolumeControlKeyUp(n)),this.on("keydown",n=>this.handleKeyPress(n)),this.on("mouseover",n=>this.handleMouseOver(n)),this.on("mouseout",n=>this.handleMouseOut(n)),this.on(this.volumeControl,["slideractive"],this.sliderActive_),this.on(this.volumeControl,["sliderinactive"],this.sliderInactive_)}sliderActive_(){this.addClass("vjs-slider-active")}sliderInactive_(){this.removeClass("vjs-slider-active")}volumePanelState_(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")}createEl(){let e="vjs-volume-panel-horizontal";return this.options_.inline||(e="vjs-volume-panel-vertical"),super.createEl("div",{className:`vjs-volume-panel vjs-control ${e}`})}dispose(){this.handleMouseOut(),super.dispose()}handleVolumeControlKeyUp(e){pe.isEventKey(e,"Esc")&&this.muteToggle.focus()}handleMouseOver(e){this.addClass("vjs-hover"),hi(K,"keyup",this.handleKeyPressHandler_)}handleMouseOut(e){this.removeClass("vjs-hover"),Ct(K,"keyup",this.handleKeyPressHandler_)}handleKeyPress(e){pe.isEventKey(e,"Esc")&&this.handleMouseOut()}}YS.prototype.options_={children:["muteToggle","volumeControl"]};$.registerComponent("VolumePanel",YS);class NR extends ui{constructor(e,i){super(e,i),this.validOptions=[5,10,30],this.skipTime=this.getSkipForwardTime(),this.skipTime&&this.validOptions.includes(this.skipTime)?(this.setIcon(`forward-${this.skipTime}`),this.controlText(this.localize("Skip forward {1} seconds",[this.skipTime])),this.show()):this.hide()}getSkipForwardTime(){const e=this.options_.playerOptions;return e.controlBar&&e.controlBar.skipButtons&&e.controlBar.skipButtons.forward}buildCSSClass(){return`vjs-skip-forward-${this.getSkipForwardTime()} ${super.buildCSSClass()}`}handleClick(e){if(isNaN(this.player_.duration()))return;const i=this.player_.currentTime(),n=this.player_.liveTracker,r=n&&n.isLive()?n.seekableEnd():this.player_.duration();let s;i+this.skipTime<=r?s=i+this.skipTime:s=r,this.player_.currentTime(s)}handleLanguagechange(){this.controlText(this.localize("Skip forward {1} seconds",[this.skipTime]))}}$.registerComponent("SkipForward",NR);class QS extends ui{constructor(e,i){super(e,i),this.validOptions=[5,10,30],this.skipTime=this.getSkipBackwardTime(),this.skipTime&&this.validOptions.includes(this.skipTime)?(this.setIcon(`replay-${this.skipTime}`),this.controlText(this.localize("Skip backward {1} seconds",[this.skipTime])),this.show()):this.hide()}getSkipBackwardTime(){const e=this.options_.playerOptions;return e.controlBar&&e.controlBar.skipButtons&&e.controlBar.skipButtons.backward}buildCSSClass(){return`vjs-skip-backward-${this.getSkipBackwardTime()} ${super.buildCSSClass()}`}handleClick(e){const i=this.player_.currentTime(),n=this.player_.liveTracker,r=n&&n.isLive()&&n.seekableStart();let s;r&&i-this.skipTime<=r?s=r:i>=this.skipTime?s=i-this.skipTime:s=0,this.player_.currentTime(s)}handleLanguagechange(){this.controlText(this.localize("Skip backward {1} seconds",[this.skipTime]))}}QS.prototype.controlText_="Skip Backward";$.registerComponent("SkipBackward",QS);class JS extends ${constructor(e,i){super(e,i),i&&(this.menuButton_=i.menuButton),this.focusedChild_=-1,this.on("keydown",n=>this.handleKeyDown(n)),this.boundHandleBlur_=n=>this.handleBlur(n),this.boundHandleTapClick_=n=>this.handleTapClick(n)}addEventListenerForItem(e){e instanceof $&&(this.on(e,"blur",this.boundHandleBlur_),this.on(e,["tap","click"],this.boundHandleTapClick_))}removeEventListenerForItem(e){e instanceof $&&(this.off(e,"blur",this.boundHandleBlur_),this.off(e,["tap","click"],this.boundHandleTapClick_))}removeChild(e){typeof e=="string"&&(e=this.getChild(e)),this.removeEventListenerForItem(e),super.removeChild(e)}addItem(e){const i=this.addChild(e);i&&this.addEventListenerForItem(i)}createEl(){const e=this.options_.contentElType||"ul";this.contentEl_=ge(e,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");const i=super.createEl("div",{append:this.contentEl_,className:"vjs-menu"});return i.appendChild(this.contentEl_),hi(i,"click",function(n){n.preventDefault(),n.stopImmediatePropagation()}),i}dispose(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,super.dispose()}handleBlur(e){const i=e.relatedTarget||K.activeElement;if(!this.children().some(n=>n.el()===i)){const n=this.menuButton_;n&&n.buttonPressed_&&i!==n.el().firstChild&&n.unpressButton()}}handleTapClick(e){if(this.menuButton_){this.menuButton_.unpressButton();const i=this.children();if(!Array.isArray(i))return;const n=i.filter(r=>r.el()===e.target)[0];if(!n)return;n.name()!=="CaptionSettingsMenuItem"&&this.menuButton_.focus()}}handleKeyDown(e){pe.isEventKey(e,"Left")||pe.isEventKey(e,"Down")?(e.preventDefault(),e.stopPropagation(),this.stepForward()):(pe.isEventKey(e,"Right")||pe.isEventKey(e,"Up"))&&(e.preventDefault(),e.stopPropagation(),this.stepBack())}stepForward(){let e=0;this.focusedChild_!==void 0&&(e=this.focusedChild_+1),this.focus(e)}stepBack(){let e=0;this.focusedChild_!==void 0&&(e=this.focusedChild_-1),this.focus(e)}focus(e=0){const i=this.children().slice();i.length&&i[0].hasClass("vjs-menu-title")&&i.shift(),i.length>0&&(e<0?e=0:e>=i.length&&(e=i.length-1),this.focusedChild_=e,i[e].el_.focus())}}$.registerComponent("Menu",JS);class Z0 extends ${constructor(e,i={}){super(e,i),this.menuButton_=new ui(e,i),this.menuButton_.controlText(this.controlText_),this.menuButton_.el_.setAttribute("aria-haspopup","true");const n=ui.prototype.buildCSSClass();this.menuButton_.el_.className=this.buildCSSClass()+" "+n,this.menuButton_.removeClass("vjs-control"),this.addChild(this.menuButton_),this.update(),this.enabled_=!0;const r=s=>this.handleClick(s);this.handleMenuKeyUp_=s=>this.handleMenuKeyUp(s),this.on(this.menuButton_,"tap",r),this.on(this.menuButton_,"click",r),this.on(this.menuButton_,"keydown",s=>this.handleKeyDown(s)),this.on(this.menuButton_,"mouseenter",()=>{this.addClass("vjs-hover"),this.menu.show(),hi(K,"keyup",this.handleMenuKeyUp_)}),this.on("mouseleave",s=>this.handleMouseLeave(s)),this.on("keydown",s=>this.handleSubmenuKeyDown(s))}update(){const e=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=e,this.addChild(e),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?(this.hide(),this.menu.contentEl_.removeAttribute("role")):(this.show(),this.menu.contentEl_.setAttribute("role","menu"))}createMenu(){const e=new JS(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){const i=ge("li",{className:"vjs-menu-title",textContent:Ke(this.options_.title),tabIndex:-1}),n=new $(this.player_,{el:i});e.addItem(n)}if(this.items=this.createItems(),this.items)for(let i=0;i<this.items.length;i++)e.addItem(this.items[i]);return e}createItems(){}createEl(){return super.createEl("div",{className:this.buildWrapperCSSClass()},{})}setIcon(e){super.setIcon(e,this.menuButton_.el_)}buildWrapperCSSClass(){let e="vjs-menu-button";this.options_.inline===!0?e+="-inline":e+="-popup";const i=ui.prototype.buildCSSClass();return`vjs-menu-button ${e} ${i} ${super.buildCSSClass()}`}buildCSSClass(){let e="vjs-menu-button";return this.options_.inline===!0?e+="-inline":e+="-popup",`vjs-menu-button ${e} ${super.buildCSSClass()}`}controlText(e,i=this.menuButton_.el()){return this.menuButton_.controlText(e,i)}dispose(){this.handleMouseLeave(),super.dispose()}handleClick(e){this.buttonPressed_?this.unpressButton():this.pressButton()}handleMouseLeave(e){this.removeClass("vjs-hover"),Ct(K,"keyup",this.handleMenuKeyUp_)}focus(){this.menuButton_.focus()}blur(){this.menuButton_.blur()}handleKeyDown(e){pe.isEventKey(e,"Esc")||pe.isEventKey(e,"Tab")?(this.buttonPressed_&&this.unpressButton(),pe.isEventKey(e,"Tab")||(e.preventDefault(),this.menuButton_.focus())):(pe.isEventKey(e,"Up")||pe.isEventKey(e,"Down"))&&(this.buttonPressed_||(e.preventDefault(),this.pressButton()))}handleMenuKeyUp(e){(pe.isEventKey(e,"Esc")||pe.isEventKey(e,"Tab"))&&this.removeClass("vjs-hover")}handleSubmenuKeyPress(e){this.handleSubmenuKeyDown(e)}handleSubmenuKeyDown(e){(pe.isEventKey(e,"Esc")||pe.isEventKey(e,"Tab"))&&(this.buttonPressed_&&this.unpressButton(),pe.isEventKey(e,"Tab")||(e.preventDefault(),this.menuButton_.focus()))}pressButton(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),Ft&&cS())return;this.menu.focus()}}unpressButton(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))}disable(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()}enable(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()}}$.registerComponent("MenuButton",Z0);class ey extends Z0{constructor(e,i){const n=i.tracks;if(super(e,i),this.items.length<=1&&this.hide(),!n)return;const r=Ne(this,this.update);n.addEventListener("removetrack",r),n.addEventListener("addtrack",r),n.addEventListener("labelchange",r),this.player_.on("ready",r),this.player_.on("dispose",function(){n.removeEventListener("removetrack",r),n.removeEventListener("addtrack",r),n.removeEventListener("labelchange",r)})}}$.registerComponent("TrackButton",ey);const RR=["Tab","Esc","Up","Down","Right","Left"];class Fl extends hh{constructor(e,i){super(e,i),this.selectable=i.selectable,this.isSelected_=i.selected||!1,this.multiSelectable=i.multiSelectable,this.selected(this.isSelected_),this.selectable?this.multiSelectable?this.el_.setAttribute("role","menuitemcheckbox"):this.el_.setAttribute("role","menuitemradio"):this.el_.setAttribute("role","menuitem")}createEl(e,i,n){this.nonIconControl=!0;const r=super.createEl("li",Object.assign({className:"vjs-menu-item",tabIndex:-1},i),n),s=ge("span",{className:"vjs-menu-item-text",textContent:this.localize(this.options_.label)});return this.player_.options_.experimentalSvgIcons?r.appendChild(s):r.replaceChild(s,r.querySelector(".vjs-icon-placeholder")),r}handleKeyDown(e){RR.some(i=>pe.isEventKey(e,i))||super.handleKeyDown(e)}handleClick(e){this.selected(!0)}selected(e){this.selectable&&(e?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))}}$.registerComponent("MenuItem",Fl);class jl extends Fl{constructor(e,i){const n=i.track,r=e.textTracks();i.label=n.label||n.language||"Unknown",i.selected=n.mode==="showing",super(e,i),this.track=n,this.kinds=(i.kinds||[i.kind||this.track.kind]).filter(Boolean);const s=(...a)=>{this.handleTracksChange.apply(this,a)},o=(...a)=>{this.handleSelectedLanguageChange.apply(this,a)};if(e.on(["loadstart","texttrackchange"],s),r.addEventListener("change",s),r.addEventListener("selectedlanguagechange",o),this.on("dispose",function(){e.off(["loadstart","texttrackchange"],s),r.removeEventListener("change",s),r.removeEventListener("selectedlanguagechange",o)}),r.onchange===void 0){let a;this.on(["tap","click"],function(){if(typeof O.Event!="object")try{a=new O.Event("change")}catch{}a||(a=K.createEvent("Event"),a.initEvent("change",!0,!0)),r.dispatchEvent(a)})}this.handleTracksChange()}handleClick(e){const i=this.track,n=this.player_.textTracks();if(super.handleClick(e),!!n)for(let r=0;r<n.length;r++){const s=n[r];this.kinds.indexOf(s.kind)!==-1&&(s===i?s.mode!=="showing"&&(s.mode="showing"):s.mode!=="disabled"&&(s.mode="disabled"))}}handleTracksChange(e){const i=this.track.mode==="showing";i!==this.isSelected_&&this.selected(i)}handleSelectedLanguageChange(e){if(this.track.mode==="showing"){const i=this.player_.cache_.selectedLanguage;if(i&&i.enabled&&i.language===this.track.language&&i.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}}dispose(){this.track=null,super.dispose()}}$.registerComponent("TextTrackMenuItem",jl);class ZS extends jl{constructor(e,i){i.track={player:e,kind:i.kind,kinds:i.kinds,default:!1,mode:"disabled"},i.kinds||(i.kinds=[i.kind]),i.label?i.track.label=i.label:i.track.label=i.kinds.join(" and ")+" off",i.selectable=!0,i.multiSelectable=!1,super(e,i)}handleTracksChange(e){const i=this.player().textTracks();let n=!0;for(let r=0,s=i.length;r<s;r++){const o=i[r];if(this.options_.kinds.indexOf(o.kind)>-1&&o.mode==="showing"){n=!1;break}}n!==this.isSelected_&&this.selected(n)}handleSelectedLanguageChange(e){const i=this.player().textTracks();let n=!0;for(let r=0,s=i.length;r<s;r++){const o=i[r];if(["captions","descriptions","subtitles"].indexOf(o.kind)>-1&&o.mode==="showing"){n=!1;break}}n&&(this.player_.cache_.selectedLanguage={enabled:!1})}handleLanguagechange(){this.$(".vjs-menu-item-text").textContent=this.player_.localize(this.options_.label),super.handleLanguagechange()}}$.registerComponent("OffTextTrackMenuItem",ZS);class Uo extends ey{constructor(e,i={}){i.tracks=e.textTracks(),super(e,i)}createItems(e=[],i=jl){let n;this.label_&&(n=`${this.label_} off`),e.push(new ZS(this.player_,{kinds:this.kinds_,kind:this.kind_,label:n})),this.hideThreshold_+=1;const r=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(let s=0;s<r.length;s++){const o=r[s];if(this.kinds_.indexOf(o.kind)>-1){const a=new i(this.player_,{track:o,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});a.addClass(`vjs-${o.kind}-menu-item`),e.push(a)}}return e}}$.registerComponent("TextTrackButton",Uo);class eE extends Fl{constructor(e,i){const n=i.track,r=i.cue,s=e.currentTime();i.selectable=!0,i.multiSelectable=!1,i.label=r.text,i.selected=r.startTime<=s&&s<r.endTime,super(e,i),this.track=n,this.cue=r}handleClick(e){super.handleClick(),this.player_.currentTime(this.cue.startTime)}}$.registerComponent("ChaptersTrackMenuItem",eE);class ty extends Uo{constructor(e,i,n){super(e,i,n),this.setIcon("chapters"),this.selectCurrentItem_=()=>{this.items.forEach(r=>{r.selected(this.track_.activeCues[0]===r.cue)})}}buildCSSClass(){return`vjs-chapters-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-chapters-button ${super.buildWrapperCSSClass()}`}update(e){if(e&&e.track&&e.track.kind!=="chapters")return;const i=this.findChaptersTrack();i!==this.track_?(this.setTrack(i),super.update()):(!this.items||i&&i.cues&&i.cues.length!==this.items.length)&&super.update()}setTrack(e){if(this.track_!==e){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){const i=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);i&&i.removeEventListener("load",this.updateHandler_),this.track_.removeEventListener("cuechange",this.selectCurrentItem_),this.track_=null}if(this.track_=e,this.track_){this.track_.mode="hidden";const i=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);i&&i.addEventListener("load",this.updateHandler_),this.track_.addEventListener("cuechange",this.selectCurrentItem_)}}}findChaptersTrack(){const e=this.player_.textTracks()||[];for(let i=e.length-1;i>=0;i--){const n=e[i];if(n.kind===this.kind_)return n}}getMenuCaption(){return this.track_&&this.track_.label?this.track_.label:this.localize(Ke(this.kind_))}createMenu(){return this.options_.title=this.getMenuCaption(),super.createMenu()}createItems(){const e=[];if(!this.track_)return e;const i=this.track_.cues;if(!i)return e;for(let n=0,r=i.length;n<r;n++){const s=i[n],o=new eE(this.player_,{track:this.track_,cue:s});e.push(o)}return e}}ty.prototype.kind_="chapters";ty.prototype.controlText_="Chapters";$.registerComponent("ChaptersButton",ty);class iy extends Uo{constructor(e,i,n){super(e,i,n),this.setIcon("audio-description");const r=e.textTracks(),s=Ne(this,this.handleTracksChange);r.addEventListener("change",s),this.on("dispose",function(){r.removeEventListener("change",s)})}handleTracksChange(e){const i=this.player().textTracks();let n=!1;for(let r=0,s=i.length;r<s;r++){const o=i[r];if(o.kind!==this.kind_&&o.mode==="showing"){n=!0;break}}n?this.disable():this.enable()}buildCSSClass(){return`vjs-descriptions-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-descriptions-button ${super.buildWrapperCSSClass()}`}}iy.prototype.kind_="descriptions";iy.prototype.controlText_="Descriptions";$.registerComponent("DescriptionsButton",iy);class ny extends Uo{constructor(e,i,n){super(e,i,n),this.setIcon("subtitles")}buildCSSClass(){return`vjs-subtitles-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-subtitles-button ${super.buildWrapperCSSClass()}`}}ny.prototype.kind_="subtitles";ny.prototype.controlText_="Subtitles";$.registerComponent("SubtitlesButton",ny);class ry extends jl{constructor(e,i){i.track={player:e,kind:i.kind,label:i.kind+" settings",selectable:!1,default:!1,mode:"disabled"},i.selectable=!1,i.name="CaptionSettingsMenuItem",super(e,i),this.addClass("vjs-texttrack-settings"),this.controlText(", opens "+i.kind+" settings dialog")}handleClick(e){this.player().getChild("textTrackSettings").open()}handleLanguagechange(){this.$(".vjs-menu-item-text").textContent=this.player_.localize(this.options_.kind+" settings"),super.handleLanguagechange()}}$.registerComponent("CaptionSettingsMenuItem",ry);class sy extends Uo{constructor(e,i,n){super(e,i,n),this.setIcon("captions")}buildCSSClass(){return`vjs-captions-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-captions-button ${super.buildWrapperCSSClass()}`}createItems(){const e=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(e.push(new ry(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),super.createItems(e)}}sy.prototype.kind_="captions";sy.prototype.controlText_="Captions";$.registerComponent("CaptionsButton",sy);class tE extends jl{createEl(e,i,n){const r=super.createEl(e,i,n),s=r.querySelector(".vjs-menu-item-text");return this.options_.track.kind==="captions"&&(this.player_.options_.experimentalSvgIcons?this.setIcon("captions",r):s.appendChild(ge("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),s.appendChild(ge("span",{className:"vjs-control-text",textContent:` ${this.localize("Captions")}`}))),r}}$.registerComponent("SubsCapsMenuItem",tE);class oy extends Uo{constructor(e,i={}){super(e,i),this.label_="subtitles",this.setIcon("subtitles"),["en","en-us","en-ca","fr-ca"].indexOf(this.player_.language_)>-1&&(this.label_="captions",this.setIcon("captions")),this.menuButton_.controlText(Ke(this.label_))}buildCSSClass(){return`vjs-subs-caps-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-subs-caps-button ${super.buildWrapperCSSClass()}`}createItems(){let e=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(e.push(new ry(this.player_,{kind:this.label_})),this.hideThreshold_+=1),e=super.createItems(e,tE),e}}oy.prototype.kinds_=["captions","subtitles"];oy.prototype.controlText_="Subtitles";$.registerComponent("SubsCapsButton",oy);class iE extends Fl{constructor(e,i){const n=i.track,r=e.audioTracks();i.label=n.label||n.language||"Unknown",i.selected=n.enabled,super(e,i),this.track=n,this.addClass(`vjs-${n.kind}-menu-item`);const s=(...o)=>{this.handleTracksChange.apply(this,o)};r.addEventListener("change",s),this.on("dispose",()=>{r.removeEventListener("change",s)})}createEl(e,i,n){const r=super.createEl(e,i,n),s=r.querySelector(".vjs-menu-item-text");return["main-desc","description"].indexOf(this.options_.track.kind)>=0&&(s.appendChild(ge("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),s.appendChild(ge("span",{className:"vjs-control-text",textContent:" "+this.localize("Descriptions")}))),r}handleClick(e){if(super.handleClick(e),this.track.enabled=!0,this.player_.tech_.featuresNativeAudioTracks){const i=this.player_.audioTracks();for(let n=0;n<i.length;n++){const r=i[n];r!==this.track&&(r.enabled=r===this.track)}}}handleTracksChange(e){this.selected(this.track.enabled)}}$.registerComponent("AudioTrackMenuItem",iE);class nE extends ey{constructor(e,i={}){i.tracks=e.audioTracks(),super(e,i),this.setIcon("audio")}buildCSSClass(){return`vjs-audio-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-audio-button ${super.buildWrapperCSSClass()}`}createItems(e=[]){this.hideThreshold_=1;const i=this.player_.audioTracks();for(let n=0;n<i.length;n++){const r=i[n];e.push(new iE(this.player_,{track:r,selectable:!0,multiSelectable:!1}))}return e}}nE.prototype.controlText_="Audio Track";$.registerComponent("AudioTrackButton",nE);class ay extends Fl{constructor(e,i){const n=i.rate,r=parseFloat(n,10);i.label=n,i.selected=r===e.playbackRate(),i.selectable=!0,i.multiSelectable=!1,super(e,i),this.label=n,this.rate=r,this.on(e,"ratechange",s=>this.update(s))}handleClick(e){super.handleClick(),this.player().playbackRate(this.rate)}update(e){this.selected(this.player().playbackRate()===this.rate)}}ay.prototype.contentElType="button";$.registerComponent("PlaybackRateMenuItem",ay);class rE extends Z0{constructor(e,i){super(e,i),this.menuButton_.el_.setAttribute("aria-describedby",this.labelElId_),this.updateVisibility(),this.updateLabel(),this.on(e,"loadstart",n=>this.updateVisibility(n)),this.on(e,"ratechange",n=>this.updateLabel(n)),this.on(e,"playbackrateschange",n=>this.handlePlaybackRateschange(n))}createEl(){const e=super.createEl();return this.labelElId_="vjs-playback-rate-value-label-"+this.id_,this.labelEl_=ge("div",{className:"vjs-playback-rate-value",id:this.labelElId_,textContent:"1x"}),e.appendChild(this.labelEl_),e}dispose(){this.labelEl_=null,super.dispose()}buildCSSClass(){return`vjs-playback-rate ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-playback-rate ${super.buildWrapperCSSClass()}`}createItems(){const e=this.playbackRates(),i=[];for(let n=e.length-1;n>=0;n--)i.push(new ay(this.player(),{rate:e[n]+"x"}));return i}handlePlaybackRateschange(e){this.update()}playbackRates(){const e=this.player();return e.playbackRates&&e.playbackRates()||[]}playbackRateSupported(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0}updateVisibility(e){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")}updateLabel(e){this.playbackRateSupported()&&(this.labelEl_.textContent=this.player().playbackRate()+"x")}}rE.prototype.controlText_="Playback Rate";$.registerComponent("PlaybackRateMenuButton",rE);class sE extends ${buildCSSClass(){return`vjs-spacer ${super.buildCSSClass()}`}createEl(e="div",i={},n={}){return i.className||(i.className=this.buildCSSClass()),super.createEl(e,i,n)}}$.registerComponent("Spacer",sE);class MR extends sE{buildCSSClass(){return`vjs-custom-control-spacer ${super.buildCSSClass()}`}createEl(){return super.createEl("div",{className:this.buildCSSClass(),textContent:" "})}}$.registerComponent("CustomControlSpacer",MR);class oE extends ${createEl(){return super.createEl("div",{className:"vjs-control-bar",dir:"ltr"})}}oE.prototype.options_={children:["playToggle","skipBackward","skipForward","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","pictureInPictureToggle","fullscreenToggle"]};$.registerComponent("ControlBar",oE);class aE extends Fo{constructor(e,i){super(e,i),this.on(e,"error",n=>this.open(n))}buildCSSClass(){return`vjs-error-display ${super.buildCSSClass()}`}content(){const e=this.player().error();return e?this.localize(e.message):""}}aE.prototype.options_=Object.assign({},Fo.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0});$.registerComponent("ErrorDisplay",aE);const Xf="vjs-text-track-settings",l2=["#000","Black"],u2=["#00F","Blue"],c2=["#0FF","Cyan"],d2=["#0F0","Green"],h2=["#F0F","Magenta"],f2=["#F00","Red"],p2=["#FFF","White"],m2=["#FF0","Yellow"],Kf=["1","Opaque"],Yf=["0.5","Semi-Transparent"],g2=["0","Transparent"],jr={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[l2,p2,f2,d2,u2,m2,h2,c2]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Opacity",options:[Kf,Yf,g2]},color:{selector:".vjs-text-color > select",id:"captions-foreground-color-%s",label:"Color",options:[p2,l2,f2,d2,u2,m2,h2,c2]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Drop shadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:t=>t==="1.00"?null:Number(t)},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Opacity",options:[Kf,Yf]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Opacity",options:[g2,Yf,Kf]}};jr.windowColor.options=jr.backgroundColor.options;function lE(t,e){if(e&&(t=e(t)),t&&t!=="none")return t}function BR(t,e){const i=t.options[t.options.selectedIndex].value;return lE(i,e)}function FR(t,e,i){if(e){for(let n=0;n<t.options.length;n++)if(lE(t.options[n].value,i)===e){t.selectedIndex=n;break}}}class jR extends Fo{constructor(e,i){i.temporary=!1,super(e,i),this.updateDisplay=this.updateDisplay.bind(this),this.fill(),this.hasBeenOpened_=this.hasBeenFilled_=!0,this.endDialog=ge("p",{className:"vjs-control-text",textContent:this.localize("End of dialog window.")}),this.el().appendChild(this.endDialog),this.setDefaults(),i.persistTextTrackSettings===void 0&&(this.options_.persistTextTrackSettings=this.options_.playerOptions.persistTextTrackSettings),this.on(this.$(".vjs-done-button"),"click",()=>{this.saveSettings(),this.close()}),this.on(this.$(".vjs-default-button"),"click",()=>{this.setDefaults(),this.updateDisplay()}),Ys(jr,n=>{this.on(this.$(n.selector),"change",this.updateDisplay)}),this.options_.persistTextTrackSettings&&this.restoreSettings()}dispose(){this.endDialog=null,super.dispose()}createElSelect_(e,i="",n="label"){const r=jr[e],s=r.id.replace("%s",this.id_),o=[i,s].join(" ").trim();return[`<${n} id="${s}" class="${n==="label"?"vjs-label":""}">`,this.localize(r.label),`</${n}>`,`<select aria-labelledby="${o}">`].concat(r.options.map(a=>{const l=s+"-"+a[1].replace(/\W+/g,"");return[`<option id="${l}" value="${a[0]}" `,`aria-labelledby="${o} ${l}">`,this.localize(a[1]),"</option>"].join("")})).concat("</select>").join("")}createElFgColor_(){const e=`captions-text-legend-${this.id_}`;return['<fieldset class="vjs-fg vjs-track-setting">',`<legend id="${e}">`,this.localize("Text"),"</legend>",'<span class="vjs-text-color">',this.createElSelect_("color",e),"</span>",'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",e),"</span>","</fieldset>"].join("")}createElBgColor_(){const e=`captions-background-${this.id_}`;return['<fieldset class="vjs-bg vjs-track-setting">',`<legend id="${e}">`,this.localize("Text Background"),"</legend>",'<span class="vjs-bg-color">',this.createElSelect_("backgroundColor",e),"</span>",'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",e),"</span>","</fieldset>"].join("")}createElWinColor_(){const e=`captions-window-${this.id_}`;return['<fieldset class="vjs-window vjs-track-setting">',`<legend id="${e}">`,this.localize("Caption Area Background"),"</legend>",'<span class="vjs-window-color">',this.createElSelect_("windowColor",e),"</span>",'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",e),"</span>","</fieldset>"].join("")}createElColors_(){return ge("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})}createElFont_(){return ge("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})}createElControls_(){const e=this.localize("restore all settings to the default values");return ge("div",{className:"vjs-track-settings-controls",innerHTML:[`<button type="button" class="vjs-default-button" title="${e}">`,this.localize("Reset"),`<span class="vjs-control-text"> ${e}</span>`,"</button>",`<button type="button" class="vjs-done-button">${this.localize("Done")}</button>`].join("")})}content(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]}label(){return this.localize("Caption Settings Dialog")}description(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")}buildCSSClass(){return super.buildCSSClass()+" vjs-text-track-settings"}getValues(){return rS(jr,(e,i,n)=>{const r=BR(this.$(i.selector),i.parser);return r!==void 0&&(e[n]=r),e},{})}setValues(e){Ys(jr,(i,n)=>{FR(this.$(i.selector),e[n],i.parser)})}setDefaults(){Ys(jr,e=>{const i=e.hasOwnProperty("default")?e.default:0;this.$(e.selector).selectedIndex=i})}restoreSettings(){let e;try{e=JSON.parse(O.localStorage.getItem(Xf))}catch(i){ve.warn(i)}e&&this.setValues(e)}saveSettings(){if(!this.options_.persistTextTrackSettings)return;const e=this.getValues();try{Object.keys(e).length?O.localStorage.setItem(Xf,JSON.stringify(e)):O.localStorage.removeItem(Xf)}catch(i){ve.warn(i)}}updateDisplay(){const e=this.player_.getChild("textTrackDisplay");e&&e.updateDisplay()}conditionalBlur_(){this.previouslyActiveEl_=null;const e=this.player_.controlBar,i=e&&e.subsCapsButton,n=e&&e.captionsButton;i?i.focus():n&&n.focus()}handleLanguagechange(){this.fill()}}$.registerComponent("TextTrackSettings",jR);class UR extends ${constructor(e,i){let n=i.ResizeObserver||O.ResizeObserver;i.ResizeObserver===null&&(n=!1);const r=Oe({createEl:!n,reportTouchActivity:!1},i);super(e,r),this.ResizeObserver=i.ResizeObserver||O.ResizeObserver,this.loadListener_=null,this.resizeObserver_=null,this.debouncedHandler_=CS(()=>{this.resizeHandler()},100,!1,this),n?(this.resizeObserver_=new this.ResizeObserver(this.debouncedHandler_),this.resizeObserver_.observe(e.el())):(this.loadListener_=()=>{if(!this.el_||!this.el_.contentWindow)return;const s=this.debouncedHandler_;let o=this.unloadListener_=function(){Ct(this,"resize",s),Ct(this,"unload",o),o=null};hi(this.el_.contentWindow,"unload",o),hi(this.el_.contentWindow,"resize",s)},this.one("load",this.loadListener_))}createEl(){return super.createEl("iframe",{className:"vjs-resize-manager",tabIndex:-1,title:this.localize("No content")},{"aria-hidden":"true"})}resizeHandler(){!this.player_||!this.player_.trigger||this.player_.trigger("playerresize")}dispose(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,super.dispose()}}$.registerComponent("ResizeManager",UR);const $R={trackingThreshold:20,liveTolerance:15};class zR extends ${constructor(e,i){const n=Oe($R,i,{createEl:!1});super(e,n),this.trackLiveHandler_=()=>this.trackLive_(),this.handlePlay_=r=>this.handlePlay(r),this.handleFirstTimeupdate_=r=>this.handleFirstTimeupdate(r),this.handleSeeked_=r=>this.handleSeeked(r),this.seekToLiveEdge_=r=>this.seekToLiveEdge(r),this.reset_(),this.on(this.player_,"durationchange",r=>this.handleDurationchange(r)),this.on(this.player_,"canplay",()=>this.toggleTracking())}trackLive_(){const e=this.player_.seekable();if(!e||!e.length)return;const i=Number(O.performance.now().toFixed(4)),n=this.lastTime_===-1?0:(i-this.lastTime_)/1e3;this.lastTime_=i,this.pastSeekEnd_=this.pastSeekEnd()+n;const r=this.liveCurrentTime(),s=this.player_.currentTime();let o=this.player_.paused()||this.seekedBehindLive_||Math.abs(r-s)>this.options_.liveTolerance;(!this.timeupdateSeen_||r===1/0)&&(o=!1),o!==this.behindLiveEdge_&&(this.behindLiveEdge_=o,this.trigger("liveedgechange"))}handleDurationchange(){this.toggleTracking()}toggleTracking(){this.player_.duration()===1/0&&this.liveWindow()>=this.options_.trackingThreshold?(this.player_.options_.liveui&&this.player_.addClass("vjs-liveui"),this.startTracking()):(this.player_.removeClass("vjs-liveui"),this.stopTracking())}startTracking(){this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLiveHandler_,Ii),this.trackLive_(),this.on(this.player_,["play","pause"],this.trackLiveHandler_),this.timeupdateSeen_?this.on(this.player_,"seeked",this.handleSeeked_):(this.one(this.player_,"play",this.handlePlay_),this.one(this.player_,"timeupdate",this.handleFirstTimeupdate_)))}handleFirstTimeupdate(){this.timeupdateSeen_=!0,this.on(this.player_,"seeked",this.handleSeeked_)}handleSeeked(){const e=Math.abs(this.liveCurrentTime()-this.player_.currentTime());this.seekedBehindLive_=this.nextSeekedFromUser_&&e>2,this.nextSeekedFromUser_=!1,this.trackLive_()}handlePlay(){this.one(this.player_,"timeupdate",this.seekToLiveEdge_)}reset_(){this.lastTime_=-1,this.pastSeekEnd_=0,this.lastSeekEnd_=-1,this.behindLiveEdge_=!0,this.timeupdateSeen_=!1,this.seekedBehindLive_=!1,this.nextSeekedFromUser_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.off(this.player_,["play","pause"],this.trackLiveHandler_),this.off(this.player_,"seeked",this.handleSeeked_),this.off(this.player_,"play",this.handlePlay_),this.off(this.player_,"timeupdate",this.handleFirstTimeupdate_),this.off(this.player_,"timeupdate",this.seekToLiveEdge_)}nextSeekedFromUser(){this.nextSeekedFromUser_=!0}stopTracking(){this.isTracking()&&(this.reset_(),this.trigger("liveedgechange"))}seekableEnd(){const e=this.player_.seekable(),i=[];let n=e?e.length:0;for(;n--;)i.push(e.end(n));return i.length?i.sort()[i.length-1]:1/0}seekableStart(){const e=this.player_.seekable(),i=[];let n=e?e.length:0;for(;n--;)i.push(e.start(n));return i.length?i.sort()[0]:0}liveWindow(){const e=this.liveCurrentTime();return e===1/0?0:e-this.seekableStart()}isLive(){return this.isTracking()}atLiveEdge(){return!this.behindLiveEdge()}liveCurrentTime(){return this.pastSeekEnd()+this.seekableEnd()}pastSeekEnd(){const e=this.seekableEnd();return this.lastSeekEnd_!==-1&&e!==this.lastSeekEnd_&&(this.pastSeekEnd_=0),this.lastSeekEnd_=e,this.pastSeekEnd_}behindLiveEdge(){return this.behindLiveEdge_}isTracking(){return typeof this.trackingInterval_=="number"}seekToLiveEdge(){this.seekedBehindLive_=!1,!this.atLiveEdge()&&(this.nextSeekedFromUser_=!1,this.player_.currentTime(this.liveCurrentTime()))}dispose(){this.stopTracking(),super.dispose()}}$.registerComponent("LiveTracker",zR);class VR extends ${constructor(e,i){super(e,i),this.on("statechanged",n=>this.updateDom_()),this.updateDom_()}createEl(){return this.els={title:ge("div",{className:"vjs-title-bar-title",id:`vjs-title-bar-title-${bn()}`}),description:ge("div",{className:"vjs-title-bar-description",id:`vjs-title-bar-description-${bn()}`})},ge("div",{className:"vjs-title-bar"},{},sS(this.els))}updateDom_(){const e=this.player_.tech_,i=e&&e.el_,n={title:"aria-labelledby",description:"aria-describedby"};["title","description"].forEach(r=>{const s=this.state[r],o=this.els[r],a=n[r];ah(o),s&&Dr(o,s),i&&(i.removeAttribute(a),s&&i.setAttribute(a,o.id))}),this.state.title||this.state.description?this.show():this.hide()}update(e){this.setState(e)}dispose(){const e=this.player_.tech_,i=e&&e.el_;i&&(i.removeAttribute("aria-labelledby"),i.removeAttribute("aria-describedby")),super.dispose(),this.els=null}}$.registerComponent("TitleBar",VR);const Hm=t=>{const e=t.el();if(e.hasAttribute("src"))return t.triggerSourceset(e.src),!0;const i=t.$$("source"),n=[];let r="";if(!i.length)return!1;for(let s=0;s<i.length;s++){const o=i[s].src;o&&n.indexOf(o)===-1&&n.push(o)}return n.length?(n.length===1&&(r=n[0]),t.triggerSourceset(r),!0):!1},HR=Object.defineProperty({},"innerHTML",{get(){return this.cloneNode(!0).innerHTML},set(t){const e=K.createElement(this.nodeName.toLowerCase());e.innerHTML=t;const i=K.createDocumentFragment();for(;e.childNodes.length;)i.appendChild(e.childNodes[0]);return this.innerText="",O.Element.prototype.appendChild.call(this,i),this.innerHTML}}),uE=(t,e)=>{let i={};for(let n=0;n<t.length&&(i=Object.getOwnPropertyDescriptor(t[n],e),!(i&&i.set&&i.get));n++);return i.enumerable=!0,i.configurable=!0,i},qR=t=>uE([t.el(),O.HTMLMediaElement.prototype,O.Element.prototype,HR],"innerHTML"),y2=function(t){const e=t.el();if(e.resetSourceWatch_)return;const i={},n=qR(t),r=s=>(...o)=>{const a=s.apply(e,o);return Hm(t),a};["append","appendChild","insertAdjacentHTML"].forEach(s=>{e[s]&&(i[s]=e[s],e[s]=r(i[s]))}),Object.defineProperty(e,"innerHTML",Oe(n,{set:r(n.set)})),e.resetSourceWatch_=()=>{e.resetSourceWatch_=null,Object.keys(i).forEach(s=>{e[s]=i[s]}),Object.defineProperty(e,"innerHTML",n)},t.one("sourceset",e.resetSourceWatch_)},WR=Object.defineProperty({},"src",{get(){return this.hasAttribute("src")?MS(O.Element.prototype.getAttribute.call(this,"src")):""},set(t){return O.Element.prototype.setAttribute.call(this,"src",t),t}}),GR=t=>uE([t.el(),O.HTMLMediaElement.prototype,WR],"src"),XR=function(t){if(!t.featuresSourceset)return;const e=t.el();if(e.resetSourceset_)return;const i=GR(t),n=e.setAttribute,r=e.load;Object.defineProperty(e,"src",Oe(i,{set:s=>{const o=i.set.call(e,s);return t.triggerSourceset(e.src),o}})),e.setAttribute=(s,o)=>{const a=n.call(e,s,o);return/src/i.test(s)&&t.triggerSourceset(e.src),a},e.load=()=>{const s=r.call(e);return Hm(t)||(t.triggerSourceset(""),y2(t)),s},e.currentSrc?t.triggerSourceset(e.currentSrc):Hm(t)||y2(t),e.resetSourceset_=()=>{e.resetSourceset_=null,e.load=r,e.setAttribute=n,Object.defineProperty(e,"src",i),e.resetSourceWatch_&&e.resetSourceWatch_()}};class re extends me{constructor(e,i){super(e,i);const n=e.source;let r=!1;if(this.featuresVideoFrameCallback=this.featuresVideoFrameCallback&&this.el_.tagName==="VIDEO",n&&(this.el_.currentSrc!==n.src||e.tag&&e.tag.initNetworkState_===3)?this.setSource(n):this.handleLateInit_(this.el_),e.enableSourceset&&this.setupSourcesetHandling_(),this.isScrubbing_=!1,this.el_.hasChildNodes()){const s=this.el_.childNodes;let o=s.length;const a=[];for(;o--;){const l=s[o];l.nodeName.toLowerCase()==="track"&&(this.featuresNativeTextTracks?(this.remoteTextTrackEls().addTrackElement_(l),this.remoteTextTracks().addTrack(l.track),this.textTracks().addTrack(l.track),!r&&!this.el_.hasAttribute("crossorigin")&&dh(l.src)&&(r=!0)):a.push(l))}for(let l=0;l<a.length;l++)this.el_.removeChild(a[l])}this.proxyNativeTracks_(),this.featuresNativeTextTracks&&r&&ve.warn(`Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.
This may prevent text tracks from loading.`),this.restoreMetadataTracksInIOSNativePlayer_(),(xl||ih)&&e.nativeControlsForTouch===!0&&this.setControls(!0),this.proxyWebkitFullscreen_(),this.triggerReady()}dispose(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),re.disposeMediaElement(this.el_),this.options_=null,super.dispose()}setupSourcesetHandling_(){XR(this)}restoreMetadataTracksInIOSNativePlayer_(){const e=this.textTracks();let i;const n=()=>{i=[];for(let s=0;s<e.length;s++){const o=e[s];o.kind==="metadata"&&i.push({track:o,storedMode:o.mode})}};n(),e.addEventListener("change",n),this.on("dispose",()=>e.removeEventListener("change",n));const r=()=>{for(let s=0;s<i.length;s++){const o=i[s];o.track.mode==="disabled"&&o.track.mode!==o.storedMode&&(o.track.mode=o.storedMode)}e.removeEventListener("change",r)};this.on("webkitbeginfullscreen",()=>{e.removeEventListener("change",n),e.removeEventListener("change",r),e.addEventListener("change",r)}),this.on("webkitendfullscreen",()=>{e.removeEventListener("change",n),e.addEventListener("change",n),e.removeEventListener("change",r)})}overrideNative_(e,i){if(i!==this[`featuresNative${e}Tracks`])return;const n=e.toLowerCase();this[`${n}TracksListeners_`]&&Object.keys(this[`${n}TracksListeners_`]).forEach(r=>{this.el()[`${n}Tracks`].removeEventListener(r,this[`${n}TracksListeners_`][r])}),this[`featuresNative${e}Tracks`]=!i,this[`${n}TracksListeners_`]=null,this.proxyNativeTracksForType_(n)}overrideNativeAudioTracks(e){this.overrideNative_("Audio",e)}overrideNativeVideoTracks(e){this.overrideNative_("Video",e)}proxyNativeTracksForType_(e){const i=Ci[e],n=this.el()[i.getterName],r=this[i.getterName]();if(!this[`featuresNative${i.capitalName}Tracks`]||!n||!n.addEventListener)return;const s={change:a=>{const l={type:"change",target:r,currentTarget:r,srcElement:r};r.trigger(l),e==="text"&&this[wo.remoteText.getterName]().trigger(l)},addtrack(a){r.addTrack(a.track)},removetrack(a){r.removeTrack(a.track)}},o=function(){const a=[];for(let l=0;l<r.length;l++){let u=!1;for(let d=0;d<n.length;d++)if(n[d]===r[l]){u=!0;break}u||a.push(r[l])}for(;a.length;)r.removeTrack(a.shift())};this[i.getterName+"Listeners_"]=s,Object.keys(s).forEach(a=>{const l=s[a];n.addEventListener(a,l),this.on("dispose",u=>n.removeEventListener(a,l))}),this.on("loadstart",o),this.on("dispose",a=>this.off("loadstart",o))}proxyNativeTracks_(){Ci.names.forEach(e=>{this.proxyNativeTracksForType_(e)})}createEl(){let e=this.options_.tag;if(!e||!(this.options_.playerElIngest||this.movingMediaElementInDOM)){if(e){const n=e.cloneNode(!0);e.parentNode&&e.parentNode.insertBefore(n,e),re.disposeMediaElement(e),e=n}else{e=K.createElement("video");const n=this.options_.tag&&tr(this.options_.tag),r=Oe({},n);(!xl||this.options_.nativeControlsForTouch!==!0)&&delete r.controls,fS(e,Object.assign(r,{id:this.options_.techId,class:"vjs-tech"}))}e.playerId=this.options_.playerId}typeof this.options_.preload<"u"&&_o(e,"preload",this.options_.preload),this.options_.disablePictureInPicture!==void 0&&(e.disablePictureInPicture=this.options_.disablePictureInPicture);const i=["loop","muted","playsinline","autoplay"];for(let n=0;n<i.length;n++){const r=i[n],s=this.options_[r];typeof s<"u"&&(s?_o(e,r,r):sh(e,r),e[r]=s)}return e}handleLateInit_(e){if(e.networkState===0||e.networkState===3)return;if(e.readyState===0){let n=!1;const r=function(){n=!0};this.on("loadstart",r);const s=function(){n||this.trigger("loadstart")};this.on("loadedmetadata",s),this.ready(function(){this.off("loadstart",r),this.off("loadedmetadata",s),n||this.trigger("loadstart")});return}const i=["loadstart"];i.push("loadedmetadata"),e.readyState>=2&&i.push("loadeddata"),e.readyState>=3&&i.push("canplay"),e.readyState>=4&&i.push("canplaythrough"),this.ready(function(){i.forEach(function(n){this.trigger(n)},this)})}setScrubbing(e){this.isScrubbing_=e}scrubbing(){return this.isScrubbing_}setCurrentTime(e){try{this.isScrubbing_&&this.el_.fastSeek&&nh?this.el_.fastSeek(e):this.el_.currentTime=e}catch(i){ve(i,"Video is not ready. (Video.js)")}}duration(){if(this.el_.duration===1/0&&vn&&_n&&this.el_.currentTime===0){const e=()=>{this.el_.currentTime>0&&(this.el_.duration===1/0&&this.trigger("durationchange"),this.off("timeupdate",e))};return this.on("timeupdate",e),NaN}return this.el_.duration||NaN}width(){return this.el_.offsetWidth}height(){return this.el_.offsetHeight}proxyWebkitFullscreen_(){if(!("webkitDisplayingFullscreen"in this.el_))return;const e=function(){this.trigger("fullscreenchange",{isFullscreen:!1}),this.el_.controls&&!this.options_.nativeControlsForTouch&&this.controls()&&(this.el_.controls=!1)},i=function(){"webkitPresentationMode"in this.el_&&this.el_.webkitPresentationMode!=="picture-in-picture"&&(this.one("webkitendfullscreen",e),this.trigger("fullscreenchange",{isFullscreen:!0,nativeIOSFullscreen:!0}))};this.on("webkitbeginfullscreen",i),this.on("dispose",()=>{this.off("webkitbeginfullscreen",i),this.off("webkitendfullscreen",e)})}supportsFullScreen(){return typeof this.el_.webkitEnterFullScreen=="function"}enterFullScreen(){const e=this.el_;if(e.paused&&e.networkState<=e.HAVE_METADATA)an(this.el_.play()),this.setTimeout(function(){e.pause();try{e.webkitEnterFullScreen()}catch(i){this.trigger("fullscreenerror",i)}},0);else try{e.webkitEnterFullScreen()}catch(i){this.trigger("fullscreenerror",i)}}exitFullScreen(){if(!this.el_.webkitDisplayingFullscreen){this.trigger("fullscreenerror",new Error("The video is not fullscreen"));return}this.el_.webkitExitFullScreen()}requestPictureInPicture(){return this.el_.requestPictureInPicture()}requestVideoFrameCallback(e){return this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.requestVideoFrameCallback(e):super.requestVideoFrameCallback(e)}cancelVideoFrameCallback(e){this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.cancelVideoFrameCallback(e):super.cancelVideoFrameCallback(e)}src(e){if(e===void 0)return this.el_.src;this.setSrc(e)}reset(){re.resetMediaElement(this.el_)}currentSrc(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc}setControls(e){this.el_.controls=!!e}addTextTrack(e,i,n){return this.featuresNativeTextTracks?this.el_.addTextTrack(e,i,n):super.addTextTrack(e,i,n)}createRemoteTextTrack(e){if(!this.featuresNativeTextTracks)return super.createRemoteTextTrack(e);const i=K.createElement("track");return e.kind&&(i.kind=e.kind),e.label&&(i.label=e.label),(e.language||e.srclang)&&(i.srclang=e.language||e.srclang),e.default&&(i.default=e.default),e.id&&(i.id=e.id),e.src&&(i.src=e.src),i}addRemoteTextTrack(e,i){const n=super.addRemoteTextTrack(e,i);return this.featuresNativeTextTracks&&this.el().appendChild(n),n}removeRemoteTextTrack(e){if(super.removeRemoteTextTrack(e),this.featuresNativeTextTracks){const i=this.$$("track");let n=i.length;for(;n--;)(e===i[n]||e===i[n].track)&&this.el().removeChild(i[n])}}getVideoPlaybackQuality(){if(typeof this.el().getVideoPlaybackQuality=="function")return this.el().getVideoPlaybackQuality();const e={};return typeof this.el().webkitDroppedFrameCount<"u"&&typeof this.el().webkitDecodedFrameCount<"u"&&(e.droppedVideoFrames=this.el().webkitDroppedFrameCount,e.totalVideoFrames=this.el().webkitDecodedFrameCount),O.performance&&(e.creationTime=O.performance.now()),e}}Zd(re,"TEST_VID",function(){if(!Ro())return;const t=K.createElement("video"),e=K.createElement("track");return e.kind="captions",e.srclang="en",e.label="English",t.appendChild(e),t});re.isSupported=function(){try{re.TEST_VID.volume=.5}catch{return!1}return!!(re.TEST_VID&&re.TEST_VID.canPlayType)};re.canPlayType=function(t){return re.TEST_VID.canPlayType(t)};re.canPlaySource=function(t,e){return re.canPlayType(t.type)};re.canControlVolume=function(){try{const t=re.TEST_VID.volume;re.TEST_VID.volume=t/2+.1;const e=t!==re.TEST_VID.volume;return e&&Ft?(O.setTimeout(()=>{re&&re.prototype&&(re.prototype.featuresVolumeControl=t!==re.TEST_VID.volume)}),!1):e}catch{return!1}};re.canMuteVolume=function(){try{const t=re.TEST_VID.muted;return re.TEST_VID.muted=!t,re.TEST_VID.muted?_o(re.TEST_VID,"muted","muted"):sh(re.TEST_VID,"muted","muted"),t!==re.TEST_VID.muted}catch{return!1}};re.canControlPlaybackRate=function(){if(vn&&_n&&eh<58)return!1;try{const t=re.TEST_VID.playbackRate;return re.TEST_VID.playbackRate=t/2+.1,t!==re.TEST_VID.playbackRate}catch{return!1}};re.canOverrideAttributes=function(){try{const t=()=>{};Object.defineProperty(K.createElement("video"),"src",{get:t,set:t}),Object.defineProperty(K.createElement("audio"),"src",{get:t,set:t}),Object.defineProperty(K.createElement("video"),"innerHTML",{get:t,set:t}),Object.defineProperty(K.createElement("audio"),"innerHTML",{get:t,set:t})}catch{return!1}return!0};re.supportsNativeTextTracks=function(){return nh||Ft&&_n};re.supportsNativeVideoTracks=function(){return!!(re.TEST_VID&&re.TEST_VID.videoTracks)};re.supportsNativeAudioTracks=function(){return!!(re.TEST_VID&&re.TEST_VID.audioTracks)};re.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"];[["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach(function([t,e]){Zd(re.prototype,t,()=>re[e](),!0)});re.prototype.featuresVolumeControl=re.canControlVolume();re.prototype.movingMediaElementInDOM=!Ft;re.prototype.featuresFullscreenResize=!0;re.prototype.featuresProgressEvents=!0;re.prototype.featuresTimeupdateEvents=!0;re.prototype.featuresVideoFrameCallback=!!(re.TEST_VID&&re.TEST_VID.requestVideoFrameCallback);re.disposeMediaElement=function(t){if(t){for(t.parentNode&&t.parentNode.removeChild(t);t.hasChildNodes();)t.removeChild(t.firstChild);t.removeAttribute("src"),typeof t.load=="function"&&function(){try{t.load()}catch{}}()}};re.resetMediaElement=function(t){if(!t)return;const e=t.querySelectorAll("source");let i=e.length;for(;i--;)t.removeChild(e[i]);t.removeAttribute("src"),typeof t.load=="function"&&function(){try{t.load()}catch{}}()};["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(t){re.prototype[t]=function(){return this.el_[t]||this.el_.hasAttribute(t)}});["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(t){re.prototype["set"+Ke(t)]=function(e){this.el_[t]=e,e?this.el_.setAttribute(t,t):this.el_.removeAttribute(t)}});["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEach(function(t){re.prototype[t]=function(){return this.el_[t]}});["volume","src","poster","preload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOrigin"].forEach(function(t){re.prototype["set"+Ke(t)]=function(e){this.el_[t]=e}});["pause","load","play"].forEach(function(t){re.prototype[t]=function(){return this.el_[t]()}});me.withSourceHandlers(re);re.nativeSourceHandler={};re.nativeSourceHandler.canPlayType=function(t){try{return re.TEST_VID.canPlayType(t)}catch{return""}};re.nativeSourceHandler.canHandleSource=function(t,e){if(t.type)return re.nativeSourceHandler.canPlayType(t.type);if(t.src){const i=q0(t.src);return re.nativeSourceHandler.canPlayType(`video/${i}`)}return""};re.nativeSourceHandler.handleSource=function(t,e,i){e.setSrc(t.src)};re.nativeSourceHandler.dispose=function(){};re.registerSourceHandler(re.nativeSourceHandler);me.registerTech("Html5",re);const cE=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],Qf={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},qm=["tiny","xsmall","small","medium","large","xlarge","huge"],uc={};qm.forEach(t=>{const e=t.charAt(0)==="x"?`x-${t.substring(1)}`:t;uc[t]=`vjs-layout-${e}`});const KR={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0};class Re extends ${constructor(e,i,n){if(e.id=e.id||i.id||`vjs_video_${bn()}`,i=Object.assign(Re.getTagSettings(e),i),i.initChildren=!1,i.createEl=!1,i.evented=!1,i.reportTouchActivity=!1,!i.language){const o=e.closest("[lang]");o&&(i.language=o.getAttribute("lang"))}if(super(null,i,n),this.boundDocumentFullscreenChange_=o=>this.documentFullscreenChange_(o),this.boundFullWindowOnEscKey_=o=>this.fullWindowOnEscKey(o),this.boundUpdateStyleEl_=o=>this.updateStyleEl_(o),this.boundApplyInitTime_=o=>this.applyInitTime_(o),this.boundUpdateCurrentBreakpoint_=o=>this.updateCurrentBreakpoint_(o),this.boundHandleTechClick_=o=>this.handleTechClick_(o),this.boundHandleTechDoubleClick_=o=>this.handleTechDoubleClick_(o),this.boundHandleTechTouchStart_=o=>this.handleTechTouchStart_(o),this.boundHandleTechTouchMove_=o=>this.handleTechTouchMove_(o),this.boundHandleTechTouchEnd_=o=>this.handleTechTouchEnd_(o),this.boundHandleTechTap_=o=>this.handleTechTap_(o),this.isFullscreen_=!1,this.log=iS(this.id_),this.fsApi_=Yc,this.isPosterFromTech_=!1,this.queuedCallbacks_=[],this.isReady_=!1,this.hasStarted_=!1,this.userActive_=!1,this.debugEnabled_=!1,this.audioOnlyMode_=!1,this.audioPosterMode_=!1,this.audioOnlyCache_={playerHeight:null,hiddenChildren:[]},!this.options_||!this.options_.techOrder||!this.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(this.tag=e,this.tagAttributes=e&&tr(e),this.language(this.options_.language),i.languages){const o={};Object.getOwnPropertyNames(i.languages).forEach(function(a){o[a.toLowerCase()]=i.languages[a]}),this.languages_=o}else this.languages_=Re.prototype.options_.languages;this.resetCache_(),this.poster_=i.poster||"",this.controls_=!!i.controls,e.controls=!1,e.removeAttribute("controls"),this.changingSrc_=!1,this.playCallbacks_=[],this.playTerminatedQueue_=[],e.hasAttribute("autoplay")?this.autoplay(!0):this.autoplay(this.options_.autoplay),i.plugins&&Object.keys(i.plugins).forEach(o=>{if(typeof this[o]!="function")throw new Error(`plugin "${o}" does not exist`)}),this.scrubbing_=!1,this.el_=this.createEl(),$0(this,{eventBusKey:"el_"}),this.fsApi_.requestFullscreen&&(hi(K,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),this.on(this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_)),this.fluid_&&this.on(["playerreset","resize"],this.boundUpdateStyleEl_);const r=Oe(this.options_);if(i.plugins&&Object.keys(i.plugins).forEach(o=>{this[o](i.plugins[o])}),i.debug&&this.debug(!0),this.options_.playerOptions=r,this.middleware_=[],this.playbackRates(i.playbackRates),i.experimentalSvgIcons){const a=new O.DOMParser().parseFromString(_R,"image/svg+xml");if(a.querySelector("parsererror"))ve.warn("Failed to load SVG Icons. Falling back to Font Icons."),this.options_.experimentalSvgIcons=null;else{const u=a.documentElement;u.style.display="none",this.el_.appendChild(u),this.addClass("vjs-svg-icons-enabled")}}this.initChildren(),this.isAudio(e.nodeName.toLowerCase()==="audio"),this.controls()?this.addClass("vjs-controls-enabled"):this.addClass("vjs-controls-disabled"),this.el_.setAttribute("role","region"),this.isAudio()?this.el_.setAttribute("aria-label",this.localize("Audio Player")):this.el_.setAttribute("aria-label",this.localize("Video Player")),this.isAudio()&&this.addClass("vjs-audio"),xl&&this.addClass("vjs-touch-enabled"),Ft||this.addClass("vjs-workinghover"),Re.players[this.id_]=this;const s=Zw.split(".")[0];this.addClass(`vjs-v${s}`),this.userActive(!0),this.reportUserActivity(),this.one("play",o=>this.listenForUserActivity_(o)),this.on("keydown",o=>this.handleKeyDown(o)),this.on("languagechange",o=>this.handleLanguagechange(o)),this.breakpoints(this.options_.breakpoints),this.responsive(this.options_.responsive),this.on("ready",()=>{this.audioPosterMode(this.options_.audioPosterMode),this.audioOnlyMode(this.options_.audioOnlyMode)})}dispose(){this.trigger("dispose"),this.off("dispose"),Ct(K,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),Ct(K,"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),Re.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),mR(this),Lt.names.forEach(e=>{const i=Lt[e],n=this[i.getterName]();n&&n.off&&n.off()}),super.dispose({restoreEl:this.options_.restoreEl})}createEl(){let e=this.tag,i,n=this.playerElIngest_=e.parentNode&&e.parentNode.hasAttribute&&e.parentNode.hasAttribute("data-vjs-player");const r=this.tag.tagName.toLowerCase()==="video-js";n?i=this.el_=e.parentNode:r||(i=this.el_=super.createEl("div"));const s=tr(e);if(r){for(i=this.el_=e,e=this.tag=K.createElement("video");i.children.length;)e.appendChild(i.firstChild);$a(i,"video-js")||Kr(i,"video-js"),i.appendChild(e),n=this.playerElIngest_=i,Object.keys(i).forEach(a=>{try{e[a]=i[a]}catch{}})}if(e.setAttribute("tabindex","-1"),s.tabindex="-1",_n&&th&&(e.setAttribute("role","application"),s.role="application"),e.removeAttribute("width"),e.removeAttribute("height"),"width"in s&&delete s.width,"height"in s&&delete s.height,Object.getOwnPropertyNames(s).forEach(function(a){r&&a==="class"||i.setAttribute(a,s[a]),r&&e.setAttribute(a,s[a])}),e.playerId=e.id,e.id+="_html5_api",e.className="vjs-tech",e.player=i.player=this,this.addClass("vjs-paused"),O.VIDEOJS_NO_DYNAMIC_STYLE!==!0){this.styleEl_=SS("vjs-styles-dimensions");const a=Tr(".vjs-styles-defaults"),l=Tr("head");l.insertBefore(this.styleEl_,a?a.nextSibling:l.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),this.crossOrigin(this.options_.crossOrigin||this.options_.crossorigin);const o=e.getElementsByTagName("a");for(let a=0;a<o.length;a++){const l=o.item(a);Kr(l,"vjs-hidden"),l.setAttribute("hidden","hidden")}return e.initNetworkState_=e.networkState,e.parentNode&&!n&&e.parentNode.insertBefore(i,e),Mm(e,i),this.children_.unshift(e),this.el_.setAttribute("lang",this.language_),this.el_.setAttribute("translate","no"),this.el_=i,i}crossOrigin(e){if(typeof e>"u")return this.techGet_("crossOrigin");if(e!==null&&e!=="anonymous"&&e!=="use-credentials"){ve.warn(`crossOrigin must be null,  "anonymous" or "use-credentials", given "${e}"`);return}this.techCall_("setCrossOrigin",e),this.posterImage&&this.posterImage.crossOrigin(e)}width(e){return this.dimension("width",e)}height(e){return this.dimension("height",e)}dimension(e,i){const n=e+"_";if(i===void 0)return this[n]||0;if(i===""||i==="auto"){this[n]=void 0,this.updateStyleEl_();return}const r=parseFloat(i);if(isNaN(r)){ve.error(`Improper value "${i}" supplied for for ${e}`);return}this[n]=r,this.updateStyleEl_()}fluid(e){if(e===void 0)return!!this.fluid_;this.fluid_=!!e,Rn(this)&&this.off(["playerreset","resize"],this.boundUpdateStyleEl_),e?(this.addClass("vjs-fluid"),this.fill(!1),qN(this,()=>{this.on(["playerreset","resize"],this.boundUpdateStyleEl_)})):this.removeClass("vjs-fluid"),this.updateStyleEl_()}fill(e){if(e===void 0)return!!this.fill_;this.fill_=!!e,e?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")}aspectRatio(e){if(e===void 0)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(e))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=e,this.fluid(!0),this.updateStyleEl_()}updateStyleEl_(){if(O.VIDEOJS_NO_DYNAMIC_STYLE===!0){const a=typeof this.width_=="number"?this.width_:this.options_.width,l=typeof this.height_=="number"?this.height_:this.options_.height,u=this.tech_&&this.tech_.el();u&&(a>=0&&(u.width=a),l>=0&&(u.height=l));return}let e,i,n,r;this.aspectRatio_!==void 0&&this.aspectRatio_!=="auto"?n=this.aspectRatio_:this.videoWidth()>0?n=this.videoWidth()+":"+this.videoHeight():n="16:9";const s=n.split(":"),o=s[1]/s[0];this.width_!==void 0?e=this.width_:this.height_!==void 0?e=this.height_/o:e=this.videoWidth()||300,this.height_!==void 0?i=this.height_:i=e*o,/^[^a-zA-Z]/.test(this.id())?r="dimensions-"+this.id():r=this.id()+"-dimensions",this.addClass(r),ES(this.styleEl_,`
      .${r} {
        width: ${e}px;
        height: ${i}px;
      }

      .${r}.vjs-fluid:not(.vjs-audio-only-mode) {
        padding-top: ${o*100}%;
      }
    `)}loadTech_(e,i){this.tech_&&this.unloadTech_();const n=Ke(e),r=e.charAt(0).toLowerCase()+e.slice(1);n!=="Html5"&&this.tag&&(me.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=n,this.isReady_=!1;let s=this.autoplay();(typeof this.autoplay()=="string"||this.autoplay()===!0&&this.options_.normalizeAutoplay)&&(s=!1);const o={source:i,autoplay:s,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:`${this.id()}_${r}_api`,playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,disablePictureInPicture:this.options_.disablePictureInPicture,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset};Lt.names.forEach(l=>{const u=Lt[l];o[u.getterName]=this[u.privateName]}),Object.assign(o,this.options_[n]),Object.assign(o,this.options_[r]),Object.assign(o,this.options_[e.toLowerCase()]),this.tag&&(o.tag=this.tag),i&&i.src===this.cache_.src&&this.cache_.currentTime>0&&(o.startTime=this.cache_.currentTime);const a=me.getTech(e);if(!a)throw new Error(`No Tech named '${n}' exists! '${n}' should be registered using videojs.registerTech()'`);this.tech_=new a(o),this.tech_.ready(Ne(this,this.handleTechReady_),!0),J1.jsonToTextTracks(this.textTracksJson_||[],this.tech_),cE.forEach(l=>{this.on(this.tech_,l,u=>this[`handleTech${Ke(l)}_`](u))}),Object.keys(Qf).forEach(l=>{this.on(this.tech_,l,u=>{if(this.tech_.playbackRate()===0&&this.tech_.seeking()){this.queuedCallbacks_.push({callback:this[`handleTech${Qf[l]}_`].bind(this),event:u});return}this[`handleTech${Qf[l]}_`](u)})}),this.on(this.tech_,"loadstart",l=>this.handleTechLoadStart_(l)),this.on(this.tech_,"sourceset",l=>this.handleTechSourceset_(l)),this.on(this.tech_,"waiting",l=>this.handleTechWaiting_(l)),this.on(this.tech_,"ended",l=>this.handleTechEnded_(l)),this.on(this.tech_,"seeking",l=>this.handleTechSeeking_(l)),this.on(this.tech_,"play",l=>this.handleTechPlay_(l)),this.on(this.tech_,"pause",l=>this.handleTechPause_(l)),this.on(this.tech_,"durationchange",l=>this.handleTechDurationChange_(l)),this.on(this.tech_,"fullscreenchange",(l,u)=>this.handleTechFullscreenChange_(l,u)),this.on(this.tech_,"fullscreenerror",(l,u)=>this.handleTechFullscreenError_(l,u)),this.on(this.tech_,"enterpictureinpicture",l=>this.handleTechEnterPictureInPicture_(l)),this.on(this.tech_,"leavepictureinpicture",l=>this.handleTechLeavePictureInPicture_(l)),this.on(this.tech_,"error",l=>this.handleTechError_(l)),this.on(this.tech_,"posterchange",l=>this.handleTechPosterChange_(l)),this.on(this.tech_,"textdata",l=>this.handleTechTextData_(l)),this.on(this.tech_,"ratechange",l=>this.handleTechRateChange_(l)),this.on(this.tech_,"loadedmetadata",this.boundUpdateStyleEl_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode!==this.el()&&(n!=="Html5"||!this.tag)&&Mm(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)}unloadTech_(){Lt.names.forEach(e=>{const i=Lt[e];this[i.privateName]=this[i.getterName]()}),this.textTracksJson_=J1.textTracksToJson(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1}tech(e){return e===void 0&&ve.warn(`Using the tech directly can be dangerous. I hope you know what you're doing.
See https://github.com/videojs/video.js/issues/2617 for more info.
`),this.tech_}addTechControlsListeners_(){this.removeTechControlsListeners_(),this.on(this.tech_,"click",this.boundHandleTechClick_),this.on(this.tech_,"dblclick",this.boundHandleTechDoubleClick_),this.on(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.on(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.on(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.on(this.tech_,"tap",this.boundHandleTechTap_)}removeTechControlsListeners_(){this.off(this.tech_,"tap",this.boundHandleTechTap_),this.off(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.off(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.off(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.off(this.tech_,"click",this.boundHandleTechClick_),this.off(this.tech_,"dblclick",this.boundHandleTechDoubleClick_)}handleTechReady_(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()}handleTechLoadStart_(){this.removeClass("vjs-ended","vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):this.trigger("loadstart"),this.manualAutoplay_(this.autoplay()===!0&&this.options_.normalizeAutoplay?"play":this.autoplay())}manualAutoplay_(e){if(!this.tech_||typeof e!="string")return;const i=()=>{const r=this.muted();this.muted(!0);const s=()=>{this.muted(r)};this.playTerminatedQueue_.push(s);const o=this.play();if(Va(o))return o.catch(a=>{throw s(),new Error(`Rejection at manualAutoplay. Restoring muted value. ${a||""}`)})};let n;if(e==="any"&&!this.muted()?(n=this.play(),Va(n)&&(n=n.catch(i))):e==="muted"&&!this.muted()?n=i():n=this.play(),!!Va(n))return n.then(()=>{this.trigger({type:"autoplay-success",autoplay:e})}).catch(()=>{this.trigger({type:"autoplay-failure",autoplay:e})})}updateSourceCaches_(e=""){let i=e,n="";typeof i!="string"&&(i=e.src,n=e.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],i&&!n&&(n=vR(this,i)),this.cache_.source=Oe({},e,{src:i,type:n});const r=this.cache_.sources.filter(l=>l.src&&l.src===i),s=[],o=this.$$("source"),a=[];for(let l=0;l<o.length;l++){const u=tr(o[l]);s.push(u),u.src&&u.src===i&&a.push(u.src)}a.length&&!r.length?this.cache_.sources=s:r.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=i}handleTechSourceset_(e){if(!this.changingSrc_){let i=s=>this.updateSourceCaches_(s);const n=this.currentSource().src,r=e.src;n&&!/^blob:/.test(n)&&/^blob:/.test(r)&&(!this.lastSource_||this.lastSource_.tech!==r&&this.lastSource_.player!==n)&&(i=()=>{}),i(r),e.src||this.tech_.any(["sourceset","loadstart"],s=>{if(s.type==="sourceset")return;const o=this.techGet_("currentSrc");this.lastSource_.tech=o,this.updateSourceCaches_(o)})}this.lastSource_={player:this.currentSource().src,tech:e.src},this.trigger({src:e.src,type:"sourceset"})}hasStarted(e){if(e===void 0)return this.hasStarted_;e!==this.hasStarted_&&(this.hasStarted_=e,this.hasStarted_?this.addClass("vjs-has-started"):this.removeClass("vjs-has-started"))}handleTechPlay_(){this.removeClass("vjs-ended","vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")}handleTechRateChange_(){this.tech_.playbackRate()>0&&this.cache_.lastPlaybackRate===0&&(this.queuedCallbacks_.forEach(e=>e.callback(e.event)),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")}handleTechWaiting_(){this.addClass("vjs-waiting"),this.trigger("waiting");const e=this.currentTime(),i=()=>{e!==this.currentTime()&&(this.removeClass("vjs-waiting"),this.off("timeupdate",i))};this.on("timeupdate",i)}handleTechCanPlay_(){this.removeClass("vjs-waiting"),this.trigger("canplay")}handleTechCanPlayThrough_(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")}handleTechPlaying_(){this.removeClass("vjs-waiting"),this.trigger("playing")}handleTechSeeking_(){this.addClass("vjs-seeking"),this.trigger("seeking")}handleTechSeeked_(){this.removeClass("vjs-seeking","vjs-ended"),this.trigger("seeked")}handleTechPause_(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")}handleTechEnded_(){this.addClass("vjs-ended"),this.removeClass("vjs-waiting"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")}handleTechDurationChange_(){this.duration(this.techGet_("duration"))}handleTechClick_(e){this.controls_&&(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.click===void 0||this.options_.userActions.click!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.click=="function"?this.options_.userActions.click.call(this,e):this.paused()?an(this.play()):this.pause())}handleTechDoubleClick_(e){if(!this.controls_)return;Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),n=>n.contains(e.target))||(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.doubleClick===void 0||this.options_.userActions.doubleClick!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.doubleClick=="function"?this.options_.userActions.doubleClick.call(this,e):this.isFullscreen()?this.exitFullscreen():this.requestFullscreen())}handleTechTap_(){this.userActive(!this.userActive())}handleTechTouchStart_(){this.userWasActive=this.userActive()}handleTechTouchMove_(){this.userWasActive&&this.reportUserActivity()}handleTechTouchEnd_(e){e.cancelable&&e.preventDefault()}toggleFullscreenClass_(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")}documentFullscreenChange_(e){const i=e.target.player;if(i&&i!==this)return;const n=this.el();let r=K[this.fsApi_.fullscreenElement]===n;!r&&n.matches&&(r=n.matches(":"+this.fsApi_.fullscreen)),this.isFullscreen(r)}handleTechFullscreenChange_(e,i){i&&(i.nativeIOSFullscreen&&(this.addClass("vjs-ios-native-fs"),this.tech_.one("webkitendfullscreen",()=>{this.removeClass("vjs-ios-native-fs")})),this.isFullscreen(i.isFullscreen))}handleTechFullscreenError_(e,i){this.trigger("fullscreenerror",i)}togglePictureInPictureClass_(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")}handleTechEnterPictureInPicture_(e){this.isInPictureInPicture(!0)}handleTechLeavePictureInPicture_(e){this.isInPictureInPicture(!1)}handleTechError_(){const e=this.tech_.error();this.error(e)}handleTechTextData_(){let e=null;arguments.length>1&&(e=arguments[1]),this.trigger("textdata",e)}getCache(){return this.cache_}resetCache_(){this.cache_={currentTime:0,initTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],playbackRates:[],volume:1}}techCall_(e,i){this.ready(function(){if(e in fR)return dR(this.middleware_,this.tech_,e,i);if(e in n2)return i2(this.middleware_,this.tech_,e,i);try{this.tech_&&this.tech_[e](i)}catch(n){throw ve(n),n}},!0)}techGet_(e){if(!(!this.tech_||!this.tech_.isReady_)){if(e in hR)return cR(this.middleware_,this.tech_,e);if(e in n2)return i2(this.middleware_,this.tech_,e);try{return this.tech_[e]()}catch(i){throw this.tech_[e]===void 0?(ve(`Video.js: ${e} method not defined for ${this.techName_} playback technology.`,i),i):i.name==="TypeError"?(ve(`Video.js: ${e} unavailable on ${this.techName_} playback technology element.`,i),this.tech_.isReady_=!1,i):(ve(i),i)}}}play(){return new Promise(e=>{this.play_(e)})}play_(e=an){this.playCallbacks_.push(e);const i=!!(!this.changingSrc_&&(this.src()||this.currentSrc())),n=!!(nh||Ft);if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!i){this.waitToPlay_=o=>{this.play_()},this.one(["ready","loadstart"],this.waitToPlay_),!i&&n&&this.load();return}const r=this.techGet_("play");n&&this.hasClass("vjs-ended")&&this.resetProgressBar_(),r===null?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(r)}runPlayTerminatedQueue_(){const e=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],e.forEach(function(i){i()})}runPlayCallbacks_(e){const i=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],i.forEach(function(n){n(e)})}pause(){this.techCall_("pause")}paused(){return this.techGet_("paused")!==!1}played(){return this.techGet_("played")||mn(0,0)}scrubbing(e){if(typeof e>"u")return this.scrubbing_;this.scrubbing_=!!e,this.techCall_("setScrubbing",this.scrubbing_),e?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")}currentTime(e){if(e===void 0)return this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime;if(e<0&&(e=0),!this.isReady_||this.changingSrc_||!this.tech_||!this.tech_.isReady_){this.cache_.initTime=e,this.off("canplay",this.boundApplyInitTime_),this.one("canplay",this.boundApplyInitTime_);return}this.techCall_("setCurrentTime",e),this.cache_.initTime=0,isFinite(e)&&(this.cache_.currentTime=Number(e))}applyInitTime_(){this.currentTime(this.cache_.initTime)}duration(e){if(e===void 0)return this.cache_.duration!==void 0?this.cache_.duration:NaN;e=parseFloat(e),e<0&&(e=1/0),e!==this.cache_.duration&&(this.cache_.duration=e,e===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),isNaN(e)||this.trigger("durationchange"))}remainingTime(){return this.duration()-this.currentTime()}remainingTimeDisplay(){return Math.floor(this.duration())-Math.floor(this.currentTime())}buffered(){let e=this.techGet_("buffered");return(!e||!e.length)&&(e=mn(0,0)),e}bufferedPercent(){return NS(this.buffered(),this.duration())}bufferedEnd(){const e=this.buffered(),i=this.duration();let n=e.end(e.length-1);return n>i&&(n=i),n}volume(e){let i;if(e!==void 0){i=Math.max(0,Math.min(1,e)),this.cache_.volume=i,this.techCall_("setVolume",i),i>0&&this.lastVolume_(i);return}return i=parseFloat(this.techGet_("volume")),isNaN(i)?1:i}muted(e){if(e!==void 0){this.techCall_("setMuted",e);return}return this.techGet_("muted")||!1}defaultMuted(e){return e!==void 0&&this.techCall_("setDefaultMuted",e),this.techGet_("defaultMuted")||!1}lastVolume_(e){if(e!==void 0&&e!==0){this.cache_.lastVolume=e;return}return this.cache_.lastVolume}supportsFullScreen(){return this.techGet_("supportsFullScreen")||!1}isFullscreen(e){if(e!==void 0){const i=this.isFullscreen_;this.isFullscreen_=!!e,this.isFullscreen_!==i&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),this.toggleFullscreenClass_();return}return this.isFullscreen_}requestFullscreen(e){this.isInPictureInPicture()&&this.exitPictureInPicture();const i=this;return new Promise((n,r)=>{function s(){i.off("fullscreenerror",a),i.off("fullscreenchange",o)}function o(){s(),n()}function a(u,d){s(),r(d)}i.one("fullscreenchange",o),i.one("fullscreenerror",a);const l=i.requestFullscreenHelper_(e);l&&(l.then(s,s),l.then(n,r))})}requestFullscreenHelper_(e){let i;if(this.fsApi_.prefixed||(i=this.options_.fullscreen&&this.options_.fullscreen.options||{},e!==void 0&&(i=e)),this.fsApi_.requestFullscreen){const n=this.el_[this.fsApi_.requestFullscreen](i);return n&&n.then(()=>this.isFullscreen(!0),()=>this.isFullscreen(!1)),n}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("enterFullScreen"):this.enterFullWindow()}exitFullscreen(){const e=this;return new Promise((i,n)=>{function r(){e.off("fullscreenerror",o),e.off("fullscreenchange",s)}function s(){r(),i()}function o(l,u){r(),n(u)}e.one("fullscreenchange",s),e.one("fullscreenerror",o);const a=e.exitFullscreenHelper_();a&&(a.then(r,r),a.then(i,n))})}exitFullscreenHelper_(){if(this.fsApi_.requestFullscreen){const e=K[this.fsApi_.exitFullscreen]();return e&&an(e.then(()=>this.isFullscreen(!1))),e}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("exitFullScreen"):this.exitFullWindow()}enterFullWindow(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=K.documentElement.style.overflow,hi(K,"keydown",this.boundFullWindowOnEscKey_),K.documentElement.style.overflow="hidden",Kr(K.body,"vjs-full-window"),this.trigger("enterFullWindow")}fullWindowOnEscKey(e){pe.isEventKey(e,"Esc")&&this.isFullscreen()===!0&&(this.isFullWindow?this.exitFullWindow():this.exitFullscreen())}exitFullWindow(){this.isFullscreen(!1),this.isFullWindow=!1,Ct(K,"keydown",this.boundFullWindowOnEscKey_),K.documentElement.style.overflow=this.docOrigOverflow,rh(K.body,"vjs-full-window"),this.trigger("exitFullWindow")}disablePictureInPicture(e){if(e===void 0)return this.techGet_("disablePictureInPicture");this.techCall_("setDisablePictureInPicture",e),this.options_.disablePictureInPicture=e,this.trigger("disablepictureinpicturechanged")}isInPictureInPicture(e){if(e!==void 0){this.isInPictureInPicture_=!!e,this.togglePictureInPictureClass_();return}return!!this.isInPictureInPicture_}requestPictureInPicture(){if(this.options_.enableDocumentPictureInPicture&&O.documentPictureInPicture){const e=K.createElement(this.el().tagName);return e.classList=this.el().classList,e.classList.add("vjs-pip-container"),this.posterImage&&e.appendChild(this.posterImage.el().cloneNode(!0)),this.titleBar&&e.appendChild(this.titleBar.el().cloneNode(!0)),e.appendChild(ge("p",{className:"vjs-pip-text"},{},this.localize("Playing in picture-in-picture"))),O.documentPictureInPicture.requestWindow({width:this.videoWidth(),height:this.videoHeight()}).then(i=>(xS(i),this.el_.parentNode.insertBefore(e,this.el_),i.document.body.appendChild(this.el_),i.document.body.classList.add("vjs-pip-window"),this.player_.isInPictureInPicture(!0),this.player_.trigger("enterpictureinpicture"),i.addEventListener("pagehide",n=>{const r=n.target.querySelector(".video-js");e.parentNode.replaceChild(r,e),this.player_.isInPictureInPicture(!1),this.player_.trigger("leavepictureinpicture")}),i))}return"pictureInPictureEnabled"in K&&this.disablePictureInPicture()===!1?this.techGet_("requestPictureInPicture"):Promise.reject("No PiP mode is available")}exitPictureInPicture(){if(O.documentPictureInPicture&&O.documentPictureInPicture.window)return O.documentPictureInPicture.window.close(),Promise.resolve();if("pictureInPictureEnabled"in K)return K.exitPictureInPicture()}handleKeyDown(e){const{userActions:i}=this.options_;!i||!i.hotkeys||(r=>{const s=r.tagName.toLowerCase();if(r.isContentEditable)return!0;const o=["button","checkbox","hidden","radio","reset","submit"];return s==="input"?o.indexOf(r.type)===-1:["textarea"].indexOf(s)!==-1})(this.el_.ownerDocument.activeElement)||(typeof i.hotkeys=="function"?i.hotkeys.call(this,e):this.handleHotkeys(e))}handleHotkeys(e){const i=this.options_.userActions?this.options_.userActions.hotkeys:{},{fullscreenKey:n=o=>pe.isEventKey(o,"f"),muteKey:r=o=>pe.isEventKey(o,"m"),playPauseKey:s=o=>pe.isEventKey(o,"k")||pe.isEventKey(o,"Space")}=i;if(n.call(this,e)){e.preventDefault(),e.stopPropagation();const o=$.getComponent("FullscreenToggle");K[this.fsApi_.fullscreenEnabled]!==!1&&o.prototype.handleClick.call(this,e)}else r.call(this,e)?(e.preventDefault(),e.stopPropagation(),$.getComponent("MuteToggle").prototype.handleClick.call(this,e)):s.call(this,e)&&(e.preventDefault(),e.stopPropagation(),$.getComponent("PlayToggle").prototype.handleClick.call(this,e))}canPlayType(e){let i;for(let n=0,r=this.options_.techOrder;n<r.length;n++){const s=r[n];let o=me.getTech(s);if(o||(o=$.getComponent(s)),!o){ve.error(`The "${s}" tech is undefined. Skipped browser support check for that tech.`);continue}if(o.isSupported()&&(i=o.canPlayType(e),i))return i}return""}selectSource(e){const i=this.options_.techOrder.map(a=>[a,me.getTech(a)]).filter(([a,l])=>l?l.isSupported():(ve.error(`The "${a}" tech is undefined. Skipped browser support check for that tech.`),!1)),n=function(a,l,u){let d;return a.some(p=>l.some(y=>{if(d=u(p,y),d)return!0})),d};let r;const s=a=>(l,u)=>a(u,l),o=([a,l],u)=>{if(l.canPlaySource(u,this.options_[a.toLowerCase()]))return{source:u,tech:a}};return this.options_.sourceOrder?r=n(e,i,s(o)):r=n(i,e,o),r||!1}handleSrc_(e,i){if(typeof e>"u")return this.cache_.src||"";this.resetRetryOnError_&&this.resetRetryOnError_();const n=jS(e);if(!n.length){this.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0);return}if(this.changingSrc_=!0,i||(this.cache_.sources=n),this.updateSourceCaches_(n[0]),lR(this,n[0],(r,s)=>{if(this.middleware_=s,i||(this.cache_.sources=n),this.updateSourceCaches_(r),this.src_(r)){if(n.length>1)return this.handleSrc_(n.slice(1));this.changingSrc_=!1,this.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0),this.triggerReady();return}uR(s,this.tech_)}),n.length>1){const r=()=>{this.error(null),this.handleSrc_(n.slice(1),!0)},s=()=>{this.off("error",r)};this.one("error",r),this.one("playing",s),this.resetRetryOnError_=()=>{this.off("error",r),this.off("playing",s)}}}src(e){return this.handleSrc_(e,!1)}src_(e){const i=this.selectSource([e]);return i?PS(i.tech,this.techName_)?(this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",e):this.techCall_("src",e.src),this.changingSrc_=!1},!0),!1):(this.changingSrc_=!0,this.loadTech_(i.tech,i.source),this.tech_.ready(()=>{this.changingSrc_=!1}),!1):!0}load(){if(this.tech_&&this.tech_.vhs){this.src(this.currentSource());return}this.techCall_("load")}reset(){if(this.paused())this.doReset_();else{const e=this.play();an(e.then(()=>this.doReset_()))}}doReset_(){this.tech_&&this.tech_.clearTracks("text"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),Rn(this)&&this.trigger("playerreset")}resetControlBarUI_(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()}resetProgressBar_(){this.currentTime(0);const{currentTimeDisplay:e,durationDisplay:i,progressControl:n,remainingTimeDisplay:r}=this.controlBar||{},{seekBar:s}=n||{};e&&e.updateContent(),i&&i.updateContent(),r&&r.updateContent(),s&&(s.update(),s.loadProgressBar&&s.loadProgressBar.update())}resetPlaybackRate_(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()}resetVolumeBar_(){this.volume(1),this.trigger("volumechange")}currentSources(){const e=this.currentSource(),i=[];return Object.keys(e).length!==0&&i.push(e),this.cache_.sources||i}currentSource(){return this.cache_.source||{}}currentSrc(){return this.currentSource()&&this.currentSource().src||""}currentType(){return this.currentSource()&&this.currentSource().type||""}preload(e){if(e!==void 0){this.techCall_("setPreload",e),this.options_.preload=e;return}return this.techGet_("preload")}autoplay(e){if(e===void 0)return this.options_.autoplay||!1;let i;typeof e=="string"&&/(any|play|muted)/.test(e)||e===!0&&this.options_.normalizeAutoplay?(this.options_.autoplay=e,this.manualAutoplay_(typeof e=="string"?e:"play"),i=!1):e?this.options_.autoplay=!0:this.options_.autoplay=!1,i=typeof i>"u"?this.options_.autoplay:i,this.tech_&&this.techCall_("setAutoplay",i)}playsinline(e){return e!==void 0&&(this.techCall_("setPlaysinline",e),this.options_.playsinline=e),this.techGet_("playsinline")}loop(e){if(e!==void 0){this.techCall_("setLoop",e),this.options_.loop=e;return}return this.techGet_("loop")}poster(e){if(e===void 0)return this.poster_;e||(e=""),e!==this.poster_&&(this.poster_=e,this.techCall_("setPoster",e),this.isPosterFromTech_=!1,this.trigger("posterchange"))}handleTechPosterChange_(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){const e=this.tech_.poster()||"";e!==this.poster_&&(this.poster_=e,this.isPosterFromTech_=!0,this.trigger("posterchange"))}}controls(e){if(e===void 0)return!!this.controls_;e=!!e,this.controls_!==e&&(this.controls_=e,this.usingNativeControls()&&this.techCall_("setControls",e),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))}usingNativeControls(e){if(e===void 0)return!!this.usingNativeControls_;e=!!e,this.usingNativeControls_!==e&&(this.usingNativeControls_=e,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))}error(e){if(e===void 0)return this.error_||null;if(xr("beforeerror").forEach(i=>{const n=i(this,e);if(!(yn(n)&&!Array.isArray(n)||typeof n=="string"||typeof n=="number"||n===null)){this.log.error("please return a value that MediaError expects in beforeerror hooks");return}e=n}),this.options_.suppressNotSupportedError&&e&&e.code===4){const i=function(){this.error(e)};this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],i),this.one("loadstart",function(){this.off(["click","touchstart"],i)});return}if(e===null){this.error_=null,this.removeClass("vjs-error"),this.errorDisplay&&this.errorDisplay.close();return}this.error_=new Mt(e),this.addClass("vjs-error"),ve.error(`(CODE:${this.error_.code} ${Mt.errorTypes[this.error_.code]})`,this.error_.message,this.error_),this.trigger("error"),xr("error").forEach(i=>i(this,this.error_))}reportUserActivity(e){this.userActivity_=!0}userActive(e){if(e===void 0)return this.userActive_;if(e=!!e,e!==this.userActive_){if(this.userActive_=e,this.userActive_){this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive");return}this.tech_&&this.tech_.one("mousemove",function(i){i.stopPropagation(),i.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}}listenForUserActivity_(){let e,i,n;const r=Ne(this,this.reportUserActivity),s=function(p){(p.screenX!==i||p.screenY!==n)&&(i=p.screenX,n=p.screenY,r())},o=function(){r(),this.clearInterval(e),e=this.setInterval(r,250)},a=function(p){r(),this.clearInterval(e)};this.on("mousedown",o),this.on("mousemove",s),this.on("mouseup",a),this.on("mouseleave",a);const l=this.getChild("controlBar");l&&!Ft&&!vn&&(l.on("mouseenter",function(p){this.player().options_.inactivityTimeout!==0&&(this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout),this.player().options_.inactivityTimeout=0}),l.on("mouseleave",function(p){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout})),this.on("keydown",r),this.on("keyup",r);let u;const d=function(){if(!this.userActivity_)return;this.userActivity_=!1,this.userActive(!0),this.clearTimeout(u);const p=this.options_.inactivityTimeout;p<=0||(u=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},p))};this.setInterval(d,250)}playbackRate(e){if(e!==void 0){this.techCall_("setPlaybackRate",e);return}return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1}defaultPlaybackRate(e){return e!==void 0?this.techCall_("setDefaultPlaybackRate",e):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1}isAudio(e){if(e!==void 0){this.isAudio_=!!e;return}return!!this.isAudio_}enableAudioOnlyUI_(){this.addClass("vjs-audio-only-mode");const e=this.children(),i=this.getChild("ControlBar"),n=i&&i.currentHeight();e.forEach(r=>{r!==i&&r.el_&&!r.hasClass("vjs-hidden")&&(r.hide(),this.audioOnlyCache_.hiddenChildren.push(r))}),this.audioOnlyCache_.playerHeight=this.currentHeight(),this.height(n),this.trigger("audioonlymodechange")}disableAudioOnlyUI_(){this.removeClass("vjs-audio-only-mode"),this.audioOnlyCache_.hiddenChildren.forEach(e=>e.show()),this.height(this.audioOnlyCache_.playerHeight),this.trigger("audioonlymodechange")}audioOnlyMode(e){if(typeof e!="boolean"||e===this.audioOnlyMode_)return this.audioOnlyMode_;if(this.audioOnlyMode_=e,e){const i=[];return this.isInPictureInPicture()&&i.push(this.exitPictureInPicture()),this.isFullscreen()&&i.push(this.exitFullscreen()),this.audioPosterMode()&&i.push(this.audioPosterMode(!1)),Promise.all(i).then(()=>this.enableAudioOnlyUI_())}return Promise.resolve().then(()=>this.disableAudioOnlyUI_())}enablePosterModeUI_(){(this.tech_&&this.tech_).hide(),this.addClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")}disablePosterModeUI_(){(this.tech_&&this.tech_).show(),this.removeClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")}audioPosterMode(e){return typeof e!="boolean"||e===this.audioPosterMode_?this.audioPosterMode_:(this.audioPosterMode_=e,e?this.audioOnlyMode()?this.audioOnlyMode(!1).then(()=>{this.enablePosterModeUI_()}):Promise.resolve().then(()=>{this.enablePosterModeUI_()}):Promise.resolve().then(()=>{this.disablePosterModeUI_()}))}addTextTrack(e,i,n){if(this.tech_)return this.tech_.addTextTrack(e,i,n)}addRemoteTextTrack(e,i){if(this.tech_)return this.tech_.addRemoteTextTrack(e,i)}removeRemoteTextTrack(e={}){let{track:i}=e;if(i||(i=e),this.tech_)return this.tech_.removeRemoteTextTrack(i)}getVideoPlaybackQuality(){return this.techGet_("getVideoPlaybackQuality")}videoWidth(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0}videoHeight(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0}language(e){if(e===void 0)return this.language_;this.language_!==String(e).toLowerCase()&&(this.language_=String(e).toLowerCase(),Rn(this)&&this.trigger("languagechange"))}languages(){return Oe(Re.prototype.options_.languages,this.languages_)}toJSON(){const e=Oe(this.options_),i=e.tracks;e.tracks=[];for(let n=0;n<i.length;n++){let r=i[n];r=Oe(r),r.player=void 0,e.tracks[n]=r}return e}createModal(e,i){i=i||{},i.content=e||"";const n=new Fo(this,i);return this.addChild(n),n.on("dispose",()=>{this.removeChild(n)}),n.open(),n}updateCurrentBreakpoint_(){if(!this.responsive())return;const e=this.currentBreakpoint(),i=this.currentWidth();for(let n=0;n<qm.length;n++){const r=qm[n],s=this.breakpoints_[r];if(i<=s){if(e===r)return;e&&this.removeClass(uc[e]),this.addClass(uc[r]),this.breakpoint_=r;break}}}removeCurrentBreakpoint_(){const e=this.currentBreakpointClass();this.breakpoint_="",e&&this.removeClass(e)}breakpoints(e){return e===void 0?Object.assign(this.breakpoints_):(this.breakpoint_="",this.breakpoints_=Object.assign({},KR,e),this.updateCurrentBreakpoint_(),Object.assign(this.breakpoints_))}responsive(e){if(e===void 0)return this.responsive_;e=!!e;const i=this.responsive_;if(e!==i)return this.responsive_=e,e?(this.on("playerresize",this.boundUpdateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.boundUpdateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),e}currentBreakpoint(){return this.breakpoint_}currentBreakpointClass(){return uc[this.breakpoint_]||""}loadMedia(e,i){if(!e||typeof e!="object")return;const n=this.crossOrigin();this.reset(),this.cache_.media=Oe(e);const{artist:r,artwork:s,description:o,poster:a,src:l,textTracks:u,title:d}=this.cache_.media;!s&&a&&(this.cache_.media.artwork=[{src:a,type:id(a)}]),n&&this.crossOrigin(n),l&&this.src(l),a&&this.poster(a),Array.isArray(u)&&u.forEach(p=>this.addRemoteTextTrack(p,!1)),this.titleBar&&this.titleBar.update({title:d,description:o||r||""}),this.ready(i)}getMedia(){if(!this.cache_.media){const e=this.poster(),i=this.currentSources(),n=Array.prototype.map.call(this.remoteTextTracks(),s=>({kind:s.kind,label:s.label,language:s.language,src:s.src})),r={src:i,textTracks:n};return e&&(r.poster=e,r.artwork=[{src:r.poster,type:id(r.poster)}]),r}return Oe(this.cache_.media)}static getTagSettings(e){const i={sources:[],tracks:[]},n=tr(e),r=n["data-setup"];if($a(e,"vjs-fill")&&(n.fill=!0),$a(e,"vjs-fluid")&&(n.fluid=!0),r!==null){const[s,o]=P5(r||"{}");s&&ve.error(s),Object.assign(n,o)}if(Object.assign(i,n),e.hasChildNodes()){const s=e.childNodes;for(let o=0,a=s.length;o<a;o++){const l=s[o],u=l.nodeName.toLowerCase();u==="source"?i.sources.push(tr(l)):u==="track"&&i.tracks.push(tr(l))}}return i}debug(e){if(e===void 0)return this.debugEnabled_;e?(this.trigger("debugon"),this.previousLogLevel_=this.log.level,this.log.level("debug"),this.debugEnabled_=!0):(this.trigger("debugoff"),this.log.level(this.previousLogLevel_),this.previousLogLevel_=void 0,this.debugEnabled_=!1)}playbackRates(e){if(e===void 0)return this.cache_.playbackRates;Array.isArray(e)&&e.every(i=>typeof i=="number")&&(this.cache_.playbackRates=e,this.trigger("playbackrateschange"))}}Lt.names.forEach(function(t){const e=Lt[t];Re.prototype[e.getterName]=function(){return this.tech_?this.tech_[e.getterName]():(this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName])}});Re.prototype.crossorigin=Re.prototype.crossOrigin;Re.players={};const ya=O.navigator;Re.prototype.options_={techOrder:me.defaultTechOrder_,html5:{},enableSourceset:!0,inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","titleBar","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:ya&&(ya.languages&&ya.languages[0]||ya.userLanguage||ya.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",normalizeAutoplay:!1,fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1,audioOnlyMode:!1,audioPosterMode:!1};["ended","seeking","seekable","networkState","readyState"].forEach(function(t){Re.prototype[t]=function(){return this.techGet_(t)}});cE.forEach(function(t){Re.prototype[`handleTech${Ke(t)}_`]=function(){return this.trigger(t)}});$.registerComponent("Player",Re);const nd="plugin",Zs="activePlugins_",Us={},rd=t=>Us.hasOwnProperty(t),cc=t=>rd(t)?Us[t]:void 0,dE=(t,e)=>{t[Zs]=t[Zs]||{},t[Zs][e]=!0},sd=(t,e,i)=>{const n=(i?"before":"")+"pluginsetup";t.trigger(n,e),t.trigger(n+":"+e.name,e)},YR=function(t,e){const i=function(){sd(this,{name:t,plugin:e,instance:null},!0);const n=e.apply(this,arguments);return dE(this,t),sd(this,{name:t,plugin:e,instance:n}),n};return Object.keys(e).forEach(function(n){i[n]=e[n]}),i},v2=(t,e)=>(e.prototype.name=t,function(...i){sd(this,{name:t,plugin:e,instance:null},!0);const n=new e(this,...i);return this[t]=()=>n,sd(this,n.getEventHash()),n});class Qt{constructor(e){if(this.constructor===Qt)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=e,this.log||(this.log=this.player.log.createLogger(this.name)),$0(this),delete this.trigger,AS(this,this.constructor.defaultState),dE(e,this.name),this.dispose=this.dispose.bind(this),e.on("dispose",this.dispose)}version(){return this.constructor.VERSION}getEventHash(e={}){return e.name=this.name,e.plugin=this.constructor,e.instance=this,e}trigger(e,i={}){return Bo(this.eventBusEl_,e,this.getEventHash(i))}handleStateChanged(e){}dispose(){const{name:e,player:i}=this;this.trigger("dispose"),this.off(),i.off("dispose",this.dispose),i[Zs][e]=!1,this.player=this.state=null,i[e]=v2(e,Us[e])}static isBasic(e){const i=typeof e=="string"?cc(e):e;return typeof i=="function"&&!Qt.prototype.isPrototypeOf(i.prototype)}static registerPlugin(e,i){if(typeof e!="string")throw new Error(`Illegal plugin name, "${e}", must be a string, was ${typeof e}.`);if(rd(e))ve.warn(`A plugin named "${e}" already exists. You may want to avoid re-registering plugins!`);else if(Re.prototype.hasOwnProperty(e))throw new Error(`Illegal plugin name, "${e}", cannot share a name with an existing player method!`);if(typeof i!="function")throw new Error(`Illegal plugin for "${e}", must be a function, was ${typeof i}.`);return Us[e]=i,e!==nd&&(Qt.isBasic(i)?Re.prototype[e]=YR(e,i):Re.prototype[e]=v2(e,i)),i}static deregisterPlugin(e){if(e===nd)throw new Error("Cannot de-register base plugin.");rd(e)&&(delete Us[e],delete Re.prototype[e])}static getPlugins(e=Object.keys(Us)){let i;return e.forEach(n=>{const r=cc(n);r&&(i=i||{},i[n]=r)}),i}static getPluginVersion(e){const i=cc(e);return i&&i.VERSION||""}}Qt.getPlugin=cc;Qt.BASE_PLUGIN_NAME=nd;Qt.registerPlugin(nd,Qt);Re.prototype.usingPlugin=function(t){return!!this[Zs]&&this[Zs][t]===!0};Re.prototype.hasPlugin=function(t){return!!rd(t)};function QR(t,e){let i=!1;return function(...n){return i||ve.warn(t),i=!0,e.apply(this,n)}}function Qi(t,e,i,n){return QR(`${e} is deprecated and will be removed in ${t}.0; please use ${i} instead.`,n)}const hE=t=>t.indexOf("#")===0?t.slice(1):t;function F(t,e,i){let n=F.getPlayer(t);if(n)return e&&ve.warn(`Player "${t}" is already initialised. Options will not be applied.`),i&&n.ready(i),n;const r=typeof t=="string"?Tr("#"+hE(t)):t;if(!Mo(r))throw new TypeError("The element or ID supplied is not valid. (videojs)");const o=("getRootNode"in r?r.getRootNode()instanceof O.ShadowRoot:!1)?r.getRootNode():r.ownerDocument.body;(!r.ownerDocument.defaultView||!o.contains(r))&&ve.warn("The element supplied is not included in the DOM"),e=e||{},e.restoreEl===!0&&(e.restoreEl=(r.parentNode&&r.parentNode.hasAttribute("data-vjs-player")?r.parentNode:r).cloneNode(!0)),xr("beforesetup").forEach(l=>{const u=l(r,Oe(e));if(!yn(u)||Array.isArray(u)){ve.error("please return an object in beforesetup hooks");return}e=Oe(e,u)});const a=$.getComponent("Player");return n=new a(r,e,i),xr("setup").forEach(l=>l(n)),n}F.hooks_=An;F.hooks=xr;F.hook=IN;F.hookOnce=ON;F.removeHook=eS;if(O.VIDEOJS_NO_DYNAMIC_STYLE!==!0&&Ro()){let t=Tr(".vjs-styles-defaults");if(!t){t=SS("vjs-styles-defaults");const e=Tr("head");e&&e.insertBefore(t,e.firstChild),ES(t,`
      .video-js {
        width: 300px;
        height: 150px;
      }

      .vjs-fluid:not(.vjs-audio-only-mode) {
        padding-top: 56.25%
      }
    `)}}Fm(1,F);F.VERSION=Zw;F.options=Re.prototype.options_;F.getPlayers=()=>Re.players;F.getPlayer=t=>{const e=Re.players;let i;if(typeof t=="string"){const n=hE(t),r=e[n];if(r)return r;i=Tr("#"+n)}else i=t;if(Mo(i)){const{player:n,playerId:r}=i;if(n||e[r])return n||e[r]}};F.getAllPlayers=()=>Object.keys(Re.players).map(t=>Re.players[t]).filter(Boolean);F.players=Re.players;F.getComponent=$.getComponent;F.registerComponent=(t,e)=>(me.isTech(e)&&ve.warn(`The ${t} tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)`),$.registerComponent.call($,t,e));F.getTech=me.getTech;F.registerTech=me.registerTech;F.use=aR;Object.defineProperty(F,"middleware",{value:{},writeable:!1,enumerable:!0});Object.defineProperty(F.middleware,"TERMINATOR",{value:td,writeable:!1,enumerable:!0});F.browser=MN;F.obj=RN;F.mergeOptions=Qi(9,"videojs.mergeOptions","videojs.obj.merge",Oe);F.defineLazyProperty=Qi(9,"videojs.defineLazyProperty","videojs.obj.defineLazyProperty",Zd);F.bind=Qi(9,"videojs.bind","native Function.prototype.bind",Ne);F.registerPlugin=Qt.registerPlugin;F.deregisterPlugin=Qt.deregisterPlugin;F.plugin=(t,e)=>(ve.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),Qt.registerPlugin(t,e));F.getPlugins=Qt.getPlugins;F.getPlugin=Qt.getPlugin;F.getPluginVersion=Qt.getPluginVersion;F.addLanguage=function(t,e){return t=(""+t).toLowerCase(),F.options.languages=Oe(F.options.languages,{[t]:e}),F.options.languages[t]};F.log=ve;F.createLogger=iS;F.time=YN;F.createTimeRange=Qi(9,"videojs.createTimeRange","videojs.time.createTimeRanges",mn);F.createTimeRanges=Qi(9,"videojs.createTimeRanges","videojs.time.createTimeRanges",mn);F.formatTime=Qi(9,"videojs.formatTime","videojs.time.formatTime",ns);F.setFormatTime=Qi(9,"videojs.setFormatTime","videojs.time.setFormatTime",OS);F.resetFormatTime=Qi(9,"videojs.resetFormatTime","videojs.time.resetFormatTime",LS);F.parseUrl=Qi(9,"videojs.parseUrl","videojs.url.parseUrl",H0);F.isCrossOrigin=Qi(9,"videojs.isCrossOrigin","videojs.url.isCrossOrigin",dh);F.EventTarget=Oi;F.any=U0;F.on=hi;F.one=uh;F.off=Ct;F.trigger=Bo;F.xhr=nw;F.TextTrack=Ml;F.AudioTrack=BS;F.VideoTrack=FS;["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(t=>{F[t]=function(){return ve.warn(`videojs.${t}() is deprecated; use videojs.dom.${t}() instead`),TS[t].apply(null,arguments)}});F.computedStyle=Qi(9,"videojs.computedStyle","videojs.dom.computedStyle",xo);F.dom=TS;F.fn=HN;F.num=kR;F.str=XN;F.url=sR;/*! @name videojs-contrib-quality-levels @version 4.0.0 @license Apache-2.0 */class JR{constructor(e){let i=this;return i.id=e.id,i.label=i.id,i.width=e.width,i.height=e.height,i.bitrate=e.bandwidth,i.frameRate=e.frameRate,i.enabled_=e.enabled,Object.defineProperty(i,"enabled",{get(){return i.enabled_()},set(n){i.enabled_(n)}}),i}}class od extends F.EventTarget{constructor(){super();let e=this;return e.levels_=[],e.selectedIndex_=-1,Object.defineProperty(e,"selectedIndex",{get(){return e.selectedIndex_}}),Object.defineProperty(e,"length",{get(){return e.levels_.length}}),e[Symbol.iterator]=()=>e.levels_.values(),e}addQualityLevel(e){let i=this.getQualityLevelById(e.id);if(i)return i;const n=this.levels_.length;return i=new JR(e),""+n in this||Object.defineProperty(this,n,{get(){return this.levels_[n]}}),this.levels_.push(i),this.trigger({qualityLevel:i,type:"addqualitylevel"}),i}removeQualityLevel(e){let i=null;for(let n=0,r=this.length;n<r;n++)if(this[n]===e){i=this.levels_.splice(n,1)[0],this.selectedIndex_===n?this.selectedIndex_=-1:this.selectedIndex_>n&&this.selectedIndex_--;break}return i&&this.trigger({qualityLevel:e,type:"removequalitylevel"}),i}getQualityLevelById(e){for(let i=0,n=this.length;i<n;i++){const r=this[i];if(r.id===e)return r}return null}dispose(){this.selectedIndex_=-1,this.levels_.length=0}}od.prototype.allowedEvents_={change:"change",addqualitylevel:"addqualitylevel",removequalitylevel:"removequalitylevel"};for(const t in od.prototype.allowedEvents_)od.prototype["on"+t]=null;var fE="4.0.0";const ZR=function(t,e){const i=t.qualityLevels,n=new od,r=function(){n.dispose(),t.qualityLevels=i,t.off("dispose",r)};return t.on("dispose",r),t.qualityLevels=()=>n,t.qualityLevels.VERSION=fE,n},pE=function(t){return ZR(this,F.obj.merge({},t))};F.registerPlugin("qualityLevels",pE);pE.VERSION=fE;/*! @name @videojs/http-streaming @version 3.5.3 @license Apache-2.0 */const zi=b8,ad=(t,e)=>e&&e.responseURL&&t!==e.responseURL?e.responseURL:t,Ji=t=>F.log.debug?F.log.debug.bind(F,"VHS:",`${t} >`):function(){};function Ae(...t){const e=F.obj||F;return(e.merge||e.mergeOptions).apply(e,t)}function Et(...t){const e=F.time||F;return(e.createTimeRanges||e.createTimeRanges).apply(e,t)}const wr=1/30,ln=wr*3,mE=function(t,e){const i=[];let n;if(t&&t.length)for(n=0;n<t.length;n++)e(t.start(n),t.end(n))&&i.push([t.start(n),t.end(n)]);return Et(i)},$s=function(t,e){return mE(t,function(i,n){return i-ln<=e&&n+ln>=e})},$u=function(t,e){return mE(t,function(i){return i-wr>=e})},eM=function(t){if(t.length<2)return Et();const e=[];for(let i=1;i<t.length;i++){const n=t.end(i-1),r=t.start(i);e.push([n,r])}return Et(e)},tM=function(t,e){let i=null,n=null,r=0;const s=[],o=[];if(!t||!t.length||!e||!e.length)return Et();let a=t.length;for(;a--;)s.push({time:t.start(a),type:"start"}),s.push({time:t.end(a),type:"end"});for(a=e.length;a--;)s.push({time:e.start(a),type:"start"}),s.push({time:e.end(a),type:"end"});for(s.sort(function(l,u){return l.time-u.time}),a=0;a<s.length;a++)s[a].type==="start"?(r++,r===2&&(i=s[a].time)):s[a].type==="end"&&(r--,r===1&&(n=s[a].time)),i!==null&&n!==null&&(o.push([i,n]),i=null,n=null);return Et(o)},gE=t=>{const e=[];if(!t||!t.length)return"";for(let i=0;i<t.length;i++)e.push(t.start(i)+" => "+t.end(i));return e.join(", ")},iM=function(t,e,i=1){return((t.length?t.end(t.length-1):0)-e)/i},Hr=t=>{const e=[];for(let i=0;i<t.length;i++)e.push({start:t.start(i),end:t.end(i)});return e},nM=function(t,e){if(t===e)return!1;if(!t&&e||!e&&t||t.length!==e.length)return!0;for(let i=0;i<t.length;i++)if(t.start(i)!==e.start(i)||t.end(i)!==e.end(i))return!0;return!1},_2=function(t){if(!(!t||!t.length||!t.end))return t.end(t.length-1)},ly=function(t,e){let i=0;if(!t||!t.length)return i;for(let n=0;n<t.length;n++){const r=t.start(n),s=t.end(n);if(!(e>s)){if(e>r&&e<=s){i+=s-e;continue}i+=s-r}}return i},uy=(t,e)=>{if(!e.preload)return e.duration;let i=0;return(e.parts||[]).forEach(function(n){i+=n.duration}),(e.preloadHints||[]).forEach(function(n){n.type==="PART"&&(i+=t.partTargetDuration)}),i},Wm=t=>(t.segments||[]).reduce((e,i,n)=>(i.parts?i.parts.forEach(function(r,s){e.push({duration:r.duration,segmentIndex:n,partIndex:s,part:r,segment:i})}):e.push({duration:i.duration,segmentIndex:n,partIndex:null,segment:i,part:null}),e),[]),yE=t=>{const e=t.segments&&t.segments.length&&t.segments[t.segments.length-1];return e&&e.parts||[]},vE=({preloadSegment:t})=>{if(!t)return;const{parts:e,preloadHints:i}=t;let n=(i||[]).reduce((r,s)=>r+(s.type==="PART"?1:0),0);return n+=e&&e.length?e.length:0,n},_E=(t,e)=>{if(e.endList)return 0;if(t&&t.suggestedPresentationDelay)return t.suggestedPresentationDelay;const i=yE(e).length>0;return i&&e.serverControl&&e.serverControl.partHoldBack?e.serverControl.partHoldBack:i&&e.partTargetDuration?e.partTargetDuration*3:e.serverControl&&e.serverControl.holdBack?e.serverControl.holdBack:e.targetDuration?e.targetDuration*3:0},rM=function(t,e){let i=0,n=e-t.mediaSequence,r=t.segments[n];if(r){if(typeof r.start<"u")return{result:r.start,precise:!0};if(typeof r.end<"u")return{result:r.end-r.duration,precise:!0}}for(;n--;){if(r=t.segments[n],typeof r.end<"u")return{result:i+r.end,precise:!0};if(i+=uy(t,r),typeof r.start<"u")return{result:i+r.start,precise:!0}}return{result:i,precise:!1}},sM=function(t,e){let i=0,n,r=e-t.mediaSequence;for(;r<t.segments.length;r++){if(n=t.segments[r],typeof n.start<"u")return{result:n.start-i,precise:!0};if(i+=uy(t,n),typeof n.end<"u")return{result:n.end-i,precise:!0}}return{result:-1,precise:!1}},bE=function(t,e,i){if(typeof e>"u"&&(e=t.mediaSequence+t.segments.length),e<t.mediaSequence)return 0;const n=rM(t,e);if(n.precise)return n.result;const r=sM(t,e);return r.precise?r.result:n.result+i},xE=function(t,e,i){if(!t)return 0;if(typeof i!="number"&&(i=0),typeof e>"u"){if(t.totalDuration)return t.totalDuration;if(!t.endList)return O.Infinity}return bE(t,e,i)},Ha=function({defaultDuration:t,durationList:e,startIndex:i,endIndex:n}){let r=0;if(i>n&&([i,n]=[n,i]),i<0){for(let s=i;s<Math.min(0,n);s++)r+=t;i=0}for(let s=i;s<n;s++)r+=e[s].duration;return r},TE=function(t,e,i,n){if(!t||!t.segments)return null;if(t.endList)return xE(t);if(e===null)return null;e=e||0;let r=bE(t,t.mediaSequence+t.segments.length,e);return i&&(n=typeof n=="number"?n:_E(null,t),r-=n),Math.max(0,r)},oM=function(t,e,i){const r=e||0,s=TE(t,e,!0,i);return s===null?Et():Et(r,s)},aM=function({playlist:t,currentTime:e,startingSegmentIndex:i,startingPartIndex:n,startTime:r,exactManifestTimings:s}){let o=e-r;const a=Wm(t);let l=0;for(let u=0;u<a.length;u++){const d=a[u];if(i===d.segmentIndex&&!(typeof n=="number"&&typeof d.partIndex=="number"&&n!==d.partIndex)){l=u;break}}if(o<0){if(l>0)for(let u=l-1;u>=0;u--){const d=a[u];if(o+=d.duration,s){if(o<0)continue}else if(o+wr<=0)continue;return{partIndex:d.partIndex,segmentIndex:d.segmentIndex,startTime:r-Ha({defaultDuration:t.targetDuration,durationList:a,startIndex:l,endIndex:u})}}return{partIndex:a[0]&&a[0].partIndex||null,segmentIndex:a[0]&&a[0].segmentIndex||0,startTime:e}}if(l<0){for(let u=l;u<0;u++)if(o-=t.targetDuration,o<0)return{partIndex:a[0]&&a[0].partIndex||null,segmentIndex:a[0]&&a[0].segmentIndex||0,startTime:e};l=0}for(let u=l;u<a.length;u++){const d=a[u];if(o-=d.duration,s){if(o>0)continue}else if(o-wr>=0)continue;return{partIndex:d.partIndex,segmentIndex:d.segmentIndex,startTime:r+Ha({defaultDuration:t.targetDuration,durationList:a,startIndex:l,endIndex:u})}}return{segmentIndex:a[a.length-1].segmentIndex,partIndex:a[a.length-1].partIndex,startTime:e}},wE=function(t){return t.excludeUntil&&t.excludeUntil>Date.now()},cy=function(t){return t.excludeUntil&&t.excludeUntil===1/0},ph=function(t){const e=wE(t);return!t.disabled&&!e},lM=function(t){return t.disabled},uM=function(t){for(let e=0;e<t.segments.length;e++)if(t.segments[e].key)return!0;return!1},SE=function(t,e){return e.attributes&&e.attributes[t]},cM=function(t,e,i,n=0){return SE("BANDWIDTH",i)?(t*i.attributes.BANDWIDTH-n*8)/e:NaN},Gm=(t,e)=>{if(t.playlists.length===1)return!0;const i=e.attributes.BANDWIDTH||Number.MAX_VALUE;return t.playlists.filter(n=>ph(n)?(n.attributes.BANDWIDTH||0)<i:!1).length===0},dy=(t,e)=>!t&&!e||!t&&e||t&&!e?!1:!!(t===e||t.id&&e.id&&t.id===e.id||t.resolvedUri&&e.resolvedUri&&t.resolvedUri===e.resolvedUri||t.uri&&e.uri&&t.uri===e.uri),b2=function(t,e){const i=t&&t.mediaGroups&&t.mediaGroups.AUDIO||{};let n=!1;for(const r in i){for(const s in i[r])if(n=e(i[r][s]),n)break;if(n)break}return!!n},Ul=t=>{if(!t||!t.playlists||!t.playlists.length)return b2(t,i=>i.playlists&&i.playlists.length||i.uri);for(let e=0;e<t.playlists.length;e++){const i=t.playlists[e],n=i.attributes&&i.attributes.CODECS;if(!(n&&n.split(",").every(s=>uw(s))||b2(t,s=>dy(i,s))))return!1}return!0};var qt={liveEdgeDelay:_E,duration:xE,seekable:oM,getMediaInfoForTime:aM,isEnabled:ph,isDisabled:lM,isExcluded:wE,isIncompatible:cy,playlistEnd:TE,isAes:uM,hasAttribute:SE,estimateSegmentRequestTime:cM,isLowestEnabledRendition:Gm,isAudioOnly:Ul,playlistMatch:dy,segmentDurationWithParts:uy};const{log:EE}=F,hy=(t,e)=>`${t}-${e}`,dM=(t,e,i)=>`placeholder-uri-${t}-${e}-${i}`,hM=({onwarn:t,oninfo:e,manifestString:i,customTagParsers:n=[],customTagMappers:r=[],llhls:s})=>{const o=new D8;t&&o.on("warn",t),e&&o.on("info",e),n.forEach(u=>o.addParser(u)),r.forEach(u=>o.addTagMapper(u)),o.push(i),o.end();const a=o.manifest;if(s||(["preloadSegment","skip","serverControl","renditionReports","partInf","partTargetDuration"].forEach(function(u){a.hasOwnProperty(u)&&delete a[u]}),a.segments&&a.segments.forEach(function(u){["parts","preloadHints"].forEach(function(d){u.hasOwnProperty(d)&&delete u[d]})})),!a.targetDuration){let u=10;a.segments&&a.segments.length&&(u=a.segments.reduce((d,p)=>Math.max(d,p.duration),0)),t&&t(`manifest has no targetDuration defaulting to ${u}`),a.targetDuration=u}const l=yE(a);if(l.length&&!a.partTargetDuration){const u=l.reduce((d,p)=>Math.max(d,p.duration),0);t&&(t(`manifest has no partTargetDuration defaulting to ${u}`),EE.error("LL-HLS manifest has parts but lacks required #EXT-X-PART-INF:PART-TARGET value. See https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis-09#section-4.4.3.7. Playback is not guaranteed.")),a.partTargetDuration=u}return a},$o=(t,e)=>{t.mediaGroups&&["AUDIO","SUBTITLES"].forEach(i=>{if(t.mediaGroups[i])for(const n in t.mediaGroups[i])for(const r in t.mediaGroups[i][n]){const s=t.mediaGroups[i][n][r];e(s,i,n,r)}})},CE=({playlist:t,uri:e,id:i})=>{t.id=i,t.playlistErrors_=0,e&&(t.uri=e),t.attributes=t.attributes||{}},fM=t=>{let e=t.playlists.length;for(;e--;){const i=t.playlists[e];CE({playlist:i,id:hy(e,i.uri)}),i.resolvedUri=zi(t.uri,i.uri),t.playlists[i.id]=i,t.playlists[i.uri]=i,i.attributes.BANDWIDTH||EE.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.")}},pM=t=>{$o(t,e=>{e.uri&&(e.resolvedUri=zi(t.uri,e.uri))})},mM=(t,e)=>{const i=hy(0,e),n={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:O.location.href,resolvedUri:O.location.href,playlists:[{uri:e,id:i,resolvedUri:e,attributes:{}}]};return n.playlists[i]=n.playlists[0],n.playlists[e]=n.playlists[0],n},kE=(t,e,i=dM)=>{t.uri=e;for(let r=0;r<t.playlists.length;r++)if(!t.playlists[r].uri){const s=`placeholder-uri-${r}`;t.playlists[r].uri=s}const n=Ul(t);$o(t,(r,s,o,a)=>{if(!r.playlists||!r.playlists.length){if(n&&s==="AUDIO"&&!r.uri)for(let l=0;l<t.playlists.length;l++){const u=t.playlists[l];if(u.attributes&&u.attributes.AUDIO&&u.attributes.AUDIO===o)return}r.playlists=[Un({},r)]}r.playlists.forEach(function(l,u){const d=i(s,o,a,l),p=hy(u,d);l.uri?l.resolvedUri=l.resolvedUri||zi(t.uri,l.uri):(l.uri=u===0?d:p,l.resolvedUri=l.uri),l.id=l.id||p,l.attributes=l.attributes||{},t.playlists[l.id]=l,t.playlists[l.uri]=l})}),fM(t),pM(t)};class x2{constructor(){this.offset_=null,this.pendingDateRanges_=new Map,this.processedDateRanges_=new Map}setOffset(e=[]){if(this.offset_!==null||!e.length)return;const[i]=e;i.programDateTime!==void 0&&(this.offset_=i.programDateTime/1e3)}setPendingDateRanges(e=[]){if(!e.length)return;const[i]=e,n=i.startDate.getTime();this.trimProcessedDateRanges_(n),this.pendingDateRanges_=e.reduce((r,s)=>(r.set(s.id,s),r),new Map)}processDateRange(e){this.pendingDateRanges_.delete(e.id),this.processedDateRanges_.set(e.id,e)}getDateRangesToProcess(){if(this.offset_===null)return[];const e={},i=[];this.pendingDateRanges_.forEach((n,r)=>{if(!this.processedDateRanges_.has(r)&&(n.startTime=n.startDate.getTime()/1e3-this.offset_,n.processDateRange=()=>this.processDateRange(n),i.push(n),!!n.class))if(e[n.class]){const s=e[n.class].push(n);n.classListIndex=s-1}else e[n.class]=[n],n.classListIndex=0});for(const n of i){const r=e[n.class]||[];n.endDate?n.endTime=n.endDate.getTime()/1e3-this.offset_:n.endOnNext&&r[n.classListIndex+1]?n.endTime=r[n.classListIndex+1].startTime:n.duration?n.endTime=n.startTime+n.duration:n.plannedDuration?n.endTime=n.startTime+n.plannedDuration:n.endTime=n.startTime}return i}trimProcessedDateRanges_(e){new Map(this.processedDateRanges_).forEach((n,r)=>{n.startDate.getTime()<e&&this.processedDateRanges_.delete(r)})}}const{EventTarget:gM}=F,yM=(t,e)=>{if(e.endList||!e.serverControl)return t;const i={};if(e.serverControl.canBlockReload){const{preloadSegment:n}=e;let r=e.mediaSequence+e.segments.length;if(n){const s=n.parts||[],o=vE(e)-1;o>-1&&o!==s.length-1&&(i._HLS_part=o),(o>-1||s.length)&&r--}i._HLS_msn=r}if(e.serverControl&&e.serverControl.canSkipUntil&&(i._HLS_skip=e.serverControl.canSkipDateranges?"v2":"YES"),Object.keys(i).length){const n=new O.URL(t);["_HLS_skip","_HLS_msn","_HLS_part"].forEach(function(r){i.hasOwnProperty(r)&&n.searchParams.set(r,i[r])}),t=n.toString()}return t},vM=(t,e)=>{if(!t)return e;const i=Ae(t,e);if(t.preloadHints&&!e.preloadHints&&delete i.preloadHints,t.parts&&!e.parts)delete i.parts;else if(t.parts&&e.parts)for(let n=0;n<e.parts.length;n++)t.parts&&t.parts[n]&&(i.parts[n]=Ae(t.parts[n],e.parts[n]));return!t.skipped&&e.skipped&&(i.skipped=!1),t.preload&&!e.preload&&(i.preload=!1),i},_M=(t,e,i)=>{const n=t.slice(),r=e.slice();i=i||0;const s=[];let o;for(let a=0;a<r.length;a++){const l=n[a+i],u=r[a];l?(o=l.map||o,s.push(vM(l,u))):(o&&!u.map&&(u.map=o),s.push(u))}return s},DE=(t,e)=>{!t.resolvedUri&&t.uri&&(t.resolvedUri=zi(e,t.uri)),t.key&&!t.key.resolvedUri&&(t.key.resolvedUri=zi(e,t.key.uri)),t.map&&!t.map.resolvedUri&&(t.map.resolvedUri=zi(e,t.map.uri)),t.map&&t.map.key&&!t.map.key.resolvedUri&&(t.map.key.resolvedUri=zi(e,t.map.key.uri)),t.parts&&t.parts.length&&t.parts.forEach(i=>{i.resolvedUri||(i.resolvedUri=zi(e,i.uri))}),t.preloadHints&&t.preloadHints.length&&t.preloadHints.forEach(i=>{i.resolvedUri||(i.resolvedUri=zi(e,i.uri))})},AE=function(t){const e=t.segments||[],i=t.preloadSegment;if(i&&i.parts&&i.parts.length){if(i.preloadHints){for(let n=0;n<i.preloadHints.length;n++)if(i.preloadHints[n].type==="MAP")return e}i.duration=t.targetDuration,i.preload=!0,e.push(i)}return e},PE=(t,e)=>t===e||t.segments&&e.segments&&t.segments.length===e.segments.length&&t.endList===e.endList&&t.mediaSequence===e.mediaSequence&&t.preloadSegment===e.preloadSegment,Xm=(t,e,i=PE)=>{const n=Ae(t,{}),r=n.playlists[e.id];if(!r||i(r,e))return null;e.segments=AE(e);const s=Ae(r,e);if(s.preloadSegment&&!e.preloadSegment&&delete s.preloadSegment,r.segments){if(e.skip){e.segments=e.segments||[];for(let o=0;o<e.skip.skippedSegments;o++)e.segments.unshift({skipped:!0})}s.segments=_M(r.segments,e.segments,e.mediaSequence-r.mediaSequence)}s.segments.forEach(o=>{DE(o,s.resolvedUri)});for(let o=0;o<n.playlists.length;o++)n.playlists[o].id===e.id&&(n.playlists[o]=s);return n.playlists[e.id]=s,n.playlists[e.uri]=s,$o(t,(o,a,l,u)=>{if(o.playlists)for(let d=0;d<o.playlists.length;d++)e.id===o.playlists[d].id&&(o.playlists[d]=s)}),n},Km=(t,e)=>{const i=t.segments||[],n=i[i.length-1],r=n&&n.parts&&n.parts[n.parts.length-1],s=r&&r.duration||n&&n.duration;return e&&s?s*1e3:(t.partTargetDuration||t.targetDuration||10)*500};class zs extends gM{constructor(e,i,n={}){if(super(),!e)throw new Error("A non-empty playlist URL or object is required");this.logger_=Ji("PlaylistLoader");const{withCredentials:r=!1}=n;this.src=e,this.vhs_=i,this.withCredentials=r,this.addDateRangesToTextTrack_=n.addDateRangesToTextTrack;const s=i.options_;this.customTagParsers=s&&s.customTagParsers||[],this.customTagMappers=s&&s.customTagMappers||[],this.llhls=s&&s.llhls,this.dateRangesStorage_=new x2,this.state="HAVE_NOTHING",this.handleMediaupdatetimeout_=this.handleMediaupdatetimeout_.bind(this),this.on("mediaupdatetimeout",this.handleMediaupdatetimeout_),this.on("loadedplaylist",this.handleLoadedPlaylist_.bind(this))}handleLoadedPlaylist_(){const e=this.media();if(!e)return;this.dateRangesStorage_.setOffset(e.segments),this.dateRangesStorage_.setPendingDateRanges(e.dateRanges);const i=this.dateRangesStorage_.getDateRangesToProcess();!i.length||!this.addDateRangesToTextTrack_||this.addDateRangesToTextTrack_(i)}handleMediaupdatetimeout_(){if(this.state!=="HAVE_METADATA")return;const e=this.media();let i=zi(this.main.uri,e.uri);this.llhls&&(i=yM(i,e)),this.state="HAVE_CURRENT_METADATA",this.request=this.vhs_.xhr({uri:i,withCredentials:this.withCredentials},(n,r)=>{if(this.request){if(n)return this.playlistRequestError(this.request,this.media(),"HAVE_METADATA");this.haveMetadata({playlistString:this.request.responseText,url:this.media().uri,id:this.media().id})}})}playlistRequestError(e,i,n){const{uri:r,id:s}=i;this.request=null,n&&(this.state=n),this.error={playlist:this.main.playlists[s],status:e.status,message:`HLS playlist request error at URL: ${r}.`,responseText:e.responseText,code:e.status>=500?4:2},this.trigger("error")}parseManifest_({url:e,manifestString:i}){return hM({onwarn:({message:n})=>this.logger_(`m3u8-parser warn for ${e}: ${n}`),oninfo:({message:n})=>this.logger_(`m3u8-parser info for ${e}: ${n}`),manifestString:i,customTagParsers:this.customTagParsers,customTagMappers:this.customTagMappers,llhls:this.llhls})}haveMetadata({playlistString:e,playlistObject:i,url:n,id:r}){this.request=null,this.state="HAVE_METADATA";const s=i||this.parseManifest_({url:n,manifestString:e});s.lastRequest=Date.now(),CE({playlist:s,uri:n,id:r});const o=Xm(this.main,s);this.targetDuration=s.partTargetDuration||s.targetDuration,this.pendingMedia_=null,o?(this.main=o,this.media_=this.main.playlists[r]):this.trigger("playlistunchanged"),this.updateMediaUpdateTimeout_(Km(this.media(),!!o)),this.trigger("loadedplaylist")}dispose(){this.trigger("dispose"),this.stopRequest(),O.clearTimeout(this.mediaUpdateTimeout),O.clearTimeout(this.finalRenditionTimeout),this.dateRangesStorage_=new x2,this.off()}stopRequest(){if(this.request){const e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}media(e,i){if(!e)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);if(typeof e=="string"){if(!this.main.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.main.playlists[e]}if(O.clearTimeout(this.finalRenditionTimeout),i){const o=(e.partTargetDuration||e.targetDuration)/2*1e3||5e3;this.finalRenditionTimeout=O.setTimeout(this.media.bind(this,e,!1),o);return}const n=this.state,r=!this.media_||e.id!==this.media_.id,s=this.main.playlists[e.id];if(s&&s.endList||e.endList&&e.segments.length){this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=e,r&&(this.trigger("mediachanging"),n==="HAVE_MAIN_MANIFEST"?this.trigger("loadedmetadata"):this.trigger("mediachange"));return}if(this.updateMediaUpdateTimeout_(Km(e,!0)),!!r){if(this.state="SWITCHING_MEDIA",this.request){if(e.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.pendingMedia_=e,this.request=this.vhs_.xhr({uri:e.resolvedUri,withCredentials:this.withCredentials},(o,a)=>{if(this.request){if(e.lastRequest=Date.now(),e.resolvedUri=ad(e.resolvedUri,a),o)return this.playlistRequestError(this.request,e,n);this.haveMetadata({playlistString:a.responseText,url:e.uri,id:e.id}),n==="HAVE_MAIN_MANIFEST"?this.trigger("loadedmetadata"):this.trigger("mediachange")}})}}pause(){this.mediaUpdateTimeout&&(O.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.stopRequest(),this.state==="HAVE_NOTHING"&&(this.started=!1),this.state==="SWITCHING_MEDIA"?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MAIN_MANIFEST":this.state==="HAVE_CURRENT_METADATA"&&(this.state="HAVE_METADATA")}load(e){this.mediaUpdateTimeout&&(O.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null);const i=this.media();if(e){const n=i?(i.partTargetDuration||i.targetDuration)/2*1e3:5e3;this.mediaUpdateTimeout=O.setTimeout(()=>{this.mediaUpdateTimeout=null,this.load()},n);return}if(!this.started){this.start();return}i&&!i.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist")}updateMediaUpdateTimeout_(e){this.mediaUpdateTimeout&&(O.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),!(!this.media()||this.media().endList)&&(this.mediaUpdateTimeout=O.setTimeout(()=>{this.mediaUpdateTimeout=null,this.trigger("mediaupdatetimeout"),this.updateMediaUpdateTimeout_(e)},e))}start(){if(this.started=!0,typeof this.src=="object"){this.src.uri||(this.src.uri=O.location.href),this.src.resolvedUri=this.src.uri,setTimeout(()=>{this.setupInitialPlaylist(this.src)},0);return}this.request=this.vhs_.xhr({uri:this.src,withCredentials:this.withCredentials},(e,i)=>{if(!this.request)return;if(this.request=null,e)return this.error={status:i.status,message:`HLS playlist request error at URL: ${this.src}.`,responseText:i.responseText,code:2},this.state==="HAVE_NOTHING"&&(this.started=!1),this.trigger("error");this.src=ad(this.src,i);const n=this.parseManifest_({manifestString:i.responseText,url:this.src});this.setupInitialPlaylist(n)})}srcUri(){return typeof this.src=="string"?this.src:this.src.uri}setupInitialPlaylist(e){if(this.state="HAVE_MAIN_MANIFEST",e.playlists){this.main=e,kE(this.main,this.srcUri()),e.playlists.forEach(n=>{n.segments=AE(n),n.segments.forEach(r=>{DE(r,n.resolvedUri)})}),this.trigger("loadedplaylist"),this.request||this.media(this.main.playlists[0]);return}const i=this.srcUri()||O.location.href;this.main=mM(e,i),this.haveMetadata({playlistObject:e,url:i,id:this.main.playlists[0].id}),this.trigger("loadedmetadata")}}const{xhr:bM}=F,Ym=function(t,e,i,n){const r=t.responseType==="arraybuffer"?t.response:t.responseText;!e&&r&&(t.responseTime=Date.now(),t.roundTripTime=t.responseTime-t.requestTime,t.bytesReceived=r.byteLength||r.length,t.bandwidth||(t.bandwidth=Math.floor(t.bytesReceived/t.roundTripTime*8*1e3))),i.headers&&(t.responseHeaders=i.headers),e&&e.code==="ETIMEDOUT"&&(t.timedout=!0),!e&&!t.aborted&&i.statusCode!==200&&i.statusCode!==206&&i.statusCode!==0&&(e=new Error("XHR Failed with a response of: "+(t&&(r||t.responseText)))),n(e,t)},xM=(t,e)=>{if(!t||!t.size)return;let i=e;return t.forEach(n=>{i=n(i)}),i},TM=(t,e,i,n)=>{!t||!t.size||t.forEach(r=>{r(e,i,n)})},IE=function(){const t=function e(i,n){i=Ae({timeout:45e3},i);const r=e.beforeRequest||F.Vhs.xhr.beforeRequest,s=e._requestCallbackSet||F.Vhs.xhr._requestCallbackSet||new Set,o=e._responseCallbackSet||F.Vhs.xhr._responseCallbackSet;r&&typeof r=="function"&&(F.log.warn("beforeRequest is deprecated, use onRequest instead."),s.add(r));const a=F.Vhs.xhr.original===!0?bM:F.Vhs.xhr,l=xM(s,i);s.delete(r);const u=a(l||i,function(p,y){return TM(o,u,p,y),Ym(u,p,y,n)}),d=u.abort;return u.abort=function(){return u.aborted=!0,d.apply(u,arguments)},u.uri=i.uri,u.requestTime=Date.now(),u};return t.original=!0,t},wM=function(t){let e;const i=t.offset;return typeof t.offset=="bigint"||typeof t.length=="bigint"?e=O.BigInt(t.offset)+O.BigInt(t.length)-O.BigInt(1):e=t.offset+t.length-1,"bytes="+i+"-"+e},Qm=function(t){const e={};return t.byterange&&(e.Range=wM(t.byterange)),e},SM=function(t,e){return t.start(e)+"-"+t.end(e)},EM=function(t,e){const i=t.toString(16);return"00".substring(0,2-i.length)+i+(e%2?" ":"")},CM=function(t){return t>=32&&t<126?String.fromCharCode(t):"."},OE=function(t){const e={};return Object.keys(t).forEach(i=>{const n=t[i];dw(n)?e[i]={bytes:n.buffer,byteOffset:n.byteOffset,byteLength:n.byteLength}:e[i]=n}),e},ld=function(t){const e=t.byterange||{length:1/0,offset:0};return[e.length,e.offset,t.resolvedUri].join(",")},LE=function(t){return t.resolvedUri},NE=t=>{const e=Array.prototype.slice.call(t),i=16;let n="",r,s;for(let o=0;o<e.length/i;o++)r=e.slice(o*i,o*i+i).map(EM).join(""),s=e.slice(o*i,o*i+i).map(CM).join(""),n+=r+" "+s+`
`;return n},kM=({bytes:t})=>NE(t),DM=t=>{let e="",i;for(i=0;i<t.length;i++)e+=SM(t,i)+" ";return e};var AM=Object.freeze({__proto__:null,createTransferableMessage:OE,initSegmentId:ld,segmentKeyId:LE,hexDump:NE,tagDump:kM,textRanges:DM});const RE=.25,PM=(t,e)=>{if(!e.dateTimeObject)return null;const i=e.videoTimingInfo.transmuxerPrependedSeconds,r=e.videoTimingInfo.transmuxedPresentationStart+i,s=t-r;return new Date(e.dateTimeObject.getTime()+s*1e3)},IM=t=>t.transmuxedPresentationEnd-t.transmuxedPresentationStart-t.transmuxerPrependedSeconds,OM=(t,e)=>{let i;try{i=new Date(t)}catch{return null}if(!e||!e.segments||e.segments.length===0)return null;let n=e.segments[0];if(i<new Date(n.dateTimeObject))return null;for(let l=0;l<e.segments.length-1;l++){n=e.segments[l];const u=new Date(e.segments[l+1].dateTimeObject);if(i<u)break}const r=e.segments[e.segments.length-1],s=r.dateTimeObject,o=r.videoTimingInfo?IM(r.videoTimingInfo):r.duration+r.duration*RE,a=new Date(s.getTime()+o*1e3);return i>a?null:(i>new Date(s)&&(n=r),{segment:n,estimatedStart:n.videoTimingInfo?n.videoTimingInfo.transmuxedPresentationStart:qt.duration(e,e.mediaSequence+e.segments.indexOf(n)),type:n.videoTimingInfo?"accurate":"estimate"})},LM=(t,e)=>{if(!e||!e.segments||e.segments.length===0)return null;let i=0,n;for(let s=0;s<e.segments.length&&(n=e.segments[s],i=n.videoTimingInfo?n.videoTimingInfo.transmuxedPresentationEnd:i+n.duration,!(t<=i));s++);const r=e.segments[e.segments.length-1];if(r.videoTimingInfo&&r.videoTimingInfo.transmuxedPresentationEnd<t)return null;if(t>i){if(t>i+r.duration*RE)return null;n=r}return{segment:n,estimatedStart:n.videoTimingInfo?n.videoTimingInfo.transmuxedPresentationStart:i-n.duration,type:n.videoTimingInfo?"accurate":"estimate"}},NM=(t,e)=>{let i,n;try{i=new Date(t),n=new Date(e)}catch{}const r=i.getTime();return(n.getTime()-r)/1e3},RM=t=>{if(!t.segments||t.segments.length===0)return!1;for(let e=0;e<t.segments.length;e++)if(!t.segments[e].dateTimeObject)return!1;return!0},MM=({playlist:t,time:e=void 0,callback:i})=>{if(!i)throw new Error("getProgramTime: callback must be provided");if(!t||e===void 0)return i({message:"getProgramTime: playlist and time must be provided"});const n=LM(e,t);if(!n)return i({message:"valid programTime was not found"});if(n.type==="estimate")return i({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:n.estimatedStart});const r={mediaSeconds:e},s=PM(e,n.segment);return s&&(r.programDateTime=s.toISOString()),i(null,r)},ME=({programTime:t,playlist:e,retryCount:i=2,seekTo:n,pauseAfterSeek:r=!0,tech:s,callback:o})=>{if(!o)throw new Error("seekToProgramTime: callback must be provided");if(typeof t>"u"||!e||!n)return o({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!e.endList&&!s.hasStarted_)return o({message:"player must be playing a live stream to start buffering"});if(!RM(e))return o({message:"programDateTime tags must be provided in the manifest "+e.resolvedUri});const a=OM(t,e);if(!a)return o({message:`${t} was not found in the stream`});const l=a.segment,u=NM(l.dateTimeObject,t);if(a.type==="estimate"){if(i===0)return o({message:`${t} is not buffered yet. Try again`});n(a.estimatedStart+u),s.one("seeked",()=>{ME({programTime:t,playlist:e,retryCount:i-1,seekTo:n,pauseAfterSeek:r,tech:s,callback:o})});return}const d=l.start+u,p=()=>o(null,s.currentTime());s.one("seeked",p),r&&s.pause(),n(d)},Jf=(t,e)=>{if(t.readyState===4)return e()},BM=(t,e,i)=>{let n=[],r,s=!1;const o=function(d,p,y,T){return p.abort(),s=!0,i(d,p,y,T)},a=function(d,p){if(s)return;if(d)return o(d,p,"",n);const y=p.responseText.substring(n&&n.byteLength||0,p.responseText.length);if(n=U8(n,hw(y,!0)),r=r||ka(n),n.length<10||r&&n.length<r+2)return Jf(p,()=>o(d,p,"",n));const T=I0(n);return T==="ts"&&n.length<188?Jf(p,()=>o(d,p,"",n)):!T&&n.length<376?Jf(p,()=>o(d,p,"",n)):o(null,p,T,n)},u=e({uri:t,beforeSend(d){d.overrideMimeType("text/plain; charset=x-user-defined"),d.addEventListener("progress",function({total:p,loaded:y}){return Ym(d,null,{statusCode:d.status},a)})}},function(d,p){return Ym(u,d,p,a)});return u},{EventTarget:FM}=F,T2=function(t,e){if(!PE(t,e)||t.sidx&&e.sidx&&(t.sidx.offset!==e.sidx.offset||t.sidx.length!==e.sidx.length))return!1;if(!t.sidx&&e.sidx||t.sidx&&!e.sidx||t.segments&&!e.segments||!t.segments&&e.segments)return!1;if(!t.segments&&!e.segments)return!0;for(let i=0;i<t.segments.length;i++){const n=t.segments[i],r=e.segments[i];if(n.uri!==r.uri)return!1;if(!n.byterange&&!r.byterange)continue;const s=n.byterange,o=r.byterange;if(s&&!o||!s&&o||s.offset!==o.offset||s.length!==o.length)return!1}return!0},jM=(t,e,i,n)=>{const r=n.attributes.NAME||i;return`placeholder-uri-${t}-${e}-${r}`},UM=({mainXml:t,srcUrl:e,clientOffset:i,sidxMapping:n,previousManifest:r})=>{const s=uN(t,{manifestUri:e,clientOffset:i,sidxMapping:n,previousManifest:r});return kE(s,e,jM),s},$M=(t,e)=>{$o(t,(i,n,r,s)=>{s in e.mediaGroups[n][r]||delete t.mediaGroups[n][r][s]})},zM=(t,e,i)=>{let n=!0,r=Ae(t,{duration:e.duration,minimumUpdatePeriod:e.minimumUpdatePeriod,timelineStarts:e.timelineStarts});for(let s=0;s<e.playlists.length;s++){const o=e.playlists[s];if(o.sidx){const l=Yd(o.sidx);i&&i[l]&&i[l].sidx&&D0(o,i[l].sidx,o.sidx.resolvedUri)}const a=Xm(r,o,T2);a&&(r=a,n=!1)}return $o(e,(s,o,a,l)=>{if(s.playlists&&s.playlists.length){const u=s.playlists[0].id,d=Xm(r,s.playlists[0],T2);d&&(r=d,l in r.mediaGroups[o][a]||(r.mediaGroups[o][a][l]=s),r.mediaGroups[o][a][l].playlists[0]=r.playlists[u],n=!1)}}),$M(r,e),e.minimumUpdatePeriod!==t.minimumUpdatePeriod&&(n=!1),n?null:r},VM=(t,e)=>(!t.map&&!e.map||!!(t.map&&e.map&&t.map.byterange.offset===e.map.byterange.offset&&t.map.byterange.length===e.map.byterange.length))&&t.uri===e.uri&&t.byterange.offset===e.byterange.offset&&t.byterange.length===e.byterange.length,w2=(t,e)=>{const i={};for(const n in t){const s=t[n].sidx;if(s){const o=Yd(s);if(!e[o])break;const a=e[o].sidxInfo;VM(a,s)&&(i[o]=e[o])}}return i},HM=(t,e)=>{let n=w2(t.playlists,e);return $o(t,(r,s,o,a)=>{if(r.playlists&&r.playlists.length){const l=r.playlists;n=Ae(n,w2(l,e))}}),n};class Jm extends FM{constructor(e,i,n={},r){super(),this.mainPlaylistLoader_=r||this,r||(this.isMain_=!0);const{withCredentials:s=!1}=n;if(this.vhs_=i,this.withCredentials=s,this.addMetadataToTextTrack=n.addMetadataToTextTrack,!e)throw new Error("A non-empty playlist URL or object is required");this.on("minimumUpdatePeriod",()=>{this.refreshXml_()}),this.on("mediaupdatetimeout",()=>{this.refreshMedia_(this.media().id)}),this.state="HAVE_NOTHING",this.loadedPlaylists_={},this.logger_=Ji("DashPlaylistLoader"),this.isMain_?(this.mainPlaylistLoader_.srcUrl=e,this.mainPlaylistLoader_.sidxMapping_={}):this.childPlaylist_=e}requestErrored_(e,i,n){if(!this.request)return!0;if(this.request=null,e)return this.error=typeof e=="object"&&!(e instanceof Error)?e:{status:i.status,message:"DASH request error at URL: "+i.uri,response:i.response,code:2},n&&(this.state=n),this.trigger("error"),!0}addSidxSegments_(e,i,n){const r=e.sidx&&Yd(e.sidx);if(!e.sidx||!r||this.mainPlaylistLoader_.sidxMapping_[r]){this.mediaRequest_=O.setTimeout(()=>n(!1),0);return}const s=ad(e.sidx.resolvedUri),o=(a,l)=>{if(this.requestErrored_(a,l,i))return;const u=this.mainPlaylistLoader_.sidxMapping_;let d;try{d=mN(ce(l.response).subarray(8))}catch(p){this.requestErrored_(p,l,i);return}return u[r]={sidxInfo:e.sidx,sidx:d},D0(e,d,e.sidx.resolvedUri),n(!0)};this.request=BM(s,this.vhs_.xhr,(a,l,u,d)=>{if(a)return o(a,l);if(!u||u!=="mp4")return o({status:l.status,message:`Unsupported ${u||"unknown"} container type for sidx segment at URL: ${s}`,response:"",playlist:e,internal:!0,playlistExclusionDuration:1/0,code:2},l);const{offset:p,length:y}=e.sidx.byterange;if(d.length>=y+p)return o(a,{response:d.subarray(p,p+y),status:l.status,uri:l.uri});this.request=this.vhs_.xhr({uri:s,responseType:"arraybuffer",headers:Qm({byterange:e.sidx.byterange})},o)})}dispose(){this.trigger("dispose"),this.stopRequest(),this.loadedPlaylists_={},O.clearTimeout(this.minimumUpdatePeriodTimeout_),O.clearTimeout(this.mediaRequest_),O.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.mediaRequest_=null,this.minimumUpdatePeriodTimeout_=null,this.mainPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.mainPlaylistLoader_.createMupOnMedia_),this.mainPlaylistLoader_.createMupOnMedia_=null),this.off()}hasPendingRequest(){return this.request||this.mediaRequest_}stopRequest(){if(this.request){const e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}media(e){if(!e)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);const i=this.state;if(typeof e=="string"){if(!this.mainPlaylistLoader_.main.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.mainPlaylistLoader_.main.playlists[e]}const n=!this.media_||e.id!==this.media_.id;if(n&&this.loadedPlaylists_[e.id]&&this.loadedPlaylists_[e.id].endList){this.state="HAVE_METADATA",this.media_=e,n&&(this.trigger("mediachanging"),this.trigger("mediachange"));return}n&&(this.media_&&this.trigger("mediachanging"),this.addSidxSegments_(e,i,r=>{this.haveMetadata({startingState:i,playlist:e})}))}haveMetadata({startingState:e,playlist:i}){this.state="HAVE_METADATA",this.loadedPlaylists_[i.id]=i,this.mediaRequest_=null,this.refreshMedia_(i.id),e==="HAVE_MAIN_MANIFEST"?this.trigger("loadedmetadata"):this.trigger("mediachange")}pause(){this.mainPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.mainPlaylistLoader_.createMupOnMedia_),this.mainPlaylistLoader_.createMupOnMedia_=null),this.stopRequest(),O.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.isMain_&&(O.clearTimeout(this.mainPlaylistLoader_.minimumUpdatePeriodTimeout_),this.mainPlaylistLoader_.minimumUpdatePeriodTimeout_=null),this.state==="HAVE_NOTHING"&&(this.started=!1)}load(e){O.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null;const i=this.media();if(e){const n=i?i.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=O.setTimeout(()=>this.load(),n);return}if(!this.started){this.start();return}i&&!i.endList?(this.isMain_&&!this.minimumUpdatePeriodTimeout_&&(this.trigger("minimumUpdatePeriod"),this.updateMinimumUpdatePeriodTimeout_()),this.trigger("mediaupdatetimeout")):this.trigger("loadedplaylist")}start(){if(this.started=!0,!this.isMain_){this.mediaRequest_=O.setTimeout(()=>this.haveMain_(),0);return}this.requestMain_((e,i)=>{this.haveMain_(),!this.hasPendingRequest()&&!this.media_&&this.media(this.mainPlaylistLoader_.main.playlists[0])})}requestMain_(e){this.request=this.vhs_.xhr({uri:this.mainPlaylistLoader_.srcUrl,withCredentials:this.withCredentials},(i,n)=>{if(this.requestErrored_(i,n)){this.state==="HAVE_NOTHING"&&(this.started=!1);return}const r=n.responseText!==this.mainPlaylistLoader_.mainXml_;if(this.mainPlaylistLoader_.mainXml_=n.responseText,n.responseHeaders&&n.responseHeaders.date?this.mainLoaded_=Date.parse(n.responseHeaders.date):this.mainLoaded_=Date.now(),this.mainPlaylistLoader_.srcUrl=ad(this.mainPlaylistLoader_.srcUrl,n),r){this.handleMain_(),this.syncClientServerClock_(()=>e(n,r));return}return e(n,r)})}syncClientServerClock_(e){const i=cN(this.mainPlaylistLoader_.mainXml_);if(i===null)return this.mainPlaylistLoader_.clientOffset_=this.mainLoaded_-Date.now(),e();if(i.method==="DIRECT")return this.mainPlaylistLoader_.clientOffset_=i.value-Date.now(),e();this.request=this.vhs_.xhr({uri:zi(this.mainPlaylistLoader_.srcUrl,i.value),method:i.method,withCredentials:this.withCredentials},(n,r)=>{if(!this.request)return;if(n)return this.mainPlaylistLoader_.clientOffset_=this.mainLoaded_-Date.now(),e();let s;i.method==="HEAD"?!r.responseHeaders||!r.responseHeaders.date?s=this.mainLoaded_:s=Date.parse(r.responseHeaders.date):s=Date.parse(r.responseText),this.mainPlaylistLoader_.clientOffset_=s-Date.now(),e()})}haveMain_(){this.state="HAVE_MAIN_MANIFEST",this.isMain_?this.trigger("loadedplaylist"):this.media_||this.media(this.childPlaylist_)}handleMain_(){this.mediaRequest_=null;const e=this.mainPlaylistLoader_.main;let i=UM({mainXml:this.mainPlaylistLoader_.mainXml_,srcUrl:this.mainPlaylistLoader_.srcUrl,clientOffset:this.mainPlaylistLoader_.clientOffset_,sidxMapping:this.mainPlaylistLoader_.sidxMapping_,previousManifest:e});e&&(i=zM(e,i,this.mainPlaylistLoader_.sidxMapping_)),this.mainPlaylistLoader_.main=i||e;const n=this.mainPlaylistLoader_.main.locations&&this.mainPlaylistLoader_.main.locations[0];return n&&n!==this.mainPlaylistLoader_.srcUrl&&(this.mainPlaylistLoader_.srcUrl=n),(!e||i&&i.minimumUpdatePeriod!==e.minimumUpdatePeriod)&&this.updateMinimumUpdatePeriodTimeout_(),this.addEventStreamToMetadataTrack_(i),!!i}updateMinimumUpdatePeriodTimeout_(){const e=this.mainPlaylistLoader_;e.createMupOnMedia_&&(e.off("loadedmetadata",e.createMupOnMedia_),e.createMupOnMedia_=null),e.minimumUpdatePeriodTimeout_&&(O.clearTimeout(e.minimumUpdatePeriodTimeout_),e.minimumUpdatePeriodTimeout_=null);let i=e.main&&e.main.minimumUpdatePeriod;if(i===0&&(e.media()?i=e.media().targetDuration*1e3:(e.createMupOnMedia_=e.updateMinimumUpdatePeriodTimeout_,e.one("loadedmetadata",e.createMupOnMedia_))),typeof i!="number"||i<=0){i<0&&this.logger_(`found invalid minimumUpdatePeriod of ${i}, not setting a timeout`);return}this.createMUPTimeout_(i)}createMUPTimeout_(e){const i=this.mainPlaylistLoader_;i.minimumUpdatePeriodTimeout_=O.setTimeout(()=>{i.minimumUpdatePeriodTimeout_=null,i.trigger("minimumUpdatePeriod"),i.createMUPTimeout_(e)},e)}refreshXml_(){this.requestMain_((e,i)=>{i&&(this.media_&&(this.media_=this.mainPlaylistLoader_.main.playlists[this.media_.id]),this.mainPlaylistLoader_.sidxMapping_=HM(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.sidxMapping_),this.addSidxSegments_(this.media(),this.state,n=>{this.refreshMedia_(this.media().id)}))})}refreshMedia_(e){if(!e)throw new Error("refreshMedia_ must take a media id");this.media_&&this.isMain_&&this.handleMain_();const i=this.mainPlaylistLoader_.main.playlists,n=!this.media_||this.media_!==i[e];if(n?this.media_=i[e]:this.trigger("playlistunchanged"),!this.mediaUpdateTimeout){const r=()=>{this.media().endList||(this.mediaUpdateTimeout=O.setTimeout(()=>{this.trigger("mediaupdatetimeout"),r()},Km(this.media(),!!n)))};r()}this.trigger("loadedplaylist")}addEventStreamToMetadataTrack_(e){if(e&&this.mainPlaylistLoader_.main.eventStream){const i=this.mainPlaylistLoader_.main.eventStream.map(n=>({cueTime:n.start,frames:[{data:n.messageData}]}));this.addMetadataToTextTrack("EventStream",i,this.mainPlaylistLoader_.main.duration)}}}var ut={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,BACK_BUFFER_LENGTH:30,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:16,BUFFER_LOW_WATER_LINE_RATE:1,BUFFER_HIGH_WATER_LINE:30};const qM=t=>{const e=new Uint8Array(new ArrayBuffer(t.length));for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e.buffer},BE=function(t){return t.on=t.addEventListener,t.off=t.removeEventListener,t},WM=function(t){try{return URL.createObjectURL(new Blob([t],{type:"application/javascript"}))}catch{const i=new BlobBuilder;return i.append(t),URL.createObjectURL(i.getBlob())}},FE=function(t){return function(){const e=WM(t),i=BE(new Worker(e));i.objURL=e;const n=i.terminate;return i.on=i.addEventListener,i.off=i.removeEventListener,i.terminate=function(){return URL.revokeObjectURL(e),n.call(this)},i}},jE=function(t){return`var browserWorkerPolyFill = ${BE.toString()};
browserWorkerPolyFill(self);
`+t},UE=function(t){return t.toString().replace(/^function.+?{/,"").slice(0,-1)},GM=jE(UE(function(){var t=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},e=function(){this.init=function(){var c={};this.on=function(h,m){c[h]||(c[h]=[]),c[h]=c[h].concat(m)},this.off=function(h,m){var f;return c[h]?(f=c[h].indexOf(m),c[h]=c[h].slice(),c[h].splice(f,1),f>-1):!1},this.trigger=function(h){var m,f,g,_;if(m=c[h],!!m)if(arguments.length===2)for(g=m.length,f=0;f<g;++f)m[f].call(this,arguments[1]);else{for(_=[],f=arguments.length,f=1;f<arguments.length;++f)_.push(arguments[f]);for(g=m.length,f=0;f<g;++f)m[f].apply(this,_)}},this.dispose=function(){c={}}}};e.prototype.pipe=function(c){return this.on("data",function(h){c.push(h)}),this.on("done",function(h){c.flush(h)}),this.on("partialdone",function(h){c.partialFlush(h)}),this.on("endedtimeline",function(h){c.endTimeline(h)}),this.on("reset",function(h){c.reset(h)}),c},e.prototype.push=function(c){this.trigger("data",c)},e.prototype.flush=function(c){this.trigger("done",c)},e.prototype.partialFlush=function(c){this.trigger("partialdone",c)},e.prototype.endTimeline=function(c){this.trigger("endedtimeline",c)},e.prototype.reset=function(c){this.trigger("reset",c)};var i=e,n=Math.pow(2,32),r=function(c){var h=new DataView(c.buffer,c.byteOffset,c.byteLength),m;return h.getBigUint64?(m=h.getBigUint64(0),m<Number.MAX_SAFE_INTEGER?Number(m):m):h.getUint32(0)*n+h.getUint32(4)},s={getUint64:r,MAX_UINT32:n},o=s.MAX_UINT32,a,l,u,d,p,y,T,v,w,k,x,b,S,E,A,N,M,U,H,j,Q,ie,q,oe,ae,Z,ee,W,te,ue,we,De,be,bt,us,Zi;(function(){var c;if(q={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},!(typeof Uint8Array>"u")){for(c in q)q.hasOwnProperty(c)&&(q[c]=[c.charCodeAt(0),c.charCodeAt(1),c.charCodeAt(2),c.charCodeAt(3)]);oe=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),Z=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),ae=new Uint8Array([0,0,0,1]),ee=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),W=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),te={video:ee,audio:W},De=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),we=new Uint8Array([0,0,0,0,0,0,0,0]),be=new Uint8Array([0,0,0,0,0,0,0,0]),bt=be,us=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),Zi=be,ue=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}})(),a=function(c){var h=[],m=0,f,g,_;for(f=1;f<arguments.length;f++)h.push(arguments[f]);for(f=h.length;f--;)m+=h[f].byteLength;for(g=new Uint8Array(m+8),_=new DataView(g.buffer,g.byteOffset,g.byteLength),_.setUint32(0,g.byteLength),g.set(c,4),f=0,m=8;f<h.length;f++)g.set(h[f],m),m+=h[f].byteLength;return g},l=function(){return a(q.dinf,a(q.dref,De))},u=function(c){return a(q.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,c.audioobjecttype<<3|c.samplingfrequencyindex>>>1,c.samplingfrequencyindex<<7|c.channelcount<<3,6,1,2]))},d=function(){return a(q.ftyp,oe,ae,oe,Z)},N=function(c){return a(q.hdlr,te[c])},p=function(c){return a(q.mdat,c)},A=function(c){var h=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,c.duration>>>24&255,c.duration>>>16&255,c.duration>>>8&255,c.duration&255,85,196,0,0]);return c.samplerate&&(h[12]=c.samplerate>>>24&255,h[13]=c.samplerate>>>16&255,h[14]=c.samplerate>>>8&255,h[15]=c.samplerate&255),a(q.mdhd,h)},E=function(c){return a(q.mdia,A(c),N(c.type),T(c))},y=function(c){return a(q.mfhd,new Uint8Array([0,0,0,0,(c&4278190080)>>24,(c&16711680)>>16,(c&65280)>>8,c&255]))},T=function(c){return a(q.minf,c.type==="video"?a(q.vmhd,ue):a(q.smhd,we),l(),U(c))},v=function(c,h){for(var m=[],f=h.length;f--;)m[f]=j(h[f]);return a.apply(null,[q.moof,y(c)].concat(m))},w=function(c){for(var h=c.length,m=[];h--;)m[h]=b(c[h]);return a.apply(null,[q.moov,x(4294967295)].concat(m).concat(k(c)))},k=function(c){for(var h=c.length,m=[];h--;)m[h]=Q(c[h]);return a.apply(null,[q.mvex].concat(m))},x=function(c){var h=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(c&4278190080)>>24,(c&16711680)>>16,(c&65280)>>8,c&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return a(q.mvhd,h)},M=function(c){var h=c.samples||[],m=new Uint8Array(4+h.length),f,g;for(g=0;g<h.length;g++)f=h[g].flags,m[g+4]=f.dependsOn<<4|f.isDependedOn<<2|f.hasRedundancy;return a(q.sdtp,m)},U=function(c){return a(q.stbl,H(c),a(q.stts,Zi),a(q.stsc,bt),a(q.stsz,us),a(q.stco,be))},function(){var c,h;H=function(m){return a(q.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),m.type==="video"?c(m):h(m))},c=function(m){var f=m.sps||[],g=m.pps||[],_=[],D=[],P,I;for(P=0;P<f.length;P++)_.push((f[P].byteLength&65280)>>>8),_.push(f[P].byteLength&255),_=_.concat(Array.prototype.slice.call(f[P]));for(P=0;P<g.length;P++)D.push((g[P].byteLength&65280)>>>8),D.push(g[P].byteLength&255),D=D.concat(Array.prototype.slice.call(g[P]));if(I=[q.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(m.width&65280)>>8,m.width&255,(m.height&65280)>>8,m.height&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),a(q.avcC,new Uint8Array([1,m.profileIdc,m.profileCompatibility,m.levelIdc,255].concat([f.length],_,[g.length],D))),a(q.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],m.sarRatio){var L=m.sarRatio[0],R=m.sarRatio[1];I.push(a(q.pasp,new Uint8Array([(L&4278190080)>>24,(L&16711680)>>16,(L&65280)>>8,L&255,(R&4278190080)>>24,(R&16711680)>>16,(R&65280)>>8,R&255])))}return a.apply(null,I)},h=function(m){return a(q.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(m.channelcount&65280)>>8,m.channelcount&255,(m.samplesize&65280)>>8,m.samplesize&255,0,0,0,0,(m.samplerate&65280)>>8,m.samplerate&255,0,0]),u(m))}}(),S=function(c){var h=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(c.id&4278190080)>>24,(c.id&16711680)>>16,(c.id&65280)>>8,c.id&255,0,0,0,0,(c.duration&4278190080)>>24,(c.duration&16711680)>>16,(c.duration&65280)>>8,c.duration&255,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(c.width&65280)>>8,c.width&255,0,0,(c.height&65280)>>8,c.height&255,0,0]);return a(q.tkhd,h)},j=function(c){var h,m,f,g,_,D,P;return h=a(q.tfhd,new Uint8Array([0,0,0,58,(c.id&4278190080)>>24,(c.id&16711680)>>16,(c.id&65280)>>8,c.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),D=Math.floor(c.baseMediaDecodeTime/o),P=Math.floor(c.baseMediaDecodeTime%o),m=a(q.tfdt,new Uint8Array([1,0,0,0,D>>>24&255,D>>>16&255,D>>>8&255,D&255,P>>>24&255,P>>>16&255,P>>>8&255,P&255])),_=32+20+8+16+8+8,c.type==="audio"?(f=ie(c,_),a(q.traf,h,m,f)):(g=M(c),f=ie(c,g.length+_),a(q.traf,h,m,f,g))},b=function(c){return c.duration=c.duration||4294967295,a(q.trak,S(c),E(c))},Q=function(c){var h=new Uint8Array([0,0,0,0,(c.id&4278190080)>>24,(c.id&16711680)>>16,(c.id&65280)>>8,c.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return c.type!=="video"&&(h[h.length-1]=0),a(q.trex,h)},function(){var c,h,m;m=function(f,g){var _=0,D=0,P=0,I=0;return f.length&&(f[0].duration!==void 0&&(_=1),f[0].size!==void 0&&(D=2),f[0].flags!==void 0&&(P=4),f[0].compositionTimeOffset!==void 0&&(I=8)),[0,0,_|D|P|I,1,(f.length&4278190080)>>>24,(f.length&16711680)>>>16,(f.length&65280)>>>8,f.length&255,(g&4278190080)>>>24,(g&16711680)>>>16,(g&65280)>>>8,g&255]},h=function(f,g){var _,D,P,I,L,R;for(I=f.samples||[],g+=8+12+16*I.length,P=m(I,g),D=new Uint8Array(P.length+I.length*16),D.set(P),_=P.length,R=0;R<I.length;R++)L=I[R],D[_++]=(L.duration&4278190080)>>>24,D[_++]=(L.duration&16711680)>>>16,D[_++]=(L.duration&65280)>>>8,D[_++]=L.duration&255,D[_++]=(L.size&4278190080)>>>24,D[_++]=(L.size&16711680)>>>16,D[_++]=(L.size&65280)>>>8,D[_++]=L.size&255,D[_++]=L.flags.isLeading<<2|L.flags.dependsOn,D[_++]=L.flags.isDependedOn<<6|L.flags.hasRedundancy<<4|L.flags.paddingValue<<1|L.flags.isNonSyncSample,D[_++]=L.flags.degradationPriority&61440,D[_++]=L.flags.degradationPriority&15,D[_++]=(L.compositionTimeOffset&4278190080)>>>24,D[_++]=(L.compositionTimeOffset&16711680)>>>16,D[_++]=(L.compositionTimeOffset&65280)>>>8,D[_++]=L.compositionTimeOffset&255;return a(q.trun,D)},c=function(f,g){var _,D,P,I,L,R;for(I=f.samples||[],g+=8+12+8*I.length,P=m(I,g),_=new Uint8Array(P.length+I.length*8),_.set(P),D=P.length,R=0;R<I.length;R++)L=I[R],_[D++]=(L.duration&4278190080)>>>24,_[D++]=(L.duration&16711680)>>>16,_[D++]=(L.duration&65280)>>>8,_[D++]=L.duration&255,_[D++]=(L.size&4278190080)>>>24,_[D++]=(L.size&16711680)>>>16,_[D++]=(L.size&65280)>>>8,_[D++]=L.size&255;return a(q.trun,_)},ie=function(f,g){return f.type==="audio"?c(f,g):h(f,g)}}();var cs={ftyp:d,mdat:p,moof:v,moov:w,initSegment:function(c){var h=d(),m=w(c),f;return f=new Uint8Array(h.byteLength+m.byteLength),f.set(h),f.set(m,h.byteLength),f}},WC=function(c){var h,m,f=[],g=[];for(g.byteLength=0,g.nalCount=0,g.duration=0,f.byteLength=0,h=0;h<c.length;h++)m=c[h],m.nalUnitType==="access_unit_delimiter_rbsp"?(f.length&&(f.duration=m.dts-f.dts,g.byteLength+=f.byteLength,g.nalCount+=f.length,g.duration+=f.duration,g.push(f)),f=[m],f.byteLength=m.data.byteLength,f.pts=m.pts,f.dts=m.dts):(m.nalUnitType==="slice_layer_without_partitioning_rbsp_idr"&&(f.keyFrame=!0),f.duration=m.dts-f.dts,f.byteLength+=m.data.byteLength,f.push(m));return g.length&&(!f.duration||f.duration<=0)&&(f.duration=g[g.length-1].duration),g.byteLength+=f.byteLength,g.nalCount+=f.length,g.duration+=f.duration,g.push(f),g},GC=function(c){var h,m,f=[],g=[];for(f.byteLength=0,f.nalCount=0,f.duration=0,f.pts=c[0].pts,f.dts=c[0].dts,g.byteLength=0,g.nalCount=0,g.duration=0,g.pts=c[0].pts,g.dts=c[0].dts,h=0;h<c.length;h++)m=c[h],m.keyFrame?(f.length&&(g.push(f),g.byteLength+=f.byteLength,g.nalCount+=f.nalCount,g.duration+=f.duration),f=[m],f.nalCount=m.length,f.byteLength=m.byteLength,f.pts=m.pts,f.dts=m.dts,f.duration=m.duration):(f.duration+=m.duration,f.nalCount+=m.length,f.byteLength+=m.byteLength,f.push(m));return g.length&&f.duration<=0&&(f.duration=g[g.length-1].duration),g.byteLength+=f.byteLength,g.nalCount+=f.nalCount,g.duration+=f.duration,g.push(f),g},XC=function(c){var h;return!c[0][0].keyFrame&&c.length>1&&(h=c.shift(),c.byteLength-=h.byteLength,c.nalCount-=h.nalCount,c[0][0].dts=h.dts,c[0][0].pts=h.pts,c[0][0].duration+=h.duration),c},KC=function(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}}},ky=function(c,h){var m=KC();return m.dataOffset=h,m.compositionTimeOffset=c.pts-c.dts,m.duration=c.duration,m.size=4*c.length,m.size+=c.byteLength,c.keyFrame&&(m.flags.dependsOn=2,m.flags.isNonSyncSample=0),m},YC=function(c,h){var m,f,g,_,D,P=h||0,I=[];for(m=0;m<c.length;m++)for(_=c[m],f=0;f<_.length;f++)D=_[f],g=ky(D,P),P+=g.size,I.push(g);return I},QC=function(c){var h,m,f,g,_,D,P=0,I=c.byteLength,L=c.nalCount,R=I+4*L,B=new Uint8Array(R),ne=new DataView(B.buffer);for(h=0;h<c.length;h++)for(g=c[h],m=0;m<g.length;m++)for(_=g[m],f=0;f<_.length;f++)D=_[f],ne.setUint32(P,D.data.byteLength),P+=4,B.set(D.data,P),P+=D.data.byteLength;return B},JC=function(c,h){var m,f=h||0,g=[];return m=ky(c,f),g.push(m),g},ZC=function(c){var h,m,f=0,g=c.byteLength,_=c.length,D=g+4*_,P=new Uint8Array(D),I=new DataView(P.buffer);for(h=0;h<c.length;h++)m=c[h],I.setUint32(f,m.data.byteLength),f+=4,P.set(m.data,f),f+=m.data.byteLength;return P},ek={groupNalsIntoFrames:WC,groupFramesIntoGops:GC,extendFirstKeyFrame:XC,generateSampleTable:YC,concatenateNalData:QC,generateSampleTableForFrame:JC,concatenateNalDataForFrame:ZC},Xn=[33,16,5,32,164,27],Eh=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],Se=function(c){for(var h=[];c--;)h.push(0);return h},tk=function(c){return Object.keys(c).reduce(function(h,m){return h[m]=new Uint8Array(c[m].reduce(function(f,g){return f.concat(g)},[])),h},{})},Ch,ik=function(){if(!Ch){var c={96e3:[Xn,[227,64],Se(154),[56]],88200:[Xn,[231],Se(170),[56]],64e3:[Xn,[248,192],Se(240),[56]],48e3:[Xn,[255,192],Se(268),[55,148,128],Se(54),[112]],44100:[Xn,[255,192],Se(268),[55,163,128],Se(84),[112]],32e3:[Xn,[255,192],Se(268),[55,234],Se(226),[112]],24e3:[Xn,[255,192],Se(268),[55,255,128],Se(268),[111,112],Se(126),[224]],16e3:[Xn,[255,192],Se(268),[55,255,128],Se(268),[111,255],Se(269),[223,108],Se(195),[1,192]],12e3:[Eh,Se(268),[3,127,248],Se(268),[6,255,240],Se(268),[13,255,224],Se(268),[27,253,128],Se(259),[56]],11025:[Eh,Se(268),[3,127,248],Se(268),[6,255,240],Se(268),[13,255,224],Se(268),[27,255,192],Se(268),[55,175,128],Se(108),[112]],8e3:[Eh,Se(268),[3,121,16],Se(47),[7]]};Ch=tk(c)}return Ch},kh=9e4,Dh,Ah,Vl,Ph,Dy,Ay,Py;Dh=function(c){return c*kh},Ah=function(c,h){return c*h},Vl=function(c){return c/kh},Ph=function(c,h){return c/h},Dy=function(c,h){return Dh(Ph(c,h))},Ay=function(c,h){return Ah(Vl(c),h)},Py=function(c,h,m){return Vl(m?c:c-h)};var Me={ONE_SECOND_IN_TS:kh,secondsToVideoTs:Dh,secondsToAudioTs:Ah,videoTsToSeconds:Vl,audioTsToSeconds:Ph,audioTsToVideoTs:Dy,videoTsToAudioTs:Ay,metadataTsToSeconds:Py},nk=ik,Hl=Me,rk=function(c){var h,m,f=0;for(h=0;h<c.length;h++)m=c[h],f+=m.data.byteLength;return f},sk=function(c,h,m,f){var g,_=0,D=0,P=0,I=0,L,R,B;if(h.length&&(g=Hl.audioTsToVideoTs(c.baseMediaDecodeTime,c.samplerate),_=Math.ceil(Hl.ONE_SECOND_IN_TS/(c.samplerate/1024)),m&&f&&(D=g-Math.max(m,f),P=Math.floor(D/_),I=P*_),!(P<1||I>Hl.ONE_SECOND_IN_TS/2))){for(L=nk()[c.samplerate],L||(L=h[0].data),R=0;R<P;R++)B=h[0],h.splice(0,0,{data:L,dts:B.dts-_,pts:B.pts-_});return c.baseMediaDecodeTime-=Math.floor(Hl.videoTsToAudioTs(I,c.samplerate)),I}},ok=function(c,h,m){return h.minSegmentDts>=m?c:(h.minSegmentDts=1/0,c.filter(function(f){return f.dts>=m?(h.minSegmentDts=Math.min(h.minSegmentDts,f.dts),h.minSegmentPts=h.minSegmentDts,!0):!1}))},ak=function(c){var h,m,f=[];for(h=0;h<c.length;h++)m=c[h],f.push({size:m.data.byteLength,duration:1024});return f},lk=function(c){var h,m,f=0,g=new Uint8Array(rk(c));for(h=0;h<c.length;h++)m=c[h],g.set(m.data,f),f+=m.data.byteLength;return g},uk={prefixWithSilence:sk,trimAdtsFramesByEarliestDts:ok,generateSampleTable:ak,concatenateFrameData:lk},ck=Me.ONE_SECOND_IN_TS,dk=function(c,h){typeof h.pts=="number"&&(c.timelineStartInfo.pts===void 0&&(c.timelineStartInfo.pts=h.pts),c.minSegmentPts===void 0?c.minSegmentPts=h.pts:c.minSegmentPts=Math.min(c.minSegmentPts,h.pts),c.maxSegmentPts===void 0?c.maxSegmentPts=h.pts:c.maxSegmentPts=Math.max(c.maxSegmentPts,h.pts)),typeof h.dts=="number"&&(c.timelineStartInfo.dts===void 0&&(c.timelineStartInfo.dts=h.dts),c.minSegmentDts===void 0?c.minSegmentDts=h.dts:c.minSegmentDts=Math.min(c.minSegmentDts,h.dts),c.maxSegmentDts===void 0?c.maxSegmentDts=h.dts:c.maxSegmentDts=Math.max(c.maxSegmentDts,h.dts))},hk=function(c){delete c.minSegmentDts,delete c.maxSegmentDts,delete c.minSegmentPts,delete c.maxSegmentPts},fk=function(c,h){var m,f,g=c.minSegmentDts;return h||(g-=c.timelineStartInfo.dts),m=c.timelineStartInfo.baseMediaDecodeTime,m+=g,m=Math.max(0,m),c.type==="audio"&&(f=c.samplerate/ck,m*=f,m=Math.floor(m)),m},pk={clearDtsInfo:hk,calculateTrackBaseMediaDecodeTime:fk,collectDtsInfo:dk},Iy=4,mk=128,gk=function(c){for(var h=0,m={payloadType:-1,payloadSize:0},f=0,g=0;h<c.byteLength&&c[h]!==mk;){for(;c[h]===255;)f+=255,h++;for(f+=c[h++];c[h]===255;)g+=255,h++;if(g+=c[h++],!m.payload&&f===Iy){var _=String.fromCharCode(c[h+3],c[h+4],c[h+5],c[h+6]);if(_==="GA94"){m.payloadType=f,m.payloadSize=g,m.payload=c.subarray(h,h+g);break}else m.payload=void 0}h+=g,f=0,g=0}return m},yk=function(c){return c.payload[0]!==181||(c.payload[1]<<8|c.payload[2])!==49||String.fromCharCode(c.payload[3],c.payload[4],c.payload[5],c.payload[6])!=="GA94"||c.payload[7]!==3?null:c.payload.subarray(8,c.payload.length-1)},vk=function(c,h){var m=[],f,g,_,D;if(!(h[0]&64))return m;for(g=h[0]&31,f=0;f<g;f++)_=f*3,D={type:h[_+2]&3,pts:c},h[_+2]&4&&(D.ccData=h[_+3]<<8|h[_+4],m.push(D));return m},_k=function(c){for(var h=c.byteLength,m=[],f=1,g,_;f<h-2;)c[f]===0&&c[f+1]===0&&c[f+2]===3?(m.push(f+2),f+=2):f++;if(m.length===0)return c;g=h-m.length,_=new Uint8Array(g);var D=0;for(f=0;f<g;D++,f++)D===m[0]&&(D++,m.shift()),_[f]=c[D];return _},Oy={parseSei:gk,parseUserData:yk,parseCaptionPackets:vk,discardEmulationPreventionBytes:_k,USER_DATA_REGISTERED_ITU_T_T35:Iy},Ih=i,ql=Oy,$t=function(c){c=c||{},$t.prototype.init.call(this),this.parse708captions_=typeof c.parse708captions=="boolean"?c.parse708captions:!0,this.captionPackets_=[],this.ccStreams_=[new je(0,0),new je(0,1),new je(1,0),new je(1,1)],this.parse708captions_&&(this.cc708Stream_=new Pe({captionServices:c.captionServices})),this.reset(),this.ccStreams_.forEach(function(h){h.on("data",this.trigger.bind(this,"data")),h.on("partialdone",this.trigger.bind(this,"partialdone")),h.on("done",this.trigger.bind(this,"done"))},this),this.parse708captions_&&(this.cc708Stream_.on("data",this.trigger.bind(this,"data")),this.cc708Stream_.on("partialdone",this.trigger.bind(this,"partialdone")),this.cc708Stream_.on("done",this.trigger.bind(this,"done")))};$t.prototype=new Ih,$t.prototype.push=function(c){var h,m,f;if(c.nalUnitType==="sei_rbsp"&&(h=ql.parseSei(c.escapedRBSP),!!h.payload&&h.payloadType===ql.USER_DATA_REGISTERED_ITU_T_T35&&(m=ql.parseUserData(h),!!m))){if(c.dts<this.latestDts_){this.ignoreNextEqualDts_=!0;return}else if(c.dts===this.latestDts_&&this.ignoreNextEqualDts_){this.numSameDts_--,this.numSameDts_||(this.ignoreNextEqualDts_=!1);return}f=ql.parseCaptionPackets(c.pts,m),this.captionPackets_=this.captionPackets_.concat(f),this.latestDts_!==c.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=c.dts}},$t.prototype.flushCCStreams=function(c){this.ccStreams_.forEach(function(h){return c==="flush"?h.flush():h.partialFlush()},this)},$t.prototype.flushStream=function(c){if(!this.captionPackets_.length){this.flushCCStreams(c);return}this.captionPackets_.forEach(function(h,m){h.presortIndex=m}),this.captionPackets_.sort(function(h,m){return h.pts===m.pts?h.presortIndex-m.presortIndex:h.pts-m.pts}),this.captionPackets_.forEach(function(h){h.type<2?this.dispatchCea608Packet(h):this.dispatchCea708Packet(h)},this),this.captionPackets_.length=0,this.flushCCStreams(c)},$t.prototype.flush=function(){return this.flushStream("flush")},$t.prototype.partialFlush=function(){return this.flushStream("partialFlush")},$t.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(c){c.reset()})},$t.prototype.dispatchCea608Packet=function(c){this.setsTextOrXDSActive(c)?this.activeCea608Channel_[c.type]=null:this.setsChannel1Active(c)?this.activeCea608Channel_[c.type]=0:this.setsChannel2Active(c)&&(this.activeCea608Channel_[c.type]=1),this.activeCea608Channel_[c.type]!==null&&this.ccStreams_[(c.type<<1)+this.activeCea608Channel_[c.type]].push(c)},$t.prototype.setsChannel1Active=function(c){return(c.ccData&30720)===4096},$t.prototype.setsChannel2Active=function(c){return(c.ccData&30720)===6144},$t.prototype.setsTextOrXDSActive=function(c){return(c.ccData&28928)===256||(c.ccData&30974)===4138||(c.ccData&30974)===6186},$t.prototype.dispatchCea708Packet=function(c){this.parse708captions_&&this.cc708Stream_.push(c)};var bk={127:9834,4128:32,4129:160,4133:8230,4138:352,4140:338,4144:9608,4145:8216,4146:8217,4147:8220,4148:8221,4149:8226,4153:8482,4154:353,4156:339,4157:8480,4159:376,4214:8539,4215:8540,4216:8541,4217:8542,4218:9168,4219:9124,4220:9123,4221:9135,4222:9126,4223:9121,4256:12600},xk=function(c){var h=bk[c]||c;return c&4096&&c===h?"":String.fromCharCode(h)},Wl=function(c){return 32<=c&&c<=127||160<=c&&c<=255},Sn=function(c){this.windowNum=c,this.reset()};Sn.prototype.reset=function(){this.clearText(),this.pendingNewLine=!1,this.winAttr={},this.penAttr={},this.penLoc={},this.penColor={},this.visible=0,this.rowLock=0,this.columnLock=0,this.priority=0,this.relativePositioning=0,this.anchorVertical=0,this.anchorHorizontal=0,this.anchorPoint=0,this.rowCount=1,this.virtualRowCount=this.rowCount+1,this.columnCount=41,this.windowStyle=0,this.penStyle=0},Sn.prototype.getText=function(){return this.rows.join(`
`)},Sn.prototype.clearText=function(){this.rows=[""],this.rowIdx=0},Sn.prototype.newLine=function(c){for(this.rows.length>=this.virtualRowCount&&typeof this.beforeRowOverflow=="function"&&this.beforeRowOverflow(c),this.rows.length>0&&(this.rows.push(""),this.rowIdx++);this.rows.length>this.virtualRowCount;)this.rows.shift(),this.rowIdx--},Sn.prototype.isEmpty=function(){return this.rows.length===0?!0:this.rows.length===1?this.rows[0]==="":!1},Sn.prototype.addText=function(c){this.rows[this.rowIdx]+=c},Sn.prototype.backspace=function(){if(!this.isEmpty()){var c=this.rows[this.rowIdx];this.rows[this.rowIdx]=c.substr(0,c.length-1)}};var Gl=function(c,h,m){this.serviceNum=c,this.text="",this.currentWindow=new Sn(-1),this.windows=[],this.stream=m,typeof h=="string"&&this.createTextDecoder(h)};Gl.prototype.init=function(c,h){this.startPts=c;for(var m=0;m<8;m++)this.windows[m]=new Sn(m),typeof h=="function"&&(this.windows[m].beforeRowOverflow=h)},Gl.prototype.setCurrentWindow=function(c){this.currentWindow=this.windows[c]},Gl.prototype.createTextDecoder=function(c){if(typeof TextDecoder>"u")this.stream.trigger("log",{level:"warn",message:"The `encoding` option is unsupported without TextDecoder support"});else try{this.textDecoder_=new TextDecoder(c)}catch(h){this.stream.trigger("log",{level:"warn",message:"TextDecoder could not be created with "+c+" encoding. "+h})}};var Pe=function(c){c=c||{},Pe.prototype.init.call(this);var h=this,m=c.captionServices||{},f={},g;Object.keys(m).forEach(_=>{g=m[_],/^SERVICE/.test(_)&&(f[_]=g.encoding)}),this.serviceEncodings=f,this.current708Packet=null,this.services={},this.push=function(_){_.type===3?(h.new708Packet(),h.add708Bytes(_)):(h.current708Packet===null&&h.new708Packet(),h.add708Bytes(_))}};Pe.prototype=new Ih,Pe.prototype.new708Packet=function(){this.current708Packet!==null&&this.push708Packet(),this.current708Packet={data:[],ptsVals:[]}},Pe.prototype.add708Bytes=function(c){var h=c.ccData,m=h>>>8,f=h&255;this.current708Packet.ptsVals.push(c.pts),this.current708Packet.data.push(m),this.current708Packet.data.push(f)},Pe.prototype.push708Packet=function(){var c=this.current708Packet,h=c.data,m=null,f=null,g=0,_=h[g++];for(c.seq=_>>6,c.sizeCode=_&63;g<h.length;g++)_=h[g++],m=_>>5,f=_&31,m===7&&f>0&&(_=h[g++],m=_),this.pushServiceBlock(m,g,f),f>0&&(g+=f-1)},Pe.prototype.pushServiceBlock=function(c,h,m){var f,g=h,_=this.current708Packet.data,D=this.services[c];for(D||(D=this.initService(c,g));g<h+m&&g<_.length;g++)f=_[g],Wl(f)?g=this.handleText(g,D):f===24?g=this.multiByteCharacter(g,D):f===16?g=this.extendedCommands(g,D):128<=f&&f<=135?g=this.setCurrentWindow(g,D):152<=f&&f<=159?g=this.defineWindow(g,D):f===136?g=this.clearWindows(g,D):f===140?g=this.deleteWindows(g,D):f===137?g=this.displayWindows(g,D):f===138?g=this.hideWindows(g,D):f===139?g=this.toggleWindows(g,D):f===151?g=this.setWindowAttributes(g,D):f===144?g=this.setPenAttributes(g,D):f===145?g=this.setPenColor(g,D):f===146?g=this.setPenLocation(g,D):f===143?D=this.reset(g,D):f===8?D.currentWindow.backspace():f===12?D.currentWindow.clearText():f===13?D.currentWindow.pendingNewLine=!0:f===14?D.currentWindow.clearText():f===141&&g++},Pe.prototype.extendedCommands=function(c,h){var m=this.current708Packet.data,f=m[++c];return Wl(f)&&(c=this.handleText(c,h,{isExtended:!0})),c},Pe.prototype.getPts=function(c){return this.current708Packet.ptsVals[Math.floor(c/2)]},Pe.prototype.initService=function(c,h){var f="SERVICE"+c,m=this,f,g;return f in this.serviceEncodings&&(g=this.serviceEncodings[f]),this.services[c]=new Gl(c,g,m),this.services[c].init(this.getPts(h),function(_){m.flushDisplayed(_,m.services[c])}),this.services[c]},Pe.prototype.handleText=function(c,h,m){var f=m&&m.isExtended,g=m&&m.isMultiByte,_=this.current708Packet.data,D=f?4096:0,P=_[c],I=_[c+1],L=h.currentWindow,R,B;return h.textDecoder_&&!f?(g?(B=[P,I],c++):B=[P],R=h.textDecoder_.decode(new Uint8Array(B))):R=xk(D|P),L.pendingNewLine&&!L.isEmpty()&&L.newLine(this.getPts(c)),L.pendingNewLine=!1,L.addText(R),c},Pe.prototype.multiByteCharacter=function(c,h){var m=this.current708Packet.data,f=m[c+1],g=m[c+2];return Wl(f)&&Wl(g)&&(c=this.handleText(++c,h,{isMultiByte:!0})),c},Pe.prototype.setCurrentWindow=function(c,h){var m=this.current708Packet.data,f=m[c],g=f&7;return h.setCurrentWindow(g),c},Pe.prototype.defineWindow=function(c,h){var m=this.current708Packet.data,f=m[c],g=f&7;h.setCurrentWindow(g);var _=h.currentWindow;return f=m[++c],_.visible=(f&32)>>5,_.rowLock=(f&16)>>4,_.columnLock=(f&8)>>3,_.priority=f&7,f=m[++c],_.relativePositioning=(f&128)>>7,_.anchorVertical=f&127,f=m[++c],_.anchorHorizontal=f,f=m[++c],_.anchorPoint=(f&240)>>4,_.rowCount=f&15,f=m[++c],_.columnCount=f&63,f=m[++c],_.windowStyle=(f&56)>>3,_.penStyle=f&7,_.virtualRowCount=_.rowCount+1,c},Pe.prototype.setWindowAttributes=function(c,h){var m=this.current708Packet.data,f=m[c],g=h.currentWindow.winAttr;return f=m[++c],g.fillOpacity=(f&192)>>6,g.fillRed=(f&48)>>4,g.fillGreen=(f&12)>>2,g.fillBlue=f&3,f=m[++c],g.borderType=(f&192)>>6,g.borderRed=(f&48)>>4,g.borderGreen=(f&12)>>2,g.borderBlue=f&3,f=m[++c],g.borderType+=(f&128)>>5,g.wordWrap=(f&64)>>6,g.printDirection=(f&48)>>4,g.scrollDirection=(f&12)>>2,g.justify=f&3,f=m[++c],g.effectSpeed=(f&240)>>4,g.effectDirection=(f&12)>>2,g.displayEffect=f&3,c},Pe.prototype.flushDisplayed=function(c,h){for(var m=[],f=0;f<8;f++)h.windows[f].visible&&!h.windows[f].isEmpty()&&m.push(h.windows[f].getText());h.endPts=c,h.text=m.join(`

`),this.pushCaption(h),h.startPts=c},Pe.prototype.pushCaption=function(c){c.text!==""&&(this.trigger("data",{startPts:c.startPts,endPts:c.endPts,text:c.text,stream:"cc708_"+c.serviceNum}),c.text="",c.startPts=c.endPts)},Pe.prototype.displayWindows=function(c,h){var m=this.current708Packet.data,f=m[++c],g=this.getPts(c);this.flushDisplayed(g,h);for(var _=0;_<8;_++)f&1<<_&&(h.windows[_].visible=1);return c},Pe.prototype.hideWindows=function(c,h){var m=this.current708Packet.data,f=m[++c],g=this.getPts(c);this.flushDisplayed(g,h);for(var _=0;_<8;_++)f&1<<_&&(h.windows[_].visible=0);return c},Pe.prototype.toggleWindows=function(c,h){var m=this.current708Packet.data,f=m[++c],g=this.getPts(c);this.flushDisplayed(g,h);for(var _=0;_<8;_++)f&1<<_&&(h.windows[_].visible^=1);return c},Pe.prototype.clearWindows=function(c,h){var m=this.current708Packet.data,f=m[++c],g=this.getPts(c);this.flushDisplayed(g,h);for(var _=0;_<8;_++)f&1<<_&&h.windows[_].clearText();return c},Pe.prototype.deleteWindows=function(c,h){var m=this.current708Packet.data,f=m[++c],g=this.getPts(c);this.flushDisplayed(g,h);for(var _=0;_<8;_++)f&1<<_&&h.windows[_].reset();return c},Pe.prototype.setPenAttributes=function(c,h){var m=this.current708Packet.data,f=m[c],g=h.currentWindow.penAttr;return f=m[++c],g.textTag=(f&240)>>4,g.offset=(f&12)>>2,g.penSize=f&3,f=m[++c],g.italics=(f&128)>>7,g.underline=(f&64)>>6,g.edgeType=(f&56)>>3,g.fontStyle=f&7,c},Pe.prototype.setPenColor=function(c,h){var m=this.current708Packet.data,f=m[c],g=h.currentWindow.penColor;return f=m[++c],g.fgOpacity=(f&192)>>6,g.fgRed=(f&48)>>4,g.fgGreen=(f&12)>>2,g.fgBlue=f&3,f=m[++c],g.bgOpacity=(f&192)>>6,g.bgRed=(f&48)>>4,g.bgGreen=(f&12)>>2,g.bgBlue=f&3,f=m[++c],g.edgeRed=(f&48)>>4,g.edgeGreen=(f&12)>>2,g.edgeBlue=f&3,c},Pe.prototype.setPenLocation=function(c,h){var m=this.current708Packet.data,f=m[c],g=h.currentWindow.penLoc;return h.currentWindow.pendingNewLine=!0,f=m[++c],g.row=f&15,f=m[++c],g.column=f&63,c},Pe.prototype.reset=function(c,h){var m=this.getPts(c);return this.flushDisplayed(m,h),this.initService(h.serviceNum,c)};var Tk={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},Xl=function(c){return c===null?"":(c=Tk[c]||c,String.fromCharCode(c))},Kl=14,wk=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],Ar=function(){for(var c=[],h=Kl+1;h--;)c.push({text:"",indent:0,offset:0});return c},je=function(c,h){je.prototype.init.call(this),this.field_=c||0,this.dataChannel_=h||0,this.name_="CC"+((this.field_<<1|this.dataChannel_)+1),this.setConstants(),this.reset(),this.push=function(m){var f,g,_,D,P;if(f=m.ccData&32639,f===this.lastControlCode_){this.lastControlCode_=null;return}if((f&61440)===4096?this.lastControlCode_=f:f!==this.PADDING_&&(this.lastControlCode_=null),_=f>>>8,D=f&255,f!==this.PADDING_)if(f===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(f===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(m.pts),this.flushDisplayed(m.pts),g=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=g,this.startPts_=m.pts;else if(f===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(m.pts);else if(f===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(m.pts);else if(f===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(m.pts);else if(f===this.CARRIAGE_RETURN_)this.clearFormatting(m.pts),this.flushDisplayed(m.pts),this.shiftRowsUp_(),this.startPts_=m.pts;else if(f===this.BACKSPACE_)this.mode_==="popOn"?this.nonDisplayed_[this.row_].text=this.nonDisplayed_[this.row_].text.slice(0,-1):this.displayed_[this.row_].text=this.displayed_[this.row_].text.slice(0,-1);else if(f===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(m.pts),this.displayed_=Ar();else if(f===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=Ar();else if(f===this.RESUME_DIRECT_CAPTIONING_)this.mode_!=="paintOn"&&(this.flushDisplayed(m.pts),this.displayed_=Ar()),this.mode_="paintOn",this.startPts_=m.pts;else if(this.isSpecialCharacter(_,D))_=(_&3)<<8,P=Xl(_|D),this[this.mode_](m.pts,P),this.column_++;else if(this.isExtCharacter(_,D))this.mode_==="popOn"?this.nonDisplayed_[this.row_].text=this.nonDisplayed_[this.row_].text.slice(0,-1):this.displayed_[this.row_].text=this.displayed_[this.row_].text.slice(0,-1),_=(_&3)<<8,P=Xl(_|D),this[this.mode_](m.pts,P),this.column_++;else if(this.isMidRowCode(_,D))this.clearFormatting(m.pts),this[this.mode_](m.pts," "),this.column_++,(D&14)===14&&this.addFormatting(m.pts,["i"]),(D&1)===1&&this.addFormatting(m.pts,["u"]);else if(this.isOffsetControlCode(_,D)){const L=D&3;this.nonDisplayed_[this.row_].offset=L,this.column_+=L}else if(this.isPAC(_,D)){var I=wk.indexOf(f&7968);if(this.mode_==="rollUp"&&(I-this.rollUpRows_+1<0&&(I=this.rollUpRows_-1),this.setRollUp(m.pts,I)),I!==this.row_&&(this.clearFormatting(m.pts),this.row_=I),D&1&&this.formatting_.indexOf("u")===-1&&this.addFormatting(m.pts,["u"]),(f&16)===16){const L=(f&14)>>1;this.column_=L*4,this.nonDisplayed_[this.row_].indent+=L}this.isColorPAC(D)&&(D&14)===14&&this.addFormatting(m.pts,["i"])}else this.isNormalChar(_)&&(D===0&&(D=null),P=Xl(_),P+=Xl(D),this[this.mode_](m.pts,P),this.column_+=P.length)}};je.prototype=new Ih,je.prototype.flushDisplayed=function(c){const h=f=>{this.trigger("log",{level:"warn",message:"Skipping a malformed 608 caption at index "+f+"."})},m=[];this.displayed_.forEach((f,g)=>{if(f&&f.text&&f.text.length){try{f.text=f.text.trim()}catch{h(g)}f.text.length&&m.push({text:f.text,line:g+1,position:10+Math.min(70,f.indent*10)+f.offset*2.5})}else f==null&&h(g)}),m.length&&this.trigger("data",{startPts:this.startPts_,endPts:c,content:m,stream:this.name_})},je.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=Ar(),this.nonDisplayed_=Ar(),this.lastControlCode_=null,this.column_=0,this.row_=Kl,this.rollUpRows_=2,this.formatting_=[]},je.prototype.setConstants=function(){this.dataChannel_===0?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):this.dataChannel_===1&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=this.CONTROL_|32,this.END_OF_CAPTION_=this.CONTROL_|47,this.ROLL_UP_2_ROWS_=this.CONTROL_|37,this.ROLL_UP_3_ROWS_=this.CONTROL_|38,this.ROLL_UP_4_ROWS_=this.CONTROL_|39,this.CARRIAGE_RETURN_=this.CONTROL_|45,this.RESUME_DIRECT_CAPTIONING_=this.CONTROL_|41,this.BACKSPACE_=this.CONTROL_|33,this.ERASE_DISPLAYED_MEMORY_=this.CONTROL_|44,this.ERASE_NON_DISPLAYED_MEMORY_=this.CONTROL_|46},je.prototype.isSpecialCharacter=function(c,h){return c===this.EXT_&&h>=48&&h<=63},je.prototype.isExtCharacter=function(c,h){return(c===this.EXT_+1||c===this.EXT_+2)&&h>=32&&h<=63},je.prototype.isMidRowCode=function(c,h){return c===this.EXT_&&h>=32&&h<=47},je.prototype.isOffsetControlCode=function(c,h){return c===this.OFFSET_&&h>=33&&h<=35},je.prototype.isPAC=function(c,h){return c>=this.BASE_&&c<this.BASE_+8&&h>=64&&h<=127},je.prototype.isColorPAC=function(c){return c>=64&&c<=79||c>=96&&c<=127},je.prototype.isNormalChar=function(c){return c>=32&&c<=127},je.prototype.setRollUp=function(c,h){if(this.mode_!=="rollUp"&&(this.row_=Kl,this.mode_="rollUp",this.flushDisplayed(c),this.nonDisplayed_=Ar(),this.displayed_=Ar()),h!==void 0&&h!==this.row_)for(var m=0;m<this.rollUpRows_;m++)this.displayed_[h-m]=this.displayed_[this.row_-m],this.displayed_[this.row_-m]={text:"",indent:0,offset:0};h===void 0&&(h=this.row_),this.topRow_=h-this.rollUpRows_+1},je.prototype.addFormatting=function(c,h){this.formatting_=this.formatting_.concat(h);var m=h.reduce(function(f,g){return f+"<"+g+">"},"");this[this.mode_](c,m)},je.prototype.clearFormatting=function(c){if(this.formatting_.length){var h=this.formatting_.reverse().reduce(function(m,f){return m+"</"+f+">"},"");this.formatting_=[],this[this.mode_](c,h)}},je.prototype.popOn=function(c,h){var m=this.nonDisplayed_[this.row_].text;m+=h,this.nonDisplayed_[this.row_].text=m},je.prototype.rollUp=function(c,h){var m=this.displayed_[this.row_].text;m+=h,this.displayed_[this.row_].text=m},je.prototype.shiftRowsUp_=function(){var c;for(c=0;c<this.topRow_;c++)this.displayed_[c]={text:"",indent:0,offset:0};for(c=this.row_+1;c<Kl+1;c++)this.displayed_[c]={text:"",indent:0,offset:0};for(c=this.topRow_;c<this.row_;c++)this.displayed_[c]=this.displayed_[c+1];this.displayed_[this.row_]={text:"",indent:0,offset:0}},je.prototype.paintOn=function(c,h){var m=this.displayed_[this.row_].text;m+=h,this.displayed_[this.row_].text=m};var Ly={CaptionStream:$t,Cea608Stream:je,Cea708Stream:Pe},Yl={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},Sk=i,Ek=8589934592,Ck=4294967296,Ny="shared",Oh=function(c,h){var m=1;for(c>h&&(m=-1);Math.abs(h-c)>Ck;)c+=m*Ek;return c},Lh=function(c){var h,m;Lh.prototype.init.call(this),this.type_=c||Ny,this.push=function(f){this.type_!==Ny&&f.type!==this.type_||(m===void 0&&(m=f.dts),f.dts=Oh(f.dts,m),f.pts=Oh(f.pts,m),h=f.dts,this.trigger("data",f))},this.flush=function(){m=h,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){m=void 0,h=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};Lh.prototype=new Sk;var Ry={TimestampRolloverStream:Lh,handleRollover:Oh},kk=(c,h,m)=>{if(!c)return-1;for(var f=m;f<c.length;f++)if(c[f]===h)return f;return-1},Dk={typedArrayIndexOf:kk},Ql=Dk.typedArrayIndexOf,Jl={Iso88591:0,Utf16:1,Utf16be:2,Utf8:3},My=function(c,h,m){var f,g="";for(f=h;f<m;f++)g+="%"+("00"+c[f].toString(16)).slice(-2);return g},Vo=function(c,h,m){return decodeURIComponent(My(c,h,m))},Ho=function(c,h,m){return unescape(My(c,h,m))},qo=function(c){return c[0]<<21|c[1]<<14|c[2]<<7|c[3]},Wo={APIC:function(c){var h=1,m,f,g="-->";c.data[0]===Jl.Utf8&&(m=Ql(c.data,0,h),!(m<0)&&(c.mimeType=Ho(c.data,h,m),h=m+1,c.pictureType=c.data[h],h++,f=Ql(c.data,0,h),!(f<0)&&(c.description=Vo(c.data,h,f),h=f+1,c.mimeType===g?c.url=Ho(c.data,h,c.data.length):c.pictureData=c.data.subarray(h,c.data.length))))},"T*":function(c){c.data[0]===Jl.Utf8&&(c.value=Vo(c.data,1,c.data.length).replace(/\0*$/,""),c.values=c.value.split("\0"))},TXXX:function(c){var h;c.data[0]===Jl.Utf8&&(h=Ql(c.data,0,1),h!==-1&&(c.description=Vo(c.data,1,h),c.value=Vo(c.data,h+1,c.data.length).replace(/\0*$/,""),c.data=c.value))},"W*":function(c){c.url=Ho(c.data,0,c.data.length).replace(/\0.*$/,"")},WXXX:function(c){var h;c.data[0]===Jl.Utf8&&(h=Ql(c.data,0,1),h!==-1&&(c.description=Vo(c.data,1,h),c.url=Ho(c.data,h+1,c.data.length).replace(/\0.*$/,"")))},PRIV:function(c){var h;for(h=0;h<c.data.length;h++)if(c.data[h]===0){c.owner=Ho(c.data,0,h);break}c.privateData=c.data.subarray(h+1),c.data=c.privateData}},Ak=function(c){var h,m,f=10,g=0,_=[];if(!(c.length<10||c[0]!=="I".charCodeAt(0)||c[1]!=="D".charCodeAt(0)||c[2]!=="3".charCodeAt(0))){g=qo(c.subarray(6,10)),g+=10;var D=c[5]&64;D&&(f+=4,f+=qo(c.subarray(10,14)),g-=qo(c.subarray(16,20)));do{if(h=qo(c.subarray(f+4,f+8)),h<1)break;m=String.fromCharCode(c[f],c[f+1],c[f+2],c[f+3]);var P={id:m,data:c.subarray(f+10,f+h+10)};P.key=P.id,Wo[P.id]?Wo[P.id](P):P.id[0]==="T"?Wo["T*"](P):P.id[0]==="W"&&Wo["W*"](P),_.push(P),f+=10,f+=h}while(f<g);return _}},By={parseId3Frames:Ak,parseSyncSafeInteger:qo,frameParsers:Wo},Pk=i,Ik=Yl,Kn=By,Zl;Zl=function(c){var h={descriptor:c&&c.descriptor},m=0,f=[],g=0,_;if(Zl.prototype.init.call(this),this.dispatchType=Ik.METADATA_STREAM_TYPE.toString(16),h.descriptor)for(_=0;_<h.descriptor.length;_++)this.dispatchType+=("00"+h.descriptor[_].toString(16)).slice(-2);this.push=function(D){var P,I,L,R,B,ne;if(D.type==="timed-metadata"){if(D.dataAlignmentIndicator&&(g=0,f.length=0),f.length===0&&(D.data.length<10||D.data[0]!=="I".charCodeAt(0)||D.data[1]!=="D".charCodeAt(0)||D.data[2]!=="3".charCodeAt(0))){this.trigger("log",{level:"warn",message:"Skipping unrecognized metadata packet"});return}if(f.push(D),g+=D.data.byteLength,f.length===1&&(m=Kn.parseSyncSafeInteger(D.data.subarray(6,10)),m+=10),!(g<m)){for(P={data:new Uint8Array(m),frames:[],pts:f[0].pts,dts:f[0].dts},B=0;B<m;)P.data.set(f[0].data.subarray(0,m-B),B),B+=f[0].data.byteLength,g-=f[0].data.byteLength,f.shift();I=10,P.data[5]&64&&(I+=4,I+=Kn.parseSyncSafeInteger(P.data.subarray(10,14)),m-=Kn.parseSyncSafeInteger(P.data.subarray(16,20)));do{if(L=Kn.parseSyncSafeInteger(P.data.subarray(I+4,I+8)),L<1){this.trigger("log",{level:"warn",message:"Malformed ID3 frame encountered. Skipping remaining metadata parsing."});break}if(ne=String.fromCharCode(P.data[I],P.data[I+1],P.data[I+2],P.data[I+3]),R={id:ne,data:P.data.subarray(I+10,I+L+10)},R.key=R.id,Kn.frameParsers[R.id]?Kn.frameParsers[R.id](R):R.id[0]==="T"?Kn.frameParsers["T*"](R):R.id[0]==="W"&&Kn.frameParsers["W*"](R),R.owner==="com.apple.streaming.transportStreamTimestamp"){var V=R.data,de=(V[3]&1)<<30|V[4]<<22|V[5]<<14|V[6]<<6|V[7]>>>2;de*=4,de+=V[7]&3,R.timeStamp=de,P.pts===void 0&&P.dts===void 0&&(P.pts=R.timeStamp,P.dts=R.timeStamp),this.trigger("timestamp",R)}P.frames.push(R),I+=10,I+=L}while(I<m);this.trigger("data",P)}}}},Zl.prototype=new Pk;var Ok=Zl,Nh=i,Rh=Ly,Ri=Yl,Lk=Ry.TimestampRolloverStream,eu,Go,tu,ds=188,Mh=71;eu=function(){var c=new Uint8Array(ds),h=0;eu.prototype.init.call(this),this.push=function(m){var f=0,g=ds,_;for(h?(_=new Uint8Array(m.byteLength+h),_.set(c.subarray(0,h)),_.set(m,h),h=0):_=m;g<_.byteLength;){if(_[f]===Mh&&_[g]===Mh){this.trigger("data",_.subarray(f,g)),f+=ds,g+=ds;continue}f++,g++}f<_.byteLength&&(c.set(_.subarray(f),0),h=_.byteLength-f)},this.flush=function(){h===ds&&c[0]===Mh&&(this.trigger("data",c),h=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){h=0,this.trigger("reset")}},eu.prototype=new Nh,Go=function(){var c,h,m,f;Go.prototype.init.call(this),f=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,c=function(g,_){var D=0;_.payloadUnitStartIndicator&&(D+=g[D]+1),_.type==="pat"?h(g.subarray(D),_):m(g.subarray(D),_)},h=function(g,_){_.section_number=g[7],_.last_section_number=g[8],f.pmtPid=(g[10]&31)<<8|g[11],_.pmtPid=f.pmtPid},m=function(g,_){var D,P,I,L;if(g[5]&1){for(f.programMapTable={video:null,audio:null,"timed-metadata":{}},D=(g[1]&15)<<8|g[2],P=3+D-4,I=(g[10]&15)<<8|g[11],L=12+I;L<P;){var R=g[L],B=(g[L+1]&31)<<8|g[L+2];R===Ri.H264_STREAM_TYPE&&f.programMapTable.video===null?f.programMapTable.video=B:R===Ri.ADTS_STREAM_TYPE&&f.programMapTable.audio===null?f.programMapTable.audio=B:R===Ri.METADATA_STREAM_TYPE&&(f.programMapTable["timed-metadata"][B]=R),L+=((g[L+3]&15)<<8|g[L+4])+5}_.programMapTable=f.programMapTable}},this.push=function(g){var _={},D=4;if(_.payloadUnitStartIndicator=!!(g[1]&64),_.pid=g[1]&31,_.pid<<=8,_.pid|=g[2],(g[3]&48)>>>4>1&&(D+=g[D]+1),_.pid===0)_.type="pat",c(g.subarray(D),_),this.trigger("data",_);else if(_.pid===this.pmtPid)for(_.type="pmt",c(g.subarray(D),_),this.trigger("data",_);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else this.programMapTable===void 0?this.packetsWaitingForPmt.push([g,D,_]):this.processPes_(g,D,_)},this.processPes_=function(g,_,D){D.pid===this.programMapTable.video?D.streamType=Ri.H264_STREAM_TYPE:D.pid===this.programMapTable.audio?D.streamType=Ri.ADTS_STREAM_TYPE:D.streamType=this.programMapTable["timed-metadata"][D.pid],D.type="pes",D.data=g.subarray(_),this.trigger("data",D)}},Go.prototype=new Nh,Go.STREAM_TYPES={h264:27,adts:15},tu=function(){var c=this,h=!1,m={data:[],size:0},f={data:[],size:0},g={data:[],size:0},_,D=function(I,L){var R;const B=I[0]<<16|I[1]<<8|I[2];L.data=new Uint8Array,B===1&&(L.packetLength=6+(I[4]<<8|I[5]),L.dataAlignmentIndicator=(I[6]&4)!==0,R=I[7],R&192&&(L.pts=(I[9]&14)<<27|(I[10]&255)<<20|(I[11]&254)<<12|(I[12]&255)<<5|(I[13]&254)>>>3,L.pts*=4,L.pts+=(I[13]&6)>>>1,L.dts=L.pts,R&64&&(L.dts=(I[14]&14)<<27|(I[15]&255)<<20|(I[16]&254)<<12|(I[17]&255)<<5|(I[18]&254)>>>3,L.dts*=4,L.dts+=(I[18]&6)>>>1)),L.data=I.subarray(9+I[8]))},P=function(I,L,R){var B=new Uint8Array(I.size),ne={type:L},V=0,de=0,fe=!1,rt;if(!(!I.data.length||I.size<9)){for(ne.trackId=I.data[0].pid,V=0;V<I.data.length;V++)rt=I.data[V],B.set(rt.data,de),de+=rt.data.byteLength;D(B,ne),fe=L==="video"||ne.packetLength<=I.size,(R||fe)&&(I.size=0,I.data.length=0),fe&&c.trigger("data",ne)}};tu.prototype.init.call(this),this.push=function(I){({pat:function(){},pes:function(){var L,R;switch(I.streamType){case Ri.H264_STREAM_TYPE:L=m,R="video";break;case Ri.ADTS_STREAM_TYPE:L=f,R="audio";break;case Ri.METADATA_STREAM_TYPE:L=g,R="timed-metadata";break;default:return}I.payloadUnitStartIndicator&&P(L,R,!0),L.data.push(I),L.size+=I.data.byteLength},pmt:function(){var L={type:"metadata",tracks:[]};_=I.programMapTable,_.video!==null&&L.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+_.video,codec:"avc",type:"video"}),_.audio!==null&&L.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+_.audio,codec:"adts",type:"audio"}),h=!0,c.trigger("data",L)}})[I.type]()},this.reset=function(){m.size=0,m.data.length=0,f.size=0,f.data.length=0,this.trigger("reset")},this.flushStreams_=function(){P(m,"video"),P(f,"audio"),P(g,"timed-metadata")},this.flush=function(){if(!h&&_){var I={type:"metadata",tracks:[]};_.video!==null&&I.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+_.video,codec:"avc",type:"video"}),_.audio!==null&&I.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+_.audio,codec:"adts",type:"audio"}),c.trigger("data",I)}h=!1,this.flushStreams_(),this.trigger("done")}},tu.prototype=new Nh;var Fy={PAT_PID:0,MP2T_PACKET_LENGTH:ds,TransportPacketStream:eu,TransportParseStream:Go,ElementaryStream:tu,TimestampRolloverStream:Lk,CaptionStream:Rh.CaptionStream,Cea608Stream:Rh.Cea608Stream,Cea708Stream:Rh.Cea708Stream,MetadataStream:Ok};for(var Bh in Ri)Ri.hasOwnProperty(Bh)&&(Fy[Bh]=Ri[Bh]);var Nk=Fy,Rk=i,Mk=Me.ONE_SECOND_IN_TS,iu,jy=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];iu=function(c){var h,m=0;iu.prototype.init.call(this),this.skipWarn_=function(f,g){this.trigger("log",{level:"warn",message:`adts skiping bytes ${f} to ${g} in frame ${m} outside syncword`})},this.push=function(f){var g=0,_,D,P,I,L;if(c||(m=0),f.type==="audio"){h&&h.length?(P=h,h=new Uint8Array(P.byteLength+f.data.byteLength),h.set(P),h.set(f.data,P.byteLength)):h=f.data;for(var R;g+7<h.length;){if(h[g]!==255||(h[g+1]&246)!==240){typeof R!="number"&&(R=g),g++;continue}if(typeof R=="number"&&(this.skipWarn_(R,g),R=null),D=(~h[g+1]&1)*2,_=(h[g+3]&3)<<11|h[g+4]<<3|(h[g+5]&224)>>5,I=((h[g+6]&3)+1)*1024,L=I*Mk/jy[(h[g+2]&60)>>>2],h.byteLength-g<_)break;this.trigger("data",{pts:f.pts+m*L,dts:f.dts+m*L,sampleCount:I,audioobjecttype:(h[g+2]>>>6&3)+1,channelcount:(h[g+2]&1)<<2|(h[g+3]&192)>>>6,samplerate:jy[(h[g+2]&60)>>>2],samplingfrequencyindex:(h[g+2]&60)>>>2,samplesize:16,data:h.subarray(g+7+D,g+_)}),m++,g+=_}typeof R=="number"&&(this.skipWarn_(R,g),R=null),h=h.subarray(g)}},this.flush=function(){m=0,this.trigger("done")},this.reset=function(){h=void 0,this.trigger("reset")},this.endTimeline=function(){h=void 0,this.trigger("endedtimeline")}},iu.prototype=new Rk;var Bk=iu,Uy;Uy=function(c){var h=c.byteLength,m=0,f=0;this.length=function(){return 8*h},this.bitsAvailable=function(){return 8*h+f},this.loadWord=function(){var g=c.byteLength-h,_=new Uint8Array(4),D=Math.min(4,h);if(D===0)throw new Error("no bytes available");_.set(c.subarray(g,g+D)),m=new DataView(_.buffer).getUint32(0),f=D*8,h-=D},this.skipBits=function(g){var _;f>g?(m<<=g,f-=g):(g-=f,_=Math.floor(g/8),g-=_*8,h-=_,this.loadWord(),m<<=g,f-=g)},this.readBits=function(g){var _=Math.min(f,g),D=m>>>32-_;return f-=_,f>0?m<<=_:h>0&&this.loadWord(),_=g-_,_>0?D<<_|this.readBits(_):D},this.skipLeadingZeros=function(){var g;for(g=0;g<f;++g)if(m&2147483648>>>g)return m<<=g,f-=g,g;return this.loadWord(),g+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var g=this.skipLeadingZeros();return this.readBits(g+1)-1},this.readExpGolomb=function(){var g=this.readUnsignedExpGolomb();return 1&g?1+g>>>1:-1*(g>>>1)},this.readBoolean=function(){return this.readBits(1)===1},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};var Fk=Uy,$y=i,jk=Fk,nu,Xo,zy;Xo=function(){var c=0,h,m;Xo.prototype.init.call(this),this.push=function(f){var g;m?(g=new Uint8Array(m.byteLength+f.data.byteLength),g.set(m),g.set(f.data,m.byteLength),m=g):m=f.data;for(var _=m.byteLength;c<_-3;c++)if(m[c+2]===1){h=c+5;break}for(;h<_;)switch(m[h]){case 0:if(m[h-1]!==0){h+=2;break}else if(m[h-2]!==0){h++;break}c+3!==h-2&&this.trigger("data",m.subarray(c+3,h-2));do h++;while(m[h]!==1&&h<_);c=h-2,h+=3;break;case 1:if(m[h-1]!==0||m[h-2]!==0){h+=3;break}this.trigger("data",m.subarray(c+3,h-2)),c=h-2,h+=3;break;default:h+=3;break}m=m.subarray(c),h-=c,c=0},this.reset=function(){m=null,c=0,this.trigger("reset")},this.flush=function(){m&&m.byteLength>3&&this.trigger("data",m.subarray(c+3)),m=null,c=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}},Xo.prototype=new $y,zy={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},nu=function(){var c=new Xo,h,m,f,g,_,D,P;nu.prototype.init.call(this),h=this,this.push=function(I){I.type==="video"&&(m=I.trackId,f=I.pts,g=I.dts,c.push(I))},c.on("data",function(I){var L={trackId:m,pts:f,dts:g,data:I,nalUnitTypeCode:I[0]&31};switch(L.nalUnitTypeCode){case 5:L.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:L.nalUnitType="sei_rbsp",L.escapedRBSP=_(I.subarray(1));break;case 7:L.nalUnitType="seq_parameter_set_rbsp",L.escapedRBSP=_(I.subarray(1)),L.config=D(L.escapedRBSP);break;case 8:L.nalUnitType="pic_parameter_set_rbsp";break;case 9:L.nalUnitType="access_unit_delimiter_rbsp";break}h.trigger("data",L)}),c.on("done",function(){h.trigger("done")}),c.on("partialdone",function(){h.trigger("partialdone")}),c.on("reset",function(){h.trigger("reset")}),c.on("endedtimeline",function(){h.trigger("endedtimeline")}),this.flush=function(){c.flush()},this.partialFlush=function(){c.partialFlush()},this.reset=function(){c.reset()},this.endTimeline=function(){c.endTimeline()},P=function(I,L){var R=8,B=8,ne,V;for(ne=0;ne<I;ne++)B!==0&&(V=L.readExpGolomb(),B=(R+V+256)%256),R=B===0?R:B},_=function(I){for(var L=I.byteLength,R=[],B=1,ne,V;B<L-2;)I[B]===0&&I[B+1]===0&&I[B+2]===3?(R.push(B+2),B+=2):B++;if(R.length===0)return I;ne=L-R.length,V=new Uint8Array(ne);var de=0;for(B=0;B<ne;de++,B++)de===R[0]&&(de++,R.shift()),V[B]=I[de];return V},D=function(I){var L=0,R=0,B=0,ne=0,V,de,fe,rt,gi,Or,gv,yv,vv,Xh,_v,Qe=[1,1],bv,Lr;if(V=new jk(I),de=V.readUnsignedByte(),rt=V.readUnsignedByte(),fe=V.readUnsignedByte(),V.skipUnsignedExpGolomb(),zy[de]&&(gi=V.readUnsignedExpGolomb(),gi===3&&V.skipBits(1),V.skipUnsignedExpGolomb(),V.skipUnsignedExpGolomb(),V.skipBits(1),V.readBoolean()))for(_v=gi!==3?8:12,Lr=0;Lr<_v;Lr++)V.readBoolean()&&(Lr<6?P(16,V):P(64,V));if(V.skipUnsignedExpGolomb(),Or=V.readUnsignedExpGolomb(),Or===0)V.readUnsignedExpGolomb();else if(Or===1)for(V.skipBits(1),V.skipExpGolomb(),V.skipExpGolomb(),gv=V.readUnsignedExpGolomb(),Lr=0;Lr<gv;Lr++)V.skipExpGolomb();if(V.skipUnsignedExpGolomb(),V.skipBits(1),yv=V.readUnsignedExpGolomb(),vv=V.readUnsignedExpGolomb(),Xh=V.readBits(1),Xh===0&&V.skipBits(1),V.skipBits(1),V.readBoolean()&&(L=V.readUnsignedExpGolomb(),R=V.readUnsignedExpGolomb(),B=V.readUnsignedExpGolomb(),ne=V.readUnsignedExpGolomb()),V.readBoolean()&&V.readBoolean()){switch(bv=V.readUnsignedByte(),bv){case 1:Qe=[1,1];break;case 2:Qe=[12,11];break;case 3:Qe=[10,11];break;case 4:Qe=[16,11];break;case 5:Qe=[40,33];break;case 6:Qe=[24,11];break;case 7:Qe=[20,11];break;case 8:Qe=[32,11];break;case 9:Qe=[80,33];break;case 10:Qe=[18,11];break;case 11:Qe=[15,11];break;case 12:Qe=[64,33];break;case 13:Qe=[160,99];break;case 14:Qe=[4,3];break;case 15:Qe=[3,2];break;case 16:Qe=[2,1];break;case 255:{Qe=[V.readUnsignedByte()<<8|V.readUnsignedByte(),V.readUnsignedByte()<<8|V.readUnsignedByte()];break}}Qe&&Qe[0]/Qe[1]}return{profileIdc:de,levelIdc:fe,profileCompatibility:rt,width:(yv+1)*16-L*2-R*2,height:(2-Xh)*(vv+1)*16-B*2-ne*2,sarRatio:Qe}}},nu.prototype=new $y;var Uk={H264Stream:nu,NalByteStream:Xo},$k=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],Vy=function(c,h){var m=c[h+6]<<21|c[h+7]<<14|c[h+8]<<7|c[h+9],f=c[h+5],g=(f&16)>>4;return m=m>=0?m:0,g?m+20:m+10},Hy=function(c,h){return c.length-h<10||c[h]!=="I".charCodeAt(0)||c[h+1]!=="D".charCodeAt(0)||c[h+2]!=="3".charCodeAt(0)?h:(h+=Vy(c,h),Hy(c,h))},zk=function(c){var h=Hy(c,0);return c.length>=h+2&&(c[h]&255)===255&&(c[h+1]&240)===240&&(c[h+1]&22)===16},qy=function(c){return c[0]<<21|c[1]<<14|c[2]<<7|c[3]},Vk=function(c,h,m){var f,g="";for(f=h;f<m;f++)g+="%"+("00"+c[f].toString(16)).slice(-2);return g},Hk=function(c,h,m){return unescape(Vk(c,h,m))},qk=function(c,h){var m=(c[h+5]&224)>>5,f=c[h+4]<<3,g=c[h+3]&6144;return g|f|m},Wk=function(c,h){return c[h]==="I".charCodeAt(0)&&c[h+1]==="D".charCodeAt(0)&&c[h+2]==="3".charCodeAt(0)?"timed-metadata":c[h]&!0&&(c[h+1]&240)===240?"audio":null},Gk=function(c){for(var h=0;h+5<c.length;){if(c[h]!==255||(c[h+1]&246)!==240){h++;continue}return $k[(c[h+2]&60)>>>2]}return null},Xk=function(c){var h,m,f,g;h=10,c[5]&64&&(h+=4,h+=qy(c.subarray(10,14)));do{if(m=qy(c.subarray(h+4,h+8)),m<1)return null;if(g=String.fromCharCode(c[h],c[h+1],c[h+2],c[h+3]),g==="PRIV"){f=c.subarray(h+10,h+m+10);for(var _=0;_<f.byteLength;_++)if(f[_]===0){var D=Hk(f,0,_);if(D==="com.apple.streaming.transportStreamTimestamp"){var P=f.subarray(_+1),I=(P[3]&1)<<30|P[4]<<22|P[5]<<14|P[6]<<6|P[7]>>>2;return I*=4,I+=P[7]&3,I}break}}h+=10,h+=m}while(h<c.byteLength);return null},Fh={isLikelyAacData:zk,parseId3TagSize:Vy,parseAdtsSize:qk,parseType:Wk,parseSampleRate:Gk,parseAacTimestamp:Xk},Kk=i,Wy=Fh,ru;ru=function(){var c=new Uint8Array,h=0;ru.prototype.init.call(this),this.setTimestamp=function(m){h=m},this.push=function(m){var f=0,g=0,_,D,P,I;for(c.length?(I=c.length,c=new Uint8Array(m.byteLength+I),c.set(c.subarray(0,I)),c.set(m,I)):c=m;c.length-g>=3;){if(c[g]==="I".charCodeAt(0)&&c[g+1]==="D".charCodeAt(0)&&c[g+2]==="3".charCodeAt(0)){if(c.length-g<10||(f=Wy.parseId3TagSize(c,g),g+f>c.length))break;D={type:"timed-metadata",data:c.subarray(g,g+f)},this.trigger("data",D),g+=f;continue}else if((c[g]&255)===255&&(c[g+1]&240)===240){if(c.length-g<7||(f=Wy.parseAdtsSize(c,g),g+f>c.length))break;P={type:"audio",data:c.subarray(g,g+f),pts:h,dts:h},this.trigger("data",P),g+=f;continue}g++}_=c.length-g,_>0?c=c.subarray(g):c=new Uint8Array},this.reset=function(){c=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){c=new Uint8Array,this.trigger("endedtimeline")}},ru.prototype=new Kk;var Yk=ru,Qk=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],Jk=Qk,Zk=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],eD=Zk,su=i,Ko=cs,Yo=ek,ou=uk,Mi=pk,En=Nk,au=Me,Gy=Bk,tD=Uk.H264Stream,iD=Yk,nD=Fh.isLikelyAacData,rD=Me.ONE_SECOND_IN_TS,jh=Jk,Uh=eD,Qo,hs,lu,Pr,sD=function(c,h){h.stream=c,this.trigger("log",h)},Xy=function(c,h){for(var m=Object.keys(h),f=0;f<m.length;f++){var g=m[f];g==="headOfPipeline"||!h[g].on||h[g].on("log",sD.bind(c,g))}},Ky=function(c,h){var m;if(c.length!==h.length)return!1;for(m=0;m<c.length;m++)if(c[m]!==h[m])return!1;return!0},$h=function(c,h,m,f,g,_){var D=m-h,P=f-h,I=g-m;return{start:{dts:c,pts:c+D},end:{dts:c+P,pts:c+I},prependedContentDuration:_,baseMediaDecodeTime:c}};hs=function(c,h){var m=[],f,g=0,_=0,D=1/0;h=h||{},f=h.firstSequenceNumber||0,hs.prototype.init.call(this),this.push=function(P){Mi.collectDtsInfo(c,P),c&&jh.forEach(function(I){c[I]=P[I]}),m.push(P)},this.setEarliestDts=function(P){g=P},this.setVideoBaseMediaDecodeTime=function(P){D=P},this.setAudioAppendStart=function(P){_=P},this.flush=function(){var P,I,L,R,B,ne,V;if(m.length===0){this.trigger("done","AudioSegmentStream");return}P=ou.trimAdtsFramesByEarliestDts(m,c,g),c.baseMediaDecodeTime=Mi.calculateTrackBaseMediaDecodeTime(c,h.keepOriginalTimestamps),V=ou.prefixWithSilence(c,P,_,D),c.samples=ou.generateSampleTable(P),L=Ko.mdat(ou.concatenateFrameData(P)),m=[],I=Ko.moof(f,[c]),R=new Uint8Array(I.byteLength+L.byteLength),f++,R.set(I),R.set(L,I.byteLength),Mi.clearDtsInfo(c),B=Math.ceil(rD*1024/c.samplerate),P.length&&(ne=P.length*B,this.trigger("segmentTimingInfo",$h(au.audioTsToVideoTs(c.baseMediaDecodeTime,c.samplerate),P[0].dts,P[0].pts,P[0].dts+ne,P[0].pts+ne,V||0)),this.trigger("timingInfo",{start:P[0].pts,end:P[0].pts+ne})),this.trigger("data",{track:c,boxes:R}),this.trigger("done","AudioSegmentStream")},this.reset=function(){Mi.clearDtsInfo(c),m=[],this.trigger("reset")}},hs.prototype=new su,Qo=function(c,h){var m,f=[],g=[],_,D;h=h||{},m=h.firstSequenceNumber||0,Qo.prototype.init.call(this),delete c.minPTS,this.gopCache_=[],this.push=function(P){Mi.collectDtsInfo(c,P),P.nalUnitType==="seq_parameter_set_rbsp"&&!_&&(_=P.config,c.sps=[P.data],Uh.forEach(function(I){c[I]=_[I]},this)),P.nalUnitType==="pic_parameter_set_rbsp"&&!D&&(D=P.data,c.pps=[P.data]),f.push(P)},this.flush=function(){for(var P,I,L,R,B,ne,V=0,de,fe;f.length&&f[0].nalUnitType!=="access_unit_delimiter_rbsp";)f.shift();if(f.length===0){this.resetStream_(),this.trigger("done","VideoSegmentStream");return}if(P=Yo.groupNalsIntoFrames(f),L=Yo.groupFramesIntoGops(P),L[0][0].keyFrame||(I=this.getGopForFusion_(f[0],c),I?(V=I.duration,L.unshift(I),L.byteLength+=I.byteLength,L.nalCount+=I.nalCount,L.pts=I.pts,L.dts=I.dts,L.duration+=I.duration):L=Yo.extendFirstKeyFrame(L)),g.length){var rt;if(h.alignGopsAtEnd?rt=this.alignGopsAtEnd_(L):rt=this.alignGopsAtStart_(L),!rt){this.gopCache_.unshift({gop:L.pop(),pps:c.pps,sps:c.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),f=[],this.resetStream_(),this.trigger("done","VideoSegmentStream");return}Mi.clearDtsInfo(c),L=rt}Mi.collectDtsInfo(c,L),c.samples=Yo.generateSampleTable(L),B=Ko.mdat(Yo.concatenateNalData(L)),c.baseMediaDecodeTime=Mi.calculateTrackBaseMediaDecodeTime(c,h.keepOriginalTimestamps),this.trigger("processedGopsInfo",L.map(function(gi){return{pts:gi.pts,dts:gi.dts,byteLength:gi.byteLength}})),de=L[0],fe=L[L.length-1],this.trigger("segmentTimingInfo",$h(c.baseMediaDecodeTime,de.dts,de.pts,fe.dts+fe.duration,fe.pts+fe.duration,V)),this.trigger("timingInfo",{start:L[0].pts,end:L[L.length-1].pts+L[L.length-1].duration}),this.gopCache_.unshift({gop:L.pop(),pps:c.pps,sps:c.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),f=[],this.trigger("baseMediaDecodeTime",c.baseMediaDecodeTime),this.trigger("timelineStartInfo",c.timelineStartInfo),R=Ko.moof(m,[c]),ne=new Uint8Array(R.byteLength+B.byteLength),m++,ne.set(R),ne.set(B,R.byteLength),this.trigger("data",{track:c,boxes:ne}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),f=[],this.gopCache_.length=0,g.length=0,this.trigger("reset")},this.resetStream_=function(){Mi.clearDtsInfo(c),_=void 0,D=void 0},this.getGopForFusion_=function(P){var I=45e3,L=1e4,R=1/0,B,ne,V,de,fe;for(fe=0;fe<this.gopCache_.length;fe++)de=this.gopCache_[fe],V=de.gop,!(!(c.pps&&Ky(c.pps[0],de.pps[0]))||!(c.sps&&Ky(c.sps[0],de.sps[0])))&&(V.dts<c.timelineStartInfo.dts||(B=P.dts-V.dts-V.duration,B>=-L&&B<=I&&(!ne||R>B)&&(ne=de,R=B)));return ne?ne.gop:null},this.alignGopsAtStart_=function(P){var I,L,R,B,ne,V,de,fe;for(ne=P.byteLength,V=P.nalCount,de=P.duration,I=L=0;I<g.length&&L<P.length&&(R=g[I],B=P[L],R.pts!==B.pts);){if(B.pts>R.pts){I++;continue}L++,ne-=B.byteLength,V-=B.nalCount,de-=B.duration}return L===0?P:L===P.length?null:(fe=P.slice(L),fe.byteLength=ne,fe.duration=de,fe.nalCount=V,fe.pts=fe[0].pts,fe.dts=fe[0].dts,fe)},this.alignGopsAtEnd_=function(P){var I,L,R,B,ne,V;for(I=g.length-1,L=P.length-1,ne=null,V=!1;I>=0&&L>=0;){if(R=g[I],B=P[L],R.pts===B.pts){V=!0;break}if(R.pts>B.pts){I--;continue}I===g.length-1&&(ne=L),L--}if(!V&&ne===null)return null;var de;if(V?de=L:de=ne,de===0)return P;var fe=P.slice(de),rt=fe.reduce(function(gi,Or){return gi.byteLength+=Or.byteLength,gi.duration+=Or.duration,gi.nalCount+=Or.nalCount,gi},{byteLength:0,duration:0,nalCount:0});return fe.byteLength=rt.byteLength,fe.duration=rt.duration,fe.nalCount=rt.nalCount,fe.pts=fe[0].pts,fe.dts=fe[0].dts,fe},this.alignGopsWith=function(P){g=P}},Qo.prototype=new su,Pr=function(c,h){this.numberOfTracks=0,this.metadataStream=h,c=c||{},typeof c.remux<"u"?this.remuxTracks=!!c.remux:this.remuxTracks=!0,typeof c.keepOriginalTimestamps=="boolean"?this.keepOriginalTimestamps=c.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,Pr.prototype.init.call(this),this.push=function(m){if(m.content||m.text)return this.pendingCaptions.push(m);if(m.frames)return this.pendingMetadata.push(m);this.pendingTracks.push(m.track),this.pendingBytes+=m.boxes.byteLength,m.track.type==="video"&&(this.videoTrack=m.track,this.pendingBoxes.push(m.boxes)),m.track.type==="audio"&&(this.audioTrack=m.track,this.pendingBoxes.unshift(m.boxes))}},Pr.prototype=new su,Pr.prototype.flush=function(c){var h=0,m={captions:[],captionStreams:{},metadata:[],info:{}},f,g,_,D=0,P;if(this.pendingTracks.length<this.numberOfTracks){if(c!=="VideoSegmentStream"&&c!=="AudioSegmentStream")return;if(this.remuxTracks)return;if(this.pendingTracks.length===0){this.emittedTracks++,this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0);return}}if(this.videoTrack?(D=this.videoTrack.timelineStartInfo.pts,Uh.forEach(function(I){m.info[I]=this.videoTrack[I]},this)):this.audioTrack&&(D=this.audioTrack.timelineStartInfo.pts,jh.forEach(function(I){m.info[I]=this.audioTrack[I]},this)),this.videoTrack||this.audioTrack){for(this.pendingTracks.length===1?m.type=this.pendingTracks[0].type:m.type="combined",this.emittedTracks+=this.pendingTracks.length,_=Ko.initSegment(this.pendingTracks),m.initSegment=new Uint8Array(_.byteLength),m.initSegment.set(_),m.data=new Uint8Array(this.pendingBytes),P=0;P<this.pendingBoxes.length;P++)m.data.set(this.pendingBoxes[P],h),h+=this.pendingBoxes[P].byteLength;for(P=0;P<this.pendingCaptions.length;P++)f=this.pendingCaptions[P],f.startTime=au.metadataTsToSeconds(f.startPts,D,this.keepOriginalTimestamps),f.endTime=au.metadataTsToSeconds(f.endPts,D,this.keepOriginalTimestamps),m.captionStreams[f.stream]=!0,m.captions.push(f);for(P=0;P<this.pendingMetadata.length;P++)g=this.pendingMetadata[P],g.cueTime=au.metadataTsToSeconds(g.pts,D,this.keepOriginalTimestamps),m.metadata.push(g);for(m.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",m),P=0;P<m.captions.length;P++)f=m.captions[P],this.trigger("caption",f);for(P=0;P<m.metadata.length;P++)g=m.metadata[P],this.trigger("id3Frame",g)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},Pr.prototype.setRemux=function(c){this.remuxTracks=c},lu=function(c){var h=this,m=!0,f,g;lu.prototype.init.call(this),c=c||{},this.baseMediaDecodeTime=c.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var _={};this.transmuxPipeline_=_,_.type="aac",_.metadataStream=new En.MetadataStream,_.aacStream=new iD,_.audioTimestampRolloverStream=new En.TimestampRolloverStream("audio"),_.timedMetadataTimestampRolloverStream=new En.TimestampRolloverStream("timed-metadata"),_.adtsStream=new Gy,_.coalesceStream=new Pr(c,_.metadataStream),_.headOfPipeline=_.aacStream,_.aacStream.pipe(_.audioTimestampRolloverStream).pipe(_.adtsStream),_.aacStream.pipe(_.timedMetadataTimestampRolloverStream).pipe(_.metadataStream).pipe(_.coalesceStream),_.metadataStream.on("timestamp",function(D){_.aacStream.setTimestamp(D.timeStamp)}),_.aacStream.on("data",function(D){D.type!=="timed-metadata"&&D.type!=="audio"||_.audioSegmentStream||(g=g||{timelineStartInfo:{baseMediaDecodeTime:h.baseMediaDecodeTime},codec:"adts",type:"audio"},_.coalesceStream.numberOfTracks++,_.audioSegmentStream=new hs(g,c),_.audioSegmentStream.on("log",h.getLogTrigger_("audioSegmentStream")),_.audioSegmentStream.on("timingInfo",h.trigger.bind(h,"audioTimingInfo")),_.adtsStream.pipe(_.audioSegmentStream).pipe(_.coalesceStream),h.trigger("trackinfo",{hasAudio:!!g,hasVideo:!!f}))}),_.coalesceStream.on("data",this.trigger.bind(this,"data")),_.coalesceStream.on("done",this.trigger.bind(this,"done")),Xy(this,_)},this.setupTsPipeline=function(){var _={};this.transmuxPipeline_=_,_.type="ts",_.metadataStream=new En.MetadataStream,_.packetStream=new En.TransportPacketStream,_.parseStream=new En.TransportParseStream,_.elementaryStream=new En.ElementaryStream,_.timestampRolloverStream=new En.TimestampRolloverStream,_.adtsStream=new Gy,_.h264Stream=new tD,_.captionStream=new En.CaptionStream(c),_.coalesceStream=new Pr(c,_.metadataStream),_.headOfPipeline=_.packetStream,_.packetStream.pipe(_.parseStream).pipe(_.elementaryStream).pipe(_.timestampRolloverStream),_.timestampRolloverStream.pipe(_.h264Stream),_.timestampRolloverStream.pipe(_.adtsStream),_.timestampRolloverStream.pipe(_.metadataStream).pipe(_.coalesceStream),_.h264Stream.pipe(_.captionStream).pipe(_.coalesceStream),_.elementaryStream.on("data",function(D){var P;if(D.type==="metadata"){for(P=D.tracks.length;P--;)!f&&D.tracks[P].type==="video"?(f=D.tracks[P],f.timelineStartInfo.baseMediaDecodeTime=h.baseMediaDecodeTime):!g&&D.tracks[P].type==="audio"&&(g=D.tracks[P],g.timelineStartInfo.baseMediaDecodeTime=h.baseMediaDecodeTime);f&&!_.videoSegmentStream&&(_.coalesceStream.numberOfTracks++,_.videoSegmentStream=new Qo(f,c),_.videoSegmentStream.on("log",h.getLogTrigger_("videoSegmentStream")),_.videoSegmentStream.on("timelineStartInfo",function(I){g&&!c.keepOriginalTimestamps&&(g.timelineStartInfo=I,_.audioSegmentStream.setEarliestDts(I.dts-h.baseMediaDecodeTime))}),_.videoSegmentStream.on("processedGopsInfo",h.trigger.bind(h,"gopInfo")),_.videoSegmentStream.on("segmentTimingInfo",h.trigger.bind(h,"videoSegmentTimingInfo")),_.videoSegmentStream.on("baseMediaDecodeTime",function(I){g&&_.audioSegmentStream.setVideoBaseMediaDecodeTime(I)}),_.videoSegmentStream.on("timingInfo",h.trigger.bind(h,"videoTimingInfo")),_.h264Stream.pipe(_.videoSegmentStream).pipe(_.coalesceStream)),g&&!_.audioSegmentStream&&(_.coalesceStream.numberOfTracks++,_.audioSegmentStream=new hs(g,c),_.audioSegmentStream.on("log",h.getLogTrigger_("audioSegmentStream")),_.audioSegmentStream.on("timingInfo",h.trigger.bind(h,"audioTimingInfo")),_.audioSegmentStream.on("segmentTimingInfo",h.trigger.bind(h,"audioSegmentTimingInfo")),_.adtsStream.pipe(_.audioSegmentStream).pipe(_.coalesceStream)),h.trigger("trackinfo",{hasAudio:!!g,hasVideo:!!f})}}),_.coalesceStream.on("data",this.trigger.bind(this,"data")),_.coalesceStream.on("id3Frame",function(D){D.dispatchType=_.metadataStream.dispatchType,h.trigger("id3Frame",D)}),_.coalesceStream.on("caption",this.trigger.bind(this,"caption")),_.coalesceStream.on("done",this.trigger.bind(this,"done")),Xy(this,_)},this.setBaseMediaDecodeTime=function(_){var D=this.transmuxPipeline_;c.keepOriginalTimestamps||(this.baseMediaDecodeTime=_),g&&(g.timelineStartInfo.dts=void 0,g.timelineStartInfo.pts=void 0,Mi.clearDtsInfo(g),D.audioTimestampRolloverStream&&D.audioTimestampRolloverStream.discontinuity()),f&&(D.videoSegmentStream&&(D.videoSegmentStream.gopCache_=[]),f.timelineStartInfo.dts=void 0,f.timelineStartInfo.pts=void 0,Mi.clearDtsInfo(f),D.captionStream.reset()),D.timestampRolloverStream&&D.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(_){g&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(_)},this.setRemux=function(_){var D=this.transmuxPipeline_;c.remux=_,D&&D.coalesceStream&&D.coalesceStream.setRemux(_)},this.alignGopsWith=function(_){f&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(_)},this.getLogTrigger_=function(_){var D=this;return function(P){P.stream=_,D.trigger("log",P)}},this.push=function(_){if(m){var D=nD(_);D&&this.transmuxPipeline_.type!=="aac"?this.setupAacPipeline():!D&&this.transmuxPipeline_.type!=="ts"&&this.setupTsPipeline(),m=!1}this.transmuxPipeline_.headOfPipeline.push(_)},this.flush=function(){m=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}},lu.prototype=new su;var oD={Transmuxer:lu,VideoSegmentStream:Qo,AudioSegmentStream:hs,AUDIO_PROPERTIES:jh,VIDEO_PROPERTIES:Uh,generateSegmentTimingInfo:$h},aD=function(c){return c>>>0},lD=function(c){return("00"+c.toString(16)).slice(-2)},uu={toUnsigned:aD,toHexString:lD},uD=function(c){var h="";return h+=String.fromCharCode(c[0]),h+=String.fromCharCode(c[1]),h+=String.fromCharCode(c[2]),h+=String.fromCharCode(c[3]),h},Yy=uD,cD=uu.toUnsigned,dD=Yy,Qy=function(c,h){var m=[],f,g,_,D,P;if(!h.length)return null;for(f=0;f<c.byteLength;)g=cD(c[f]<<24|c[f+1]<<16|c[f+2]<<8|c[f+3]),_=dD(c.subarray(f+4,f+8)),D=g>1?f+g:c.byteLength,_===h[0]&&(h.length===1?m.push(c.subarray(f+8,D)):(P=Qy(c.subarray(f+8,D),h.slice(1)),P.length&&(m=m.concat(P)))),f=D;return m},Jy=Qy,hD=uu.toUnsigned,fD=s.getUint64,pD=function(c){var h={version:c[0],flags:new Uint8Array(c.subarray(1,4))};return h.version===1?h.baseMediaDecodeTime=fD(c.subarray(4)):h.baseMediaDecodeTime=hD(c[4]<<24|c[5]<<16|c[6]<<8|c[7]),h},Zy=pD,mD=function(c){return{isLeading:(c[0]&12)>>>2,dependsOn:c[0]&3,isDependedOn:(c[1]&192)>>>6,hasRedundancy:(c[1]&48)>>>4,paddingValue:(c[1]&14)>>>1,isNonSyncSample:c[1]&1,degradationPriority:c[2]<<8|c[3]}},gD=mD,ev=gD,yD=function(c){var h={version:c[0],flags:new Uint8Array(c.subarray(1,4)),samples:[]},m=new DataView(c.buffer,c.byteOffset,c.byteLength),f=h.flags[2]&1,g=h.flags[2]&4,_=h.flags[1]&1,D=h.flags[1]&2,P=h.flags[1]&4,I=h.flags[1]&8,L=m.getUint32(4),R=8,B;for(f&&(h.dataOffset=m.getInt32(R),R+=4),g&&L&&(B={flags:ev(c.subarray(R,R+4))},R+=4,_&&(B.duration=m.getUint32(R),R+=4),D&&(B.size=m.getUint32(R),R+=4),I&&(h.version===1?B.compositionTimeOffset=m.getInt32(R):B.compositionTimeOffset=m.getUint32(R),R+=4),h.samples.push(B),L--);L--;)B={},_&&(B.duration=m.getUint32(R),R+=4),D&&(B.size=m.getUint32(R),R+=4),P&&(B.flags=ev(c.subarray(R,R+4)),R+=4),I&&(h.version===1?B.compositionTimeOffset=m.getInt32(R):B.compositionTimeOffset=m.getUint32(R),R+=4),h.samples.push(B);return h},tv=yD,vD=function(c){var h=new DataView(c.buffer,c.byteOffset,c.byteLength),m={version:c[0],flags:new Uint8Array(c.subarray(1,4)),trackId:h.getUint32(4)},f=m.flags[2]&1,g=m.flags[2]&2,_=m.flags[2]&8,D=m.flags[2]&16,P=m.flags[2]&32,I=m.flags[0]&65536,L=m.flags[0]&131072,R;return R=8,f&&(R+=4,m.baseDataOffset=h.getUint32(12),R+=4),g&&(m.sampleDescriptionIndex=h.getUint32(R),R+=4),_&&(m.defaultSampleDuration=h.getUint32(R),R+=4),D&&(m.defaultSampleSize=h.getUint32(R),R+=4),P&&(m.defaultSampleFlags=h.getUint32(R)),I&&(m.durationIsEmpty=!0),!f&&L&&(m.baseDataOffsetIsMoof=!0),m},iv=vD,Jo;typeof window<"u"?Jo=window:typeof t<"u"?Jo=t:typeof self<"u"?Jo=self:Jo={};var nv=Jo,_D=Oy.discardEmulationPreventionBytes,bD=Ly.CaptionStream,Zo=Jy,xD=Zy,TD=tv,wD=iv,rv=nv,SD=function(c,h){for(var m=c,f=0;f<h.length;f++){var g=h[f];if(m<g.size)return g;m-=g.size}return null},ED=function(c,h,m){var f=new DataView(c.buffer,c.byteOffset,c.byteLength),g={logs:[],seiNals:[]},_,D,P,I;for(D=0;D+4<c.length;D+=P)if(P=f.getUint32(D),D+=4,!(P<=0))switch(c[D]&31){case 6:var L=c.subarray(D+1,D+1+P),R=SD(D,h);if(_={nalUnitType:"sei_rbsp",size:P,data:L,escapedRBSP:_D(L),trackId:m},R)_.pts=R.pts,_.dts=R.dts,I=R;else if(I)_.pts=I.pts,_.dts=I.dts;else{g.logs.push({level:"warn",message:"We've encountered a nal unit without data at "+D+" for trackId "+m+". See mux.js#223."});break}g.seiNals.push(_);break}return g},CD=function(c,h,m){var f=h,g=m.defaultSampleDuration||0,_=m.defaultSampleSize||0,D=m.trackId,P=[];return c.forEach(function(I){var L=TD(I),R=L.samples;R.forEach(function(B){B.duration===void 0&&(B.duration=g),B.size===void 0&&(B.size=_),B.trackId=D,B.dts=f,B.compositionTimeOffset===void 0&&(B.compositionTimeOffset=0),typeof f=="bigint"?(B.pts=f+rv.BigInt(B.compositionTimeOffset),f+=rv.BigInt(B.duration)):(B.pts=f+B.compositionTimeOffset,f+=B.duration)}),P=P.concat(R)}),P},kD=function(c,h){var m=Zo(c,["moof","traf"]),f=Zo(c,["mdat"]),g={},_=[];return f.forEach(function(D,P){var I=m[P];_.push({mdat:D,traf:I})}),_.forEach(function(D){var P=D.mdat,I=D.traf,L=Zo(I,["tfhd"]),R=wD(L[0]),B=R.trackId,ne=Zo(I,["tfdt"]),V=ne.length>0?xD(ne[0]).baseMediaDecodeTime:0,de=Zo(I,["trun"]),fe,rt;h===B&&de.length>0&&(fe=CD(de,V,R),rt=ED(P,fe,B),g[B]||(g[B]={seiNals:[],logs:[]}),g[B].seiNals=g[B].seiNals.concat(rt.seiNals),g[B].logs=g[B].logs.concat(rt.logs))}),g},DD=function(c,h,m){var f;if(h===null)return null;f=kD(c,h);var g=f[h]||{};return{seiNals:g.seiNals,logs:g.logs,timescale:m}},AD=function(){var c=!1,h,m,f,g,_,D;this.isInitialized=function(){return c},this.init=function(P){h=new bD,c=!0,D=P?P.isPartial:!1,h.on("data",function(I){I.startTime=I.startPts/g,I.endTime=I.endPts/g,_.captions.push(I),_.captionStreams[I.stream]=!0}),h.on("log",function(I){_.logs.push(I)})},this.isNewInit=function(P,I){return P&&P.length===0||I&&typeof I=="object"&&Object.keys(I).length===0?!1:f!==P[0]||g!==I[f]},this.parse=function(P,I,L){var R;if(this.isInitialized()){if(!I||!L)return null;if(this.isNewInit(I,L))f=I[0],g=L[f];else if(f===null||!g)return m.push(P),null}else return null;for(;m.length>0;){var B=m.shift();this.parse(B,I,L)}return R=DD(P,f,g),R&&R.logs&&(_.logs=_.logs.concat(R.logs)),R===null||!R.seiNals?_.logs.length?{logs:_.logs,captions:[],captionStreams:[]}:null:(this.pushNals(R.seiNals),this.flushStream(),_)},this.pushNals=function(P){if(!this.isInitialized()||!P||P.length===0)return null;P.forEach(function(I){h.push(I)})},this.flushStream=function(){if(!this.isInitialized())return null;D?h.partialFlush():h.flush()},this.clearParsedCaptions=function(){_.captions=[],_.captionStreams={},_.logs=[]},this.resetCaptionStream=function(){if(!this.isInitialized())return null;h.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){m=[],f=null,g=null,_?this.clearParsedCaptions():_={captions:[],captionStreams:{},logs:[]},this.resetCaptionStream()},this.reset()},PD=AD,ID=function(c){for(var h=0,m=String.fromCharCode(c[h]),f="";m!=="\0";)f+=m,h++,m=String.fromCharCode(c[h]);return f+=m,f},OD={uint8ToCString:ID},cu=OD.uint8ToCString,LD=s.getUint64,ND=function(c){var h=4,m=c[0],f,g,_,D,P,I,L,R;if(m===0){f=cu(c.subarray(h)),h+=f.length,g=cu(c.subarray(h)),h+=g.length;var B=new DataView(c.buffer);_=B.getUint32(h),h+=4,P=B.getUint32(h),h+=4,I=B.getUint32(h),h+=4,L=B.getUint32(h),h+=4}else if(m===1){var B=new DataView(c.buffer);_=B.getUint32(h),h+=4,D=LD(c.subarray(h)),h+=8,I=B.getUint32(h),h+=4,L=B.getUint32(h),h+=4,f=cu(c.subarray(h)),h+=f.length,g=cu(c.subarray(h)),h+=g.length}R=new Uint8Array(c.subarray(h,c.byteLength));var ne={scheme_id_uri:f,value:g,timescale:_||1,presentation_time:D,presentation_time_delta:P,event_duration:I,id:L,message_data:R};return MD(m,ne)?ne:void 0},RD=function(c,h,m,f){return c||c===0?c/h:f+m/h},MD=function(c,h){var m=h.scheme_id_uri!=="\0",f=c===0&&sv(h.presentation_time_delta)&&m,g=c===1&&sv(h.presentation_time)&&m;return!(c>1)&&f||g},sv=function(c){return c!==void 0||c!==null},BD={parseEmsgBox:ND,scaleTime:RD},du=uu.toUnsigned,ea=uu.toHexString,Ye=Jy,fs=Yy,zh=BD,FD=iv,jD=tv,UD=Zy,$D=s.getUint64,ov,av,lv,uv,cv,Vh,dv,Hh=nv,zD=By.parseId3Frames;ov=function(c){var h={},m=Ye(c,["moov","trak"]);return m.reduce(function(f,g){var _,D,P,I,L;return _=Ye(g,["tkhd"])[0],!_||(D=_[0],P=D===0?12:20,I=du(_[P]<<24|_[P+1]<<16|_[P+2]<<8|_[P+3]),L=Ye(g,["mdia","mdhd"])[0],!L)?null:(D=L[0],P=D===0?12:20,f[I]=du(L[P]<<24|L[P+1]<<16|L[P+2]<<8|L[P+3]),f)},h)},av=function(c,h){var m;m=Ye(h,["moof","traf"]);var f=m.reduce(function(g,_){var D=Ye(_,["tfhd"])[0],P=du(D[4]<<24|D[5]<<16|D[6]<<8|D[7]),I=c[P]||9e4,L=Ye(_,["tfdt"])[0],R=new DataView(L.buffer,L.byteOffset,L.byteLength),B;L[0]===1?B=$D(L.subarray(4,12)):B=R.getUint32(4);let ne;return typeof B=="bigint"?ne=B/Hh.BigInt(I):typeof B=="number"&&!isNaN(B)&&(ne=B/I),ne<Number.MAX_SAFE_INTEGER&&(ne=Number(ne)),ne<g&&(g=ne),g},1/0);return typeof f=="bigint"||isFinite(f)?f:0},lv=function(c,h){var m=Ye(h,["moof","traf"]),f=0,g=0,_;if(m&&m.length){var D=Ye(m[0],["tfhd"])[0],P=Ye(m[0],["trun"])[0],I=Ye(m[0],["tfdt"])[0];if(D){var L=FD(D);_=L.trackId}if(I){var R=UD(I);f=R.baseMediaDecodeTime}if(P){var B=jD(P);B.samples&&B.samples.length&&(g=B.samples[0].compositionTimeOffset||0)}}var ne=c[_]||9e4;typeof f=="bigint"&&(g=Hh.BigInt(g),ne=Hh.BigInt(ne));var V=(f+g)/ne;return typeof V=="bigint"&&V<Number.MAX_SAFE_INTEGER&&(V=Number(V)),V},uv=function(c){var h=Ye(c,["moov","trak"]),m=[];return h.forEach(function(f){var g=Ye(f,["mdia","hdlr"]),_=Ye(f,["tkhd"]);g.forEach(function(D,P){var I=fs(D.subarray(8,12)),L=_[P],R,B,ne;I==="vide"&&(R=new DataView(L.buffer,L.byteOffset,L.byteLength),B=R.getUint8(0),ne=B===0?R.getUint32(12):R.getUint32(20),m.push(ne))})}),m},Vh=function(c){var h=c[0],m=h===0?12:20;return du(c[m]<<24|c[m+1]<<16|c[m+2]<<8|c[m+3])},cv=function(c){var h=Ye(c,["moov","trak"]),m=[];return h.forEach(function(f){var g={},_=Ye(f,["tkhd"])[0],D,P;_&&(D=new DataView(_.buffer,_.byteOffset,_.byteLength),P=D.getUint8(0),g.id=P===0?D.getUint32(12):D.getUint32(20));var I=Ye(f,["mdia","hdlr"])[0];if(I){var L=fs(I.subarray(8,12));L==="vide"?g.type="video":L==="soun"?g.type="audio":g.type=L}var R=Ye(f,["mdia","minf","stbl","stsd"])[0];if(R){var B=R.subarray(8);g.codec=fs(B.subarray(4,8));var ne=Ye(B,[g.codec])[0],V,de;ne&&(/^[asm]vc[1-9]$/i.test(g.codec)?(V=ne.subarray(78),de=fs(V.subarray(4,8)),de==="avcC"&&V.length>11?(g.codec+=".",g.codec+=ea(V[9]),g.codec+=ea(V[10]),g.codec+=ea(V[11])):g.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(g.codec)?(V=ne.subarray(28),de=fs(V.subarray(4,8)),de==="esds"&&V.length>20&&V[19]!==0?(g.codec+="."+ea(V[19]),g.codec+="."+ea(V[20]>>>2&63).replace(/^0/,"")):g.codec="mp4a.40.2"):g.codec=g.codec.toLowerCase())}var fe=Ye(f,["mdia","mdhd"])[0];fe&&(g.timescale=Vh(fe)),m.push(g)}),m},dv=function(c,h=0){var m=Ye(c,["emsg"]);return m.map(f=>{var g=zh.parseEmsgBox(new Uint8Array(f)),_=zD(g.message_data);return{cueTime:zh.scaleTime(g.presentation_time,g.timescale,g.presentation_time_delta,h),duration:zh.scaleTime(g.event_duration,g.timescale),frames:_}})};var qh={findBox:Ye,parseType:fs,timescale:ov,startTime:av,compositionStartTime:lv,videoTrackIds:uv,tracks:cv,getTimescaleFromMediaHeader:Vh,getEmsgID3:dv},Wh=Yl,hv=function(c){var h=c[1]&31;return h<<=8,h|=c[2],h},hu=function(c){return!!(c[1]&64)},fu=function(c){var h=0;return(c[3]&48)>>>4>1&&(h+=c[4]+1),h},VD=function(c,h){var m=hv(c);return m===0?"pat":m===h?"pmt":h?"pes":null},HD=function(c){var h=hu(c),m=4+fu(c);return h&&(m+=c[m]+1),(c[m+10]&31)<<8|c[m+11]},qD=function(c){var h={},m=hu(c),f=4+fu(c);if(m&&(f+=c[f]+1),!!(c[f+5]&1)){var g,_,D;g=(c[f+1]&15)<<8|c[f+2],_=3+g-4,D=(c[f+10]&15)<<8|c[f+11];for(var P=12+D;P<_;){var I=f+P;h[(c[I+1]&31)<<8|c[I+2]]=c[I],P+=((c[I+3]&15)<<8|c[I+4])+5}return h}},WD=function(c,h){var m=hv(c),f=h[m];switch(f){case Wh.H264_STREAM_TYPE:return"video";case Wh.ADTS_STREAM_TYPE:return"audio";case Wh.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},GD=function(c){var h=hu(c);if(!h)return null;var m=4+fu(c);if(m>=c.byteLength)return null;var f=null,g;return g=c[m+7],g&192&&(f={},f.pts=(c[m+9]&14)<<27|(c[m+10]&255)<<20|(c[m+11]&254)<<12|(c[m+12]&255)<<5|(c[m+13]&254)>>>3,f.pts*=4,f.pts+=(c[m+13]&6)>>>1,f.dts=f.pts,g&64&&(f.dts=(c[m+14]&14)<<27|(c[m+15]&255)<<20|(c[m+16]&254)<<12|(c[m+17]&255)<<5|(c[m+18]&254)>>>3,f.dts*=4,f.dts+=(c[m+18]&6)>>>1)),f},Gh=function(c){switch(c){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},XD=function(c){for(var h=4+fu(c),m=c.subarray(h),f=0,g=0,_=!1,D;g<m.byteLength-3;g++)if(m[g+2]===1){f=g+5;break}for(;f<m.byteLength;)switch(m[f]){case 0:if(m[f-1]!==0){f+=2;break}else if(m[f-2]!==0){f++;break}g+3!==f-2&&(D=Gh(m[g+3]&31),D==="slice_layer_without_partitioning_rbsp_idr"&&(_=!0));do f++;while(m[f]!==1&&f<m.length);g=f-2,f+=3;break;case 1:if(m[f-1]!==0||m[f-2]!==0){f+=3;break}D=Gh(m[g+3]&31),D==="slice_layer_without_partitioning_rbsp_idr"&&(_=!0),g=f-2,f+=3;break;default:f+=3;break}return m=m.subarray(g),f-=g,g=0,m&&m.byteLength>3&&(D=Gh(m[g+3]&31),D==="slice_layer_without_partitioning_rbsp_idr"&&(_=!0)),_},KD={parseType:VD,parsePat:HD,parsePmt:qD,parsePayloadUnitStartIndicator:hu,parsePesType:WD,parsePesTime:GD,videoPacketContainsKeyFrame:XD},fv=Yl,ps=Ry.handleRollover,Ee={};Ee.ts=KD,Ee.aac=Fh;var Ir=Me.ONE_SECOND_IN_TS,At=188,en=71,YD=function(c,h){for(var m=0,f=At,g,_;f<c.byteLength;){if(c[m]===en&&c[f]===en){switch(g=c.subarray(m,f),_=Ee.ts.parseType(g,h.pid),_){case"pat":h.pid=Ee.ts.parsePat(g);break;case"pmt":var D=Ee.ts.parsePmt(g);h.table=h.table||{},Object.keys(D).forEach(function(P){h.table[P]=D[P]});break}m+=At,f+=At;continue}m++,f++}},pv=function(c,h,m){for(var f=0,g=At,_,D,P,I,L,R=!1;g<=c.byteLength;){if(c[f]===en&&(c[g]===en||g===c.byteLength)){switch(_=c.subarray(f,g),D=Ee.ts.parseType(_,h.pid),D){case"pes":P=Ee.ts.parsePesType(_,h.table),I=Ee.ts.parsePayloadUnitStartIndicator(_),P==="audio"&&I&&(L=Ee.ts.parsePesTime(_),L&&(L.type="audio",m.audio.push(L),R=!0));break}if(R)break;f+=At,g+=At;continue}f++,g++}for(g=c.byteLength,f=g-At,R=!1;f>=0;){if(c[f]===en&&(c[g]===en||g===c.byteLength)){switch(_=c.subarray(f,g),D=Ee.ts.parseType(_,h.pid),D){case"pes":P=Ee.ts.parsePesType(_,h.table),I=Ee.ts.parsePayloadUnitStartIndicator(_),P==="audio"&&I&&(L=Ee.ts.parsePesTime(_),L&&(L.type="audio",m.audio.push(L),R=!0));break}if(R)break;f-=At,g-=At;continue}f--,g--}},QD=function(c,h,m){for(var f=0,g=At,_,D,P,I,L,R,B,ne,V=!1,de={data:[],size:0};g<c.byteLength;){if(c[f]===en&&c[g]===en){switch(_=c.subarray(f,g),D=Ee.ts.parseType(_,h.pid),D){case"pes":if(P=Ee.ts.parsePesType(_,h.table),I=Ee.ts.parsePayloadUnitStartIndicator(_),P==="video"&&(I&&!V&&(L=Ee.ts.parsePesTime(_),L&&(L.type="video",m.video.push(L),V=!0)),!m.firstKeyFrame)){if(I&&de.size!==0){for(R=new Uint8Array(de.size),B=0;de.data.length;)ne=de.data.shift(),R.set(ne,B),B+=ne.byteLength;if(Ee.ts.videoPacketContainsKeyFrame(R)){var fe=Ee.ts.parsePesTime(R);fe?(m.firstKeyFrame=fe,m.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}de.size=0}de.data.push(_),de.size+=_.byteLength}break}if(V&&m.firstKeyFrame)break;f+=At,g+=At;continue}f++,g++}for(g=c.byteLength,f=g-At,V=!1;f>=0;){if(c[f]===en&&c[g]===en){switch(_=c.subarray(f,g),D=Ee.ts.parseType(_,h.pid),D){case"pes":P=Ee.ts.parsePesType(_,h.table),I=Ee.ts.parsePayloadUnitStartIndicator(_),P==="video"&&I&&(L=Ee.ts.parsePesTime(_),L&&(L.type="video",m.video.push(L),V=!0));break}if(V)break;f-=At,g-=At;continue}f--,g--}},JD=function(c,h){if(c.audio&&c.audio.length){var m=h;(typeof m>"u"||isNaN(m))&&(m=c.audio[0].dts),c.audio.forEach(function(_){_.dts=ps(_.dts,m),_.pts=ps(_.pts,m),_.dtsTime=_.dts/Ir,_.ptsTime=_.pts/Ir})}if(c.video&&c.video.length){var f=h;if((typeof f>"u"||isNaN(f))&&(f=c.video[0].dts),c.video.forEach(function(_){_.dts=ps(_.dts,f),_.pts=ps(_.pts,f),_.dtsTime=_.dts/Ir,_.ptsTime=_.pts/Ir}),c.firstKeyFrame){var g=c.firstKeyFrame;g.dts=ps(g.dts,f),g.pts=ps(g.pts,f),g.dtsTime=g.dts/Ir,g.ptsTime=g.pts/Ir}}},ZD=function(c){for(var h=!1,m=0,f=null,g=null,_=0,D=0,P;c.length-D>=3;){var I=Ee.aac.parseType(c,D);switch(I){case"timed-metadata":if(c.length-D<10){h=!0;break}if(_=Ee.aac.parseId3TagSize(c,D),_>c.length){h=!0;break}g===null&&(P=c.subarray(D,D+_),g=Ee.aac.parseAacTimestamp(P)),D+=_;break;case"audio":if(c.length-D<7){h=!0;break}if(_=Ee.aac.parseAdtsSize(c,D),_>c.length){h=!0;break}f===null&&(P=c.subarray(D,D+_),f=Ee.aac.parseSampleRate(P)),m++,D+=_;break;default:D++;break}if(h)return null}if(f===null||g===null)return null;var L=Ir/f,R={audio:[{type:"audio",dts:g,pts:g},{type:"audio",dts:g+m*1024*L,pts:g+m*1024*L}]};return R},eA=function(c){var h={pid:null,table:null},m={};YD(c,h);for(var f in h.table)if(h.table.hasOwnProperty(f)){var g=h.table[f];switch(g){case fv.H264_STREAM_TYPE:m.video=[],QD(c,h,m),m.video.length===0&&delete m.video;break;case fv.ADTS_STREAM_TYPE:m.audio=[],pv(c,h,m),m.audio.length===0&&delete m.audio;break}}return m},tA=function(c,h){var m=Ee.aac.isLikelyAacData(c),f;return m?f=ZD(c):f=eA(c),!f||!f.audio&&!f.video?null:(JD(f,h),f)},iA={inspect:tA,parseAudioPes_:pv};const nA=function(c,h){h.on("data",function(m){const f=m.initSegment;m.initSegment={data:f.buffer,byteOffset:f.byteOffset,byteLength:f.byteLength};const g=m.data;m.data=g.buffer,c.postMessage({action:"data",segment:m,byteOffset:g.byteOffset,byteLength:g.byteLength},[m.data])}),h.on("done",function(m){c.postMessage({action:"done"})}),h.on("gopInfo",function(m){c.postMessage({action:"gopInfo",gopInfo:m})}),h.on("videoSegmentTimingInfo",function(m){const f={start:{decode:Me.videoTsToSeconds(m.start.dts),presentation:Me.videoTsToSeconds(m.start.pts)},end:{decode:Me.videoTsToSeconds(m.end.dts),presentation:Me.videoTsToSeconds(m.end.pts)},baseMediaDecodeTime:Me.videoTsToSeconds(m.baseMediaDecodeTime)};m.prependedContentDuration&&(f.prependedContentDuration=Me.videoTsToSeconds(m.prependedContentDuration)),c.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:f})}),h.on("audioSegmentTimingInfo",function(m){const f={start:{decode:Me.videoTsToSeconds(m.start.dts),presentation:Me.videoTsToSeconds(m.start.pts)},end:{decode:Me.videoTsToSeconds(m.end.dts),presentation:Me.videoTsToSeconds(m.end.pts)},baseMediaDecodeTime:Me.videoTsToSeconds(m.baseMediaDecodeTime)};m.prependedContentDuration&&(f.prependedContentDuration=Me.videoTsToSeconds(m.prependedContentDuration)),c.postMessage({action:"audioSegmentTimingInfo",audioSegmentTimingInfo:f})}),h.on("id3Frame",function(m){c.postMessage({action:"id3Frame",id3Frame:m})}),h.on("caption",function(m){c.postMessage({action:"caption",caption:m})}),h.on("trackinfo",function(m){c.postMessage({action:"trackinfo",trackInfo:m})}),h.on("audioTimingInfo",function(m){c.postMessage({action:"audioTimingInfo",audioTimingInfo:{start:Me.videoTsToSeconds(m.start),end:Me.videoTsToSeconds(m.end)}})}),h.on("videoTimingInfo",function(m){c.postMessage({action:"videoTimingInfo",videoTimingInfo:{start:Me.videoTsToSeconds(m.start),end:Me.videoTsToSeconds(m.end)}})}),h.on("log",function(m){c.postMessage({action:"log",log:m})})};class mv{constructor(h,m){this.options=m||{},this.self=h,this.init()}init(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new oD.Transmuxer(this.options),nA(this.self,this.transmuxer)}pushMp4Captions(h){this.captionParser||(this.captionParser=new PD,this.captionParser.init());const m=new Uint8Array(h.data,h.byteOffset,h.byteLength),f=this.captionParser.parse(m,h.trackIds,h.timescales);this.self.postMessage({action:"mp4Captions",captions:f&&f.captions||[],logs:f&&f.logs||[],data:m.buffer},[m.buffer])}probeMp4StartTime({timescales:h,data:m}){const f=qh.startTime(h,m);this.self.postMessage({action:"probeMp4StartTime",startTime:f,data:m},[m.buffer])}probeMp4Tracks({data:h}){const m=qh.tracks(h);this.self.postMessage({action:"probeMp4Tracks",tracks:m,data:h},[h.buffer])}probeEmsgID3({data:h,offset:m}){const f=qh.getEmsgID3(h,m);this.self.postMessage({action:"probeEmsgID3",id3Frames:f,emsgData:h},[h.buffer])}probeTs({data:h,baseStartTime:m}){const f=typeof m=="number"&&!isNaN(m)?m*Me.ONE_SECOND_IN_TS:void 0,g=iA.inspect(h,f);let _=null;g&&(_={hasVideo:g.video&&g.video.length===2||!1,hasAudio:g.audio&&g.audio.length===2||!1},_.hasVideo&&(_.videoStart=g.video[0].ptsTime),_.hasAudio&&(_.audioStart=g.audio[0].ptsTime)),this.self.postMessage({action:"probeTs",result:_,data:h},[h.buffer])}clearAllMp4Captions(){this.captionParser&&this.captionParser.clearAllCaptions()}clearParsedMp4Captions(){this.captionParser&&this.captionParser.clearParsedCaptions()}push(h){const m=new Uint8Array(h.data,h.byteOffset,h.byteLength);this.transmuxer.push(m)}reset(){this.transmuxer.reset()}setTimestampOffset(h){const m=h.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(Me.secondsToVideoTs(m)))}setAudioAppendStart(h){this.transmuxer.setAudioAppendStart(Math.ceil(Me.secondsToVideoTs(h.appendStart)))}setRemux(h){this.transmuxer.setRemux(h.remux)}flush(h){this.transmuxer.flush(),self.postMessage({action:"done",type:"transmuxed"})}endTimeline(){this.transmuxer.endTimeline(),self.postMessage({action:"endedtimeline",type:"transmuxed"})}alignGopsWith(h){this.transmuxer.alignGopsWith(h.gopsToAlignWith.slice())}}self.onmessage=function(c){if(c.data.action==="init"&&c.data.options){this.messageHandlers=new mv(self,c.data.options);return}this.messageHandlers||(this.messageHandlers=new mv(self)),c.data&&c.data.action&&c.data.action!=="init"&&this.messageHandlers[c.data.action]&&this.messageHandlers[c.data.action](c.data)}}));var XM=FE(GM);const KM=(t,e,i)=>{const{type:n,initSegment:r,captions:s,captionStreams:o,metadata:a,videoFrameDtsTime:l,videoFramePtsTime:u}=t.data.segment;e.buffer.push({captions:s,captionStreams:o,metadata:a});const d=t.data.segment.boxes||{data:t.data.segment.data},p={type:n,data:new Uint8Array(d.data,d.data.byteOffset,d.data.byteLength),initSegment:new Uint8Array(r.data,r.byteOffset,r.byteLength)};typeof l<"u"&&(p.videoFrameDtsTime=l),typeof u<"u"&&(p.videoFramePtsTime=u),i(p)},YM=({transmuxedData:t,callback:e})=>{t.buffer=[],e(t)},QM=(t,e)=>{e.gopInfo=t.data.gopInfo},$E=t=>{const{transmuxer:e,bytes:i,audioAppendStart:n,gopsToAlignWith:r,remux:s,onData:o,onTrackInfo:a,onAudioTimingInfo:l,onVideoTimingInfo:u,onVideoSegmentTimingInfo:d,onAudioSegmentTimingInfo:p,onId3:y,onCaptions:T,onDone:v,onEndedTimeline:w,onTransmuxerLog:k,isEndOfTimeline:x}=t,b={buffer:[]};let S=x;const E=A=>{e.currentTransmux===t&&(A.data.action==="data"&&KM(A,b,o),A.data.action==="trackinfo"&&a(A.data.trackInfo),A.data.action==="gopInfo"&&QM(A,b),A.data.action==="audioTimingInfo"&&l(A.data.audioTimingInfo),A.data.action==="videoTimingInfo"&&u(A.data.videoTimingInfo),A.data.action==="videoSegmentTimingInfo"&&d(A.data.videoSegmentTimingInfo),A.data.action==="audioSegmentTimingInfo"&&p(A.data.audioSegmentTimingInfo),A.data.action==="id3Frame"&&y([A.data.id3Frame],A.data.id3Frame.dispatchType),A.data.action==="caption"&&T(A.data.caption),A.data.action==="endedtimeline"&&(S=!1,w()),A.data.action==="log"&&k(A.data.log),A.data.type==="transmuxed"&&(S||(e.onmessage=null,YM({transmuxedData:b,callback:v}),zE(e))))};if(e.onmessage=E,n&&e.postMessage({action:"setAudioAppendStart",appendStart:n}),Array.isArray(r)&&e.postMessage({action:"alignGopsWith",gopsToAlignWith:r}),typeof s<"u"&&e.postMessage({action:"setRemux",remux:s}),i.byteLength){const A=i instanceof ArrayBuffer?i:i.buffer,N=i instanceof ArrayBuffer?0:i.byteOffset;e.postMessage({action:"push",data:A,byteOffset:N,byteLength:i.byteLength},[A])}x&&e.postMessage({action:"endTimeline"}),e.postMessage({action:"flush"})},zE=t=>{t.currentTransmux=null,t.transmuxQueue.length&&(t.currentTransmux=t.transmuxQueue.shift(),typeof t.currentTransmux=="function"?t.currentTransmux():$E(t.currentTransmux))},S2=(t,e)=>{t.postMessage({action:e}),zE(t)},VE=(t,e)=>{if(!e.currentTransmux){e.currentTransmux=t,S2(e,t);return}e.transmuxQueue.push(S2.bind(null,e,t))},JM=t=>{VE("reset",t)},ZM=t=>{VE("endTimeline",t)},HE=t=>{if(!t.transmuxer.currentTransmux){t.transmuxer.currentTransmux=t,$E(t);return}t.transmuxer.transmuxQueue.push(t)},e6=t=>{const e=new XM;e.currentTransmux=null,e.transmuxQueue=[];const i=e.terminate;return e.terminate=()=>(e.currentTransmux=null,e.transmuxQueue.length=0,i.call(e)),e.postMessage({action:"init",options:t}),e};var Zf={reset:JM,endTimeline:ZM,transmux:HE,createTransmuxer:e6};const qa=function(t){const e=t.transmuxer,i=t.endAction||t.action,n=t.callback,r=Un({},t,{endAction:null,transmuxer:null,callback:null}),s=o=>{o.data.action===i&&(e.removeEventListener("message",s),o.data.data&&(o.data.data=new Uint8Array(o.data.data,t.byteOffset||0,t.byteLength||o.data.data.byteLength),t.data&&(t.data=o.data.data)),n(o.data))};if(e.addEventListener("message",s),t.data){const o=t.data instanceof ArrayBuffer;r.byteOffset=o?0:t.data.byteOffset,r.byteLength=t.data.byteLength;const a=[o?t.data:t.data.buffer];e.postMessage(r,a)}else e.postMessage(r)},un={FAILURE:2,TIMEOUT:-101,ABORTED:-102},Zm=t=>{t.forEach(e=>{e.abort()})},t6=t=>({bandwidth:t.bandwidth,bytesReceived:t.bytesReceived||0,roundTripTime:t.roundTripTime||0}),i6=t=>{const e=t.target,n={bandwidth:1/0,bytesReceived:0,roundTripTime:Date.now()-e.requestTime||0};return n.bytesReceived=t.loaded,n.bandwidth=Math.floor(n.bytesReceived/n.roundTripTime*8*1e3),n},fy=(t,e)=>e.timedout?{status:e.status,message:"HLS request timed-out at URL: "+e.uri,code:un.TIMEOUT,xhr:e}:e.aborted?{status:e.status,message:"HLS request aborted at URL: "+e.uri,code:un.ABORTED,xhr:e}:t?{status:e.status,message:"HLS request errored at URL: "+e.uri,code:un.FAILURE,xhr:e}:e.responseType==="arraybuffer"&&e.response.byteLength===0?{status:e.status,message:"Empty HLS response at URL: "+e.uri,code:un.FAILURE,xhr:e}:null,E2=(t,e,i)=>(n,r)=>{const s=r.response,o=fy(n,r);if(o)return i(o,t);if(s.byteLength!==16)return i({status:r.status,message:"Invalid HLS key at URL: "+r.uri,code:un.FAILURE,xhr:r},t);const a=new DataView(s),l=new Uint32Array([a.getUint32(0),a.getUint32(4),a.getUint32(8),a.getUint32(12)]);for(let u=0;u<e.length;u++)e[u].bytes=l;return i(null,t)},qE=(t,e)=>{const i=I0(t.map.bytes);if(i!=="mp4"){const n=t.map.resolvedUri||t.map.uri;return e({internal:!0,message:`Found unsupported ${i||"unknown"} container for initialization segment at URL: ${n}`,code:un.FAILURE})}qa({action:"probeMp4Tracks",data:t.map.bytes,transmuxer:t.transmuxer,callback:({tracks:n,data:r})=>(t.map.bytes=r,n.forEach(function(s){t.map.tracks=t.map.tracks||{},!t.map.tracks[s.type]&&(t.map.tracks[s.type]=s,typeof s.id=="number"&&s.timescale&&(t.map.timescales=t.map.timescales||{},t.map.timescales[s.id]=s.timescale))}),e(null))})},n6=({segment:t,finishProcessingFn:e})=>(i,n)=>{const r=fy(i,n);if(r)return e(r,t);const s=new Uint8Array(n.response);if(t.map.key)return t.map.encryptedBytes=s,e(null,t);t.map.bytes=s,qE(t,function(o){if(o)return o.xhr=n,o.status=n.status,e(o,t);e(null,t)})},r6=({segment:t,finishProcessingFn:e,responseType:i})=>(n,r)=>{const s=fy(n,r);if(s)return e(s,t);const o=i==="arraybuffer"||!r.responseText?r.response:qM(r.responseText.substring(t.lastReachedChar||0));return t.stats=t6(r),t.key?t.encryptedBytes=new Uint8Array(o):t.bytes=new Uint8Array(o),e(null,t)},s6=({segment:t,bytes:e,trackInfoFn:i,timingInfoFn:n,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:s,id3Fn:o,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:u,dataFn:d,doneFn:p,onTransmuxerLog:y})=>{const T=t.map&&t.map.tracks||{},v=!!(T.audio&&T.video);let w=n.bind(null,t,"audio","start");const k=n.bind(null,t,"audio","end");let x=n.bind(null,t,"video","start");const b=n.bind(null,t,"video","end"),S=()=>HE({bytes:e,transmuxer:t.transmuxer,audioAppendStart:t.audioAppendStart,gopsToAlignWith:t.gopsToAlignWith,remux:v,onData:E=>{E.type=E.type==="combined"?"video":E.type,d(t,E)},onTrackInfo:E=>{i&&(v&&(E.isMuxed=!0),i(t,E))},onAudioTimingInfo:E=>{w&&typeof E.start<"u"&&(w(E.start),w=null),k&&typeof E.end<"u"&&k(E.end)},onVideoTimingInfo:E=>{x&&typeof E.start<"u"&&(x(E.start),x=null),b&&typeof E.end<"u"&&b(E.end)},onVideoSegmentTimingInfo:E=>{r(E)},onAudioSegmentTimingInfo:E=>{s(E)},onId3:(E,A)=>{o(t,E,A)},onCaptions:E=>{a(t,[E])},isEndOfTimeline:l,onEndedTimeline:()=>{u()},onTransmuxerLog:y,onDone:E=>{p&&(E.type=E.type==="combined"?"video":E.type,p(null,t,E))}});qa({action:"probeTs",transmuxer:t.transmuxer,data:e,baseStartTime:t.baseStartTime,callback:E=>{t.bytes=e=E.data;const A=E.result;A&&(i(t,{hasAudio:A.hasAudio,hasVideo:A.hasVideo,isMuxed:v}),i=null,A.hasAudio&&!v&&w(A.audioStart),A.hasVideo&&x(A.videoStart),w=null,x=null),S()}})},WE=({segment:t,bytes:e,trackInfoFn:i,timingInfoFn:n,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:s,id3Fn:o,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:u,dataFn:d,doneFn:p,onTransmuxerLog:y})=>{let T=new Uint8Array(e);if(PN(T)){t.isFmp4=!0;const{tracks:v}=t.map,w={isFmp4:!0,hasVideo:!!v.video,hasAudio:!!v.audio};v.audio&&v.audio.codec&&v.audio.codec!=="enca"&&(w.audioCodec=v.audio.codec),v.video&&v.video.codec&&v.video.codec!=="encv"&&(w.videoCodec=v.video.codec),v.video&&v.audio&&(w.isMuxed=!0),i(t,w);const k=(x,b)=>{d(t,{data:T,type:w.hasAudio&&!w.isMuxed?"audio":"video"}),b&&b.length&&o(t,b),x&&x.length&&a(t,x),p(null,t,{})};qa({action:"probeMp4StartTime",timescales:t.map.timescales,data:T,transmuxer:t.transmuxer,callback:({data:x,startTime:b})=>{e=x.buffer,t.bytes=T=x,w.hasAudio&&!w.isMuxed&&n(t,"audio","start",b),w.hasVideo&&n(t,"video","start",b),qa({action:"probeEmsgID3",data:T,transmuxer:t.transmuxer,offset:b,callback:({emsgData:S,id3Frames:E})=>{if(e=S.buffer,t.bytes=T=S,!v.video||!x.byteLength||!t.transmuxer){k(void 0,E);return}qa({action:"pushMp4Captions",endAction:"mp4Captions",transmuxer:t.transmuxer,data:T,timescales:t.map.timescales,trackIds:[v.video.id],callback:A=>{e=A.data.buffer,t.bytes=T=A.data,A.logs.forEach(function(N){y(Ae(N,{stream:"mp4CaptionParser"}))}),k(A.captions,E)}})}})}});return}if(!t.transmuxer){p(null,t,{});return}if(typeof t.container>"u"&&(t.container=I0(T)),t.container!=="ts"&&t.container!=="aac"){i(t,{hasAudio:!1,hasVideo:!1}),p(null,t,{});return}s6({segment:t,bytes:e,trackInfoFn:i,timingInfoFn:n,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:s,id3Fn:o,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:u,dataFn:d,doneFn:p,onTransmuxerLog:y})},GE=function({id:t,key:e,encryptedBytes:i,decryptionWorker:n},r){const s=a=>{if(a.data.source===t){n.removeEventListener("message",s);const l=a.data.decrypted;r(new Uint8Array(l.bytes,l.byteOffset,l.byteLength))}};n.addEventListener("message",s);let o;e.bytes.slice?o=e.bytes.slice():o=new Uint32Array(Array.prototype.slice.call(e.bytes)),n.postMessage(OE({source:t,encrypted:i,key:o,iv:e.iv}),[i.buffer,o.buffer])},o6=({decryptionWorker:t,segment:e,trackInfoFn:i,timingInfoFn:n,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:s,id3Fn:o,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:u,dataFn:d,doneFn:p,onTransmuxerLog:y})=>{GE({id:e.requestId,key:e.key,encryptedBytes:e.encryptedBytes,decryptionWorker:t},T=>{e.bytes=T,WE({segment:e,bytes:e.bytes,trackInfoFn:i,timingInfoFn:n,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:s,id3Fn:o,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:u,dataFn:d,doneFn:p,onTransmuxerLog:y})})},a6=({activeXhrs:t,decryptionWorker:e,trackInfoFn:i,timingInfoFn:n,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:s,id3Fn:o,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:u,dataFn:d,doneFn:p,onTransmuxerLog:y})=>{let T=0,v=!1;return(w,k)=>{if(!v){if(w)return v=!0,Zm(t),p(w,k);if(T+=1,T===t.length){const x=function(){if(k.encryptedBytes)return o6({decryptionWorker:e,segment:k,trackInfoFn:i,timingInfoFn:n,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:s,id3Fn:o,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:u,dataFn:d,doneFn:p,onTransmuxerLog:y});WE({segment:k,bytes:k.bytes,trackInfoFn:i,timingInfoFn:n,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:s,id3Fn:o,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:u,dataFn:d,doneFn:p,onTransmuxerLog:y})};if(k.endOfAllRequests=Date.now(),k.map&&k.map.encryptedBytes&&!k.map.bytes)return GE({decryptionWorker:e,id:k.requestId+"-init",encryptedBytes:k.map.encryptedBytes,key:k.map.key},b=>{k.map.bytes=b,qE(k,S=>{if(S)return Zm(t),p(S,k);x()})});x()}}}},l6=({loadendState:t,abortFn:e})=>i=>{i.target.aborted&&e&&!t.calledAbortFn&&(e(),t.calledAbortFn=!0)},u6=({segment:t,progressFn:e,trackInfoFn:i,timingInfoFn:n,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:s,id3Fn:o,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:u,dataFn:d})=>p=>{if(!p.target.aborted)return t.stats=Ae(t.stats,i6(p)),!t.stats.firstBytesReceivedAt&&t.stats.bytesReceived&&(t.stats.firstBytesReceivedAt=Date.now()),e(p,t)},c6=({xhr:t,xhrOptions:e,decryptionWorker:i,segment:n,abortFn:r,progressFn:s,trackInfoFn:o,timingInfoFn:a,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:u,id3Fn:d,captionsFn:p,isEndOfTimeline:y,endedTimelineFn:T,dataFn:v,doneFn:w,onTransmuxerLog:k})=>{const x=[],b=a6({activeXhrs:x,decryptionWorker:i,trackInfoFn:o,timingInfoFn:a,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:u,id3Fn:d,captionsFn:p,isEndOfTimeline:y,endedTimelineFn:T,dataFn:v,doneFn:w,onTransmuxerLog:k});if(n.key&&!n.key.bytes){const M=[n.key];n.map&&!n.map.bytes&&n.map.key&&n.map.key.resolvedUri===n.key.resolvedUri&&M.push(n.map.key);const U=Ae(e,{uri:n.key.resolvedUri,responseType:"arraybuffer"}),H=E2(n,M,b),j=t(U,H);x.push(j)}if(n.map&&!n.map.bytes){if(n.map.key&&(!n.key||n.key.resolvedUri!==n.map.key.resolvedUri)){const Q=Ae(e,{uri:n.map.key.resolvedUri,responseType:"arraybuffer"}),ie=E2(n,[n.map.key],b),q=t(Q,ie);x.push(q)}const U=Ae(e,{uri:n.map.resolvedUri,responseType:"arraybuffer",headers:Qm(n.map)}),H=n6({segment:n,finishProcessingFn:b}),j=t(U,H);x.push(j)}const S=Ae(e,{uri:n.part&&n.part.resolvedUri||n.resolvedUri,responseType:"arraybuffer",headers:Qm(n)}),E=r6({segment:n,finishProcessingFn:b,responseType:S.responseType}),A=t(S,E);A.addEventListener("progress",u6({segment:n,progressFn:s,trackInfoFn:o,timingInfoFn:a,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:u,id3Fn:d,captionsFn:p,isEndOfTimeline:y,endedTimelineFn:T,dataFn:v})),x.push(A);const N={};return x.forEach(M=>{M.addEventListener("loadend",l6({loadendState:N,abortFn:r}))}),()=>Zm(x)},d6=Ji("CodecUtils"),h6=function(t){const e=t.attributes||{};if(e.CODECS)return rn(e.CODECS)},XE=(t,e)=>{const i=e.attributes||{};return t&&t.mediaGroups&&t.mediaGroups.AUDIO&&i.AUDIO&&t.mediaGroups.AUDIO[i.AUDIO]},f6=(t,e)=>{if(!XE(t,e))return!0;const i=e.attributes||{},n=t.mediaGroups.AUDIO[i.AUDIO];for(const r in n)if(!n[r].uri&&!n[r].playlists)return!0;return!1},ud=function(t){const e={};return t.forEach(({mediaType:i,type:n,details:r})=>{e[i]=e[i]||[],e[i].push(lw(`${n}${r}`))}),Object.keys(e).forEach(function(i){if(e[i].length>1){d6(`multiple ${i} codecs found as attributes: ${e[i].join(", ")}. Setting playlist codecs to null so that we wait for mux.js to probe segments for real codecs.`),e[i]=null;return}e[i]=e[i][0]}),e},C2=function(t){let e=0;return t.audio&&e++,t.video&&e++,e},Wa=function(t,e){const i=e.attributes||{},n=ud(h6(e)||[]);if(XE(t,e)&&!n.audio&&!f6(t,e)){const r=ud(P8(t,i.AUDIO)||[]);r.audio&&(n.audio=r.audio)}return n},zu=Ji("PlaylistSelector"),k2=function(t){if(!t||!t.playlist)return;const e=t.playlist;return JSON.stringify({id:e.id,bandwidth:t.bandwidth,width:t.width,height:t.height,codecs:e.attributes&&e.attributes.CODECS||""})},cd=function(t,e){if(!t)return"";const i=O.getComputedStyle(t);return i?i[e]:""},eo=function(t,e){const i=t.slice();t.sort(function(n,r){const s=e(n,r);return s===0?i.indexOf(n)-i.indexOf(r):s})},py=function(t,e){let i,n;return t.attributes.BANDWIDTH&&(i=t.attributes.BANDWIDTH),i=i||O.Number.MAX_VALUE,e.attributes.BANDWIDTH&&(n=e.attributes.BANDWIDTH),n=n||O.Number.MAX_VALUE,i-n},p6=function(t,e){let i,n;return t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width&&(i=t.attributes.RESOLUTION.width),i=i||O.Number.MAX_VALUE,e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(n=e.attributes.RESOLUTION.width),n=n||O.Number.MAX_VALUE,i===n&&t.attributes.BANDWIDTH&&e.attributes.BANDWIDTH?t.attributes.BANDWIDTH-e.attributes.BANDWIDTH:i-n};let KE=function(t,e,i,n,r,s){if(!t)return;const o={bandwidth:e,width:i,height:n,limitRenditionByPlayerDimensions:r};let a=t.playlists;qt.isAudioOnly(t)&&(a=s.getAudioTrackPlaylists_(),o.audioOnly=!0);let l=a.map(A=>{let N;const M=A.attributes&&A.attributes.RESOLUTION&&A.attributes.RESOLUTION.width,U=A.attributes&&A.attributes.RESOLUTION&&A.attributes.RESOLUTION.height;return N=A.attributes&&A.attributes.BANDWIDTH,N=N||O.Number.MAX_VALUE,{bandwidth:N,width:M,height:U,playlist:A}});eo(l,(A,N)=>A.bandwidth-N.bandwidth),l=l.filter(A=>!qt.isIncompatible(A.playlist));let u=l.filter(A=>qt.isEnabled(A.playlist));u.length||(u=l.filter(A=>!qt.isDisabled(A.playlist)));const d=u.filter(A=>A.bandwidth*ut.BANDWIDTH_VARIANCE<e);let p=d[d.length-1];const y=d.filter(A=>A.bandwidth===p.bandwidth)[0];if(r===!1){const A=y||u[0]||l[0];if(A&&A.playlist){let N="sortedPlaylistReps";return y&&(N="bandwidthBestRep"),u[0]&&(N="enabledPlaylistReps"),zu(`choosing ${k2(A)} using ${N} with options`,o),A.playlist}return zu("could not choose a playlist with options",o),null}const T=d.filter(A=>A.width&&A.height);eo(T,(A,N)=>A.width-N.width);const v=T.filter(A=>A.width===i&&A.height===n);p=v[v.length-1];const w=v.filter(A=>A.bandwidth===p.bandwidth)[0];let k,x,b;w||(k=T.filter(A=>A.width>i||A.height>n),x=k.filter(A=>A.width===k[0].width&&A.height===k[0].height),p=x[x.length-1],b=x.filter(A=>A.bandwidth===p.bandwidth)[0]);let S;if(s.leastPixelDiffSelector){const A=T.map(N=>(N.pixelDiff=Math.abs(N.width-i)+Math.abs(N.height-n),N));eo(A,(N,M)=>N.pixelDiff===M.pixelDiff?M.bandwidth-N.bandwidth:N.pixelDiff-M.pixelDiff),S=A[0]}const E=S||b||w||y||u[0]||l[0];if(E&&E.playlist){let A="sortedPlaylistReps";return S?A="leastPixelDiffRep":b?A="resolutionPlusOneRep":w?A="resolutionBestRep":y?A="bandwidthBestRep":u[0]&&(A="enabledPlaylistReps"),zu(`choosing ${k2(E)} using ${A} with options`,o),E.playlist}return zu("could not choose a playlist with options",o),null};const D2=function(){const t=this.useDevicePixelRatio&&O.devicePixelRatio||1;return KE(this.playlists.main,this.systemBandwidth,parseInt(cd(this.tech_.el(),"width"),10)*t,parseInt(cd(this.tech_.el(),"height"),10)*t,this.limitRenditionByPlayerDimensions,this.playlistController_)},m6=function(t){let e=-1,i=-1;if(t<0||t>1)throw new Error("Moving average bandwidth decay must be between 0 and 1.");return function(){const n=this.useDevicePixelRatio&&O.devicePixelRatio||1;return e<0&&(e=this.systemBandwidth,i=this.systemBandwidth),this.systemBandwidth>0&&this.systemBandwidth!==i&&(e=t*this.systemBandwidth+(1-t)*e,i=this.systemBandwidth),KE(this.playlists.main,e,parseInt(cd(this.tech_.el(),"width"),10)*n,parseInt(cd(this.tech_.el(),"height"),10)*n,this.limitRenditionByPlayerDimensions,this.playlistController_)}},g6=function(t){const{main:e,currentTime:i,bandwidth:n,duration:r,segmentDuration:s,timeUntilRebuffer:o,currentTimeline:a,syncController:l}=t,u=e.playlists.filter(v=>!qt.isIncompatible(v));let d=u.filter(qt.isEnabled);d.length||(d=u.filter(v=>!qt.isDisabled(v)));const y=d.filter(qt.hasAttribute.bind(null,"BANDWIDTH")).map(v=>{const k=l.getSyncPoint(v,r,a,i)?1:2,b=qt.estimateSegmentRequestTime(s,n,v)*k-o;return{playlist:v,rebufferingImpact:b}}),T=y.filter(v=>v.rebufferingImpact<=0);return eo(T,(v,w)=>py(w.playlist,v.playlist)),T.length?T[0]:(eo(y,(v,w)=>v.rebufferingImpact-w.rebufferingImpact),y[0]||null)},y6=function(){const t=this.playlists.main.playlists.filter(qt.isEnabled);return eo(t,(i,n)=>py(i,n)),t.filter(i=>!!Wa(this.playlists.main,i).video)[0]||null},v6=t=>{let e=0,i;return t.bytes&&(i=new Uint8Array(t.bytes),t.segments.forEach(n=>{i.set(n,e),e+=n.byteLength})),i},_6=function(t,e,i){if(!t[i]){e.trigger({type:"usage",name:"vhs-608"});let n=i;/^cc708_/.test(i)&&(n="SERVICE"+i.split("_")[1]);const r=e.textTracks().getTrackById(n);if(r)t[i]=r;else{const s=e.options_.vhs&&e.options_.vhs.captionServices||{};let o=i,a=i,l=!1;const u=s[n];u&&(o=u.label,a=u.language,l=u.default),t[i]=e.addRemoteTextTrack({kind:"captions",id:n,default:l,label:o,language:a},!1).track}}},b6=function({inbandTextTracks:t,captionArray:e,timestampOffset:i}){if(!e)return;const n=O.WebKitDataCue||O.VTTCue;e.forEach(r=>{const s=r.stream;r.content?r.content.forEach(o=>{const a=new n(r.startTime+i,r.endTime+i,o.text);a.line=o.line,a.align="left",a.position=o.position,a.positionAlign="line-left",t[s].addCue(a)}):t[s].addCue(new n(r.startTime+i,r.endTime+i,r.text))})},x6=function(t){Object.defineProperties(t.frame,{id:{get(){return F.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),t.value.key}},value:{get(){return F.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),t.value.data}},privateData:{get(){return F.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),t.value.data}}})},T6=({inbandTextTracks:t,metadataArray:e,timestampOffset:i,videoDuration:n})=>{if(!e)return;const r=O.WebKitDataCue||O.VTTCue,s=t.metadataTrack_;if(!s||(e.forEach(d=>{const p=d.cueTime+i;typeof p!="number"||O.isNaN(p)||p<0||!(p<1/0)||!d.frames||!d.frames.length||d.frames.forEach(y=>{const T=new r(p,p,y.value||y.url||y.data||"");T.frame=y,T.value=y,x6(T),s.addCue(T)})}),!s.cues||!s.cues.length))return;const o=s.cues,a=[];for(let d=0;d<o.length;d++)o[d]&&a.push(o[d]);const l=a.reduce((d,p)=>{const y=d[p.startTime]||[];return y.push(p),d[p.startTime]=y,d},{}),u=Object.keys(l).sort((d,p)=>Number(d)-Number(p));u.forEach((d,p)=>{const y=l[d],T=isFinite(n)?n:0,v=Number(u[p+1])||T;y.forEach(w=>{w.endTime=v})})},w6={id:"ID",class:"CLASS",startDate:"START-DATE",duration:"DURATION",endDate:"END-DATE",endOnNext:"END-ON-NEXT",plannedDuration:"PLANNED-DURATION",scte35Out:"SCTE35-OUT",scte35In:"SCTE35-IN"},S6=new Set(["id","class","startDate","duration","endDate","endOnNext","startTime","endTime","processDateRange"]),E6=({inbandTextTracks:t,dateRanges:e})=>{const i=t.metadataTrack_;if(!i)return;const n=O.WebKitDataCue||O.VTTCue;e.forEach(r=>{for(const s of Object.keys(r)){if(S6.has(s))continue;const o=new n(r.startTime,r.endTime,"");o.id=r.id,o.type="com.apple.quicktime.HLS",o.value={key:w6[s],data:r[s]},(s==="scte35Out"||s==="scte35In")&&(o.value.data=new Uint8Array(o.value.data.match(/[\da-f]{2}/gi)).buffer),i.addCue(o)}r.processDateRange()})},A2=(t,e,i)=>{t.metadataTrack_||(t.metadataTrack_=i.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,F.browser.IS_ANY_SAFARI||(t.metadataTrack_.inBandMetadataTrackDispatchType=e))},Aa=function(t,e,i){let n,r;if(i&&i.cues)for(n=i.cues.length;n--;)r=i.cues[n],r.startTime>=t&&r.endTime<=e&&i.removeCue(r)},C6=function(t){const e=t.cues;if(!e)return;const i={};for(let n=e.length-1;n>=0;n--){const r=e[n],s=`${r.startTime}-${r.endTime}-${r.text}`;i[s]?t.removeCue(r):i[s]=r}},k6=(t,e,i)=>{if(typeof e>"u"||e===null||!t.length)return[];const n=Math.ceil((e-i+3)*Kc.ONE_SECOND_IN_TS);let r;for(r=0;r<t.length&&!(t[r].pts>n);r++);return t.slice(r)},D6=(t,e,i)=>{if(!e.length)return t;if(i)return e.slice();const n=e[0].pts;let r=0;for(r;r<t.length&&!(t[r].pts>=n);r++);return t.slice(0,r).concat(e)},A6=(t,e,i,n)=>{const r=Math.ceil((e-n)*Kc.ONE_SECOND_IN_TS),s=Math.ceil((i-n)*Kc.ONE_SECOND_IN_TS),o=t.slice();let a=t.length;for(;a--&&!(t[a].pts<=s););if(a===-1)return o;let l=a+1;for(;l--&&!(t[l].pts<=r););return l=Math.max(l,0),o.splice(l,a-l+1),o},P6=function(t,e){if(!t&&!e||!t&&e||t&&!e)return!1;if(t===e)return!0;const i=Object.keys(t).sort(),n=Object.keys(e).sort();if(i.length!==n.length)return!1;for(let r=0;r<i.length;r++){const s=i[r];if(s!==n[r]||t[s]!==e[s])return!1}return!0},YE=22,I6=function(t,e,i){e=e||[];const n=[];let r=0;for(let s=0;s<e.length;s++){const o=e[s];if(t===o.timeline&&(n.push(s),r+=o.duration,r>i))return s}return n.length===0?0:n[n.length-1]},va=1,O6=500,P2=t=>typeof t=="number"&&isFinite(t),Vu=1/60,L6=(t,e,i)=>t!=="main"||!e||!i?null:!i.hasAudio&&!i.hasVideo?"Neither audio nor video found in segment.":e.hasVideo&&!i.hasVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!e.hasVideo&&i.hasVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null,N6=(t,e,i)=>{let n=e-ut.BACK_BUFFER_LENGTH;t.length&&(n=Math.max(n,t.start(0)));const r=e-i;return Math.min(r,n)},Ss=t=>{const{startOfSegment:e,duration:i,segment:n,part:r,playlist:{mediaSequence:s,id:o,segments:a=[]},mediaIndex:l,partIndex:u,timeline:d}=t,p=a.length-1;let y="mediaIndex/partIndex increment";t.getMediaInfoForTime?y=`getMediaInfoForTime (${t.getMediaInfoForTime})`:t.isSyncRequest&&(y="getSyncSegmentCandidate (isSyncRequest)"),t.independent&&(y+=` with independent ${t.independent}`);const T=typeof u=="number",v=t.segment.uri?"segment":"pre-segment",w=T?vE({preloadSegment:n})-1:0;return`${v} [${s+l}/${s+p}]`+(T?` part [${u}/${w}]`:"")+` segment start/end [${n.start} => ${n.end}]`+(T?` part start/end [${r.start} => ${r.end}]`:"")+` startOfSegment [${e}] duration [${i}] timeline [${d}] selected by [${y}] playlist [${o}]`},I2=t=>`${t}TimingInfo`,R6=({segmentTimeline:t,currentTimeline:e,startOfSegment:i,buffered:n,overrideCheck:r})=>!r&&t===e?null:t<e?i:n.length?n.end(n.length-1):i,O2=({timelineChangeController:t,currentTimeline:e,segmentTimeline:i,loaderType:n,audioDisabled:r})=>{if(e===i)return!1;if(n==="audio"){const s=t.lastTimelineChange({type:"main"});return!s||s.to!==i}if(n==="main"&&r){const s=t.pendingTimelineChange({type:"audio"});return!(s&&s.to===i)}return!1},M6=t=>{let e=0;return["video","audio"].forEach(function(i){const n=t[`${i}TimingInfo`];if(!n)return;const{start:r,end:s}=n;let o;typeof r=="bigint"||typeof s=="bigint"?o=O.BigInt(s)-O.BigInt(r):typeof r=="number"&&typeof s=="number"&&(o=s-r),typeof o<"u"&&o>e&&(e=o)}),typeof e=="bigint"&&e<Number.MAX_SAFE_INTEGER&&(e=Number(e)),e},L2=({segmentDuration:t,maxDuration:e})=>t?Math.round(t)>e+wr:!1,B6=(t,e)=>{if(e!=="hls")return null;const i=M6({audioTimingInfo:t.audioTimingInfo,videoTimingInfo:t.videoTimingInfo});if(!i)return null;const n=t.playlist.targetDuration,r=L2({segmentDuration:i,maxDuration:n*2}),s=L2({segmentDuration:i,maxDuration:n}),o=`Segment with index ${t.mediaIndex} from playlist ${t.playlist.id} has a duration of ${i} when the reported duration is ${t.duration} and the target duration is ${n}. For HLS content, a duration in excess of the target duration may result in playback issues. See the HLS specification section on EXT-X-TARGETDURATION for more details: https://tools.ietf.org/html/draft-pantos-http-live-streaming-23#section-4.3.3.1`;return r||s?{severity:r?"warn":"info",message:o}:null};class eg extends F.EventTarget{constructor(e,i={}){if(super(),!e)throw new TypeError("Initialization settings are required");if(typeof e.currentTime!="function")throw new TypeError("No currentTime getter specified");if(!e.mediaSource)throw new TypeError("No MediaSource specified");this.bandwidth=e.bandwidth,this.throughput={rate:0,count:0},this.roundTrip=NaN,this.resetStats_(),this.mediaIndex=null,this.partIndex=null,this.hasPlayed_=e.hasPlayed,this.currentTime_=e.currentTime,this.seekable_=e.seekable,this.seeking_=e.seeking,this.duration_=e.duration,this.mediaSource_=e.mediaSource,this.vhs_=e.vhs,this.loaderType_=e.loaderType,this.currentMediaInfo_=void 0,this.startingMediaInfo_=void 0,this.segmentMetadataTrack_=e.segmentMetadataTrack,this.goalBufferLength_=e.goalBufferLength,this.sourceType_=e.sourceType,this.sourceUpdater_=e.sourceUpdater,this.inbandTextTracks_=e.inbandTextTracks,this.state_="INIT",this.timelineChangeController_=e.timelineChangeController,this.shouldSaveSegmentTimingInfo_=!0,this.parse708captions_=e.parse708captions,this.useDtsForTimestampOffset_=e.useDtsForTimestampOffset,this.captionServices_=e.captionServices,this.exactManifestTimings=e.exactManifestTimings,this.addMetadataToTextTrack=e.addMetadataToTextTrack,this.checkBufferTimeout_=null,this.error_=void 0,this.currentTimeline_=-1,this.pendingSegment_=null,this.xhrOptions_=null,this.pendingSegments_=[],this.audioDisabled_=!1,this.isPendingTimestampOffset_=!1,this.gopBuffer_=[],this.timeMapping_=0,this.safeAppend_=!1,this.appendInitSegment_={audio:!0,video:!0},this.playlistOfLastInitSegment_={audio:null,video:null},this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_={id3:[],caption:[]},this.waitingOnRemove_=!1,this.quotaExceededErrorRetryTimeout_=null,this.activeInitSegmentId_=null,this.initSegments_={},this.cacheEncryptionKeys_=e.cacheEncryptionKeys,this.keyCache_={},this.decrypter_=e.decrypter,this.syncController_=e.syncController,this.syncPoint_={segmentIndex:0,time:0},this.transmuxer_=this.createTransmuxer_(),this.triggerSyncInfoUpdate_=()=>this.trigger("syncinfoupdate"),this.syncController_.on("syncinfoupdate",this.triggerSyncInfoUpdate_),this.mediaSource_.addEventListener("sourceopen",()=>{this.isEndOfStream_()||(this.ended_=!1)}),this.fetchAtBuffer_=!1,this.replaceSegmentsUntil_=-1,this.logger_=Ji(`SegmentLoader[${this.loaderType_}]`),Object.defineProperty(this,"state",{get(){return this.state_},set(n){n!==this.state_&&(this.logger_(`${this.state_} -> ${n}`),this.state_=n,this.trigger("statechange"))}}),this.sourceUpdater_.on("ready",()=>{this.hasEnoughInfoToAppend_()&&this.processCallQueue_()}),this.loaderType_==="main"&&this.timelineChangeController_.on("pendingtimelinechange",()=>{this.hasEnoughInfoToAppend_()&&this.processCallQueue_()}),this.loaderType_==="audio"&&this.timelineChangeController_.on("timelinechange",()=>{this.hasEnoughInfoToLoad_()&&this.processLoadQueue_(),this.hasEnoughInfoToAppend_()&&this.processCallQueue_()})}createTransmuxer_(){return Zf.createTransmuxer({remux:!1,alignGopsAtEnd:this.safeAppend_,keepOriginalTimestamps:!0,parse708captions:this.parse708captions_,captionServices:this.captionServices_})}resetStats_(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0,this.mediaAppends=0}dispose(){this.trigger("dispose"),this.state="DISPOSED",this.pause(),this.abort_(),this.transmuxer_&&this.transmuxer_.terminate(),this.resetStats_(),this.checkBufferTimeout_&&O.clearTimeout(this.checkBufferTimeout_),this.syncController_&&this.triggerSyncInfoUpdate_&&this.syncController_.off("syncinfoupdate",this.triggerSyncInfoUpdate_),this.off()}setAudio(e){this.audioDisabled_=!e,e?this.appendInitSegment_.audio=!0:this.sourceUpdater_.removeAudio(0,this.duration_())}abort(){if(this.state!=="WAITING"){this.pendingSegment_&&(this.pendingSegment_=null);return}this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()}abort_(){this.pendingSegment_&&this.pendingSegment_.abortRequests&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_),this.waitingOnRemove_=!1,O.clearTimeout(this.quotaExceededErrorRetryTimeout_),this.quotaExceededErrorRetryTimeout_=null}checkForAbort_(e){return this.state==="APPENDING"&&!this.pendingSegment_?(this.state="READY",!0):!this.pendingSegment_||this.pendingSegment_.requestId!==e}error(e){return typeof e<"u"&&(this.logger_("error occurred:",e),this.error_=e),this.pendingSegment_=null,this.error_}endOfStream(){this.ended_=!0,this.transmuxer_&&Zf.reset(this.transmuxer_),this.gopBuffer_.length=0,this.pause(),this.trigger("ended")}buffered_(){const e=this.getMediaInfo_();if(!this.sourceUpdater_||!e)return Et();if(this.loaderType_==="main"){const{hasAudio:i,hasVideo:n,isMuxed:r}=e;if(n&&i&&!this.audioDisabled_&&!r)return this.sourceUpdater_.buffered();if(n)return this.sourceUpdater_.videoBuffered()}return this.sourceUpdater_.audioBuffered()}initSegmentForMap(e,i=!1){if(!e)return null;const n=ld(e);let r=this.initSegments_[n];return i&&!r&&e.bytes&&(this.initSegments_[n]=r={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:e.bytes,tracks:e.tracks,timescales:e.timescales}),r||e}segmentKey(e,i=!1){if(!e)return null;const n=LE(e);let r=this.keyCache_[n];this.cacheEncryptionKeys_&&i&&!r&&e.bytes&&(this.keyCache_[n]=r={resolvedUri:e.resolvedUri,bytes:e.bytes});const s={resolvedUri:(r||e).resolvedUri};return r&&(s.bytes=r.bytes),s}couldBeginLoading_(){return this.playlist_&&!this.paused()}load(){if(this.monitorBuffer_(),!!this.playlist_){if(this.state==="INIT"&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||this.state!=="READY"&&this.state!=="INIT"||(this.state="READY")}}init_(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}playlist(e,i={}){if(!e)return;const n=this.playlist_,r=this.pendingSegment_;this.playlist_=e,this.xhrOptions_=i,this.state==="INIT"&&(e.syncInfo={mediaSequence:e.mediaSequence,time:0},this.loaderType_==="main"&&this.syncController_.setDateTimeMappingForStart(e));let s=null;if(n&&(n.id?s=n.id:n.uri&&(s=n.uri)),this.logger_(`playlist update [${s} => ${e.id||e.uri}]`),this.trigger("syncinfoupdate"),this.state==="INIT"&&this.couldBeginLoading_())return this.init_();if(!n||n.uri!==e.uri){this.mediaIndex!==null&&(!e.endList&&typeof e.partTargetDuration=="number"?this.resetLoader():this.resyncLoader()),this.currentMediaInfo_=void 0,this.trigger("playlistupdate");return}const o=e.mediaSequence-n.mediaSequence;if(this.logger_(`live window shift [${o}]`),this.mediaIndex!==null)if(this.mediaIndex-=o,this.mediaIndex<0)this.mediaIndex=null,this.partIndex=null;else{const a=this.playlist_.segments[this.mediaIndex];if(this.partIndex&&(!a.parts||!a.parts.length||!a.parts[this.partIndex])){const l=this.mediaIndex;this.logger_(`currently processing part (index ${this.partIndex}) no longer exists.`),this.resetLoader(),this.mediaIndex=l}}r&&(r.mediaIndex-=o,r.mediaIndex<0?(r.mediaIndex=null,r.partIndex=null):(r.mediaIndex>=0&&(r.segment=e.segments[r.mediaIndex]),r.partIndex>=0&&r.segment.parts&&(r.part=r.segment.parts[r.partIndex]))),this.syncController_.saveExpiredSegmentInfo(n,e)}pause(){this.checkBufferTimeout_&&(O.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)}paused(){return this.checkBufferTimeout_===null}resetLoaderProperties(){this.ended_=!1,this.activeInitSegmentId_=null,this.appendInitSegment_={audio:!0,video:!0}}resetEverything(e){this.resetLoaderProperties(),this.resetLoader(),this.remove(0,1/0,e),this.transmuxer_&&(this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.transmuxer_.postMessage({action:"reset"}))}resetLoader(){this.fetchAtBuffer_=!1,this.resyncLoader()}resyncLoader(){this.transmuxer_&&Zf.reset(this.transmuxer_),this.mediaIndex=null,this.partIndex=null,this.syncPoint_=null,this.isPendingTimestampOffset_=!1,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}remove(e,i,n=()=>{},r=!1){if(i===1/0&&(i=this.duration_()),i<=e){this.logger_("skipping remove because end ${end} is <= start ${start}");return}if(!this.sourceUpdater_||!this.getMediaInfo_()){this.logger_("skipping remove because no source updater or starting media info");return}let s=1;const o=()=>{s--,s===0&&n()};(r||!this.audioDisabled_)&&(s++,this.sourceUpdater_.removeAudio(e,i,o)),(r||this.loaderType_==="main")&&(this.gopBuffer_=A6(this.gopBuffer_,e,i,this.timeMapping_),s++,this.sourceUpdater_.removeVideo(e,i,o));for(const a in this.inbandTextTracks_)Aa(e,i,this.inbandTextTracks_[a]);Aa(e,i,this.segmentMetadataTrack_),o()}monitorBuffer_(){this.checkBufferTimeout_&&O.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=O.setTimeout(this.monitorBufferTick_.bind(this),1)}monitorBufferTick_(){this.state==="READY"&&this.fillBuffer_(),this.checkBufferTimeout_&&O.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=O.setTimeout(this.monitorBufferTick_.bind(this),O6)}fillBuffer_(){if(this.sourceUpdater_.updating())return;const e=this.chooseNextRequest_();e&&(typeof e.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!1,this.timelineChangeController_.pendingTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline})),this.loadSegment_(e))}isEndOfStream_(e=this.mediaIndex,i=this.playlist_,n=this.partIndex){if(!i||!this.mediaSource_)return!1;const r=typeof e=="number"&&i.segments[e],s=e+1===i.segments.length,o=!r||!r.parts||n+1===r.parts.length;return i.endList&&this.mediaSource_.readyState==="open"&&s&&o}chooseNextRequest_(){const e=this.buffered_(),i=_2(e)||0,n=ly(e,this.currentTime_()),r=!this.hasPlayed_()&&n>=1,s=n>=this.goalBufferLength_(),o=this.playlist_.segments;if(!o.length||r||s)return null;this.syncPoint_=this.syncPoint_||this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_());const a={partIndex:null,mediaIndex:null,startOfSegment:null,playlist:this.playlist_,isSyncRequest:!this.syncPoint_};if(a.isSyncRequest)a.mediaIndex=I6(this.currentTimeline_,o,i);else if(this.mediaIndex!==null){const y=o[this.mediaIndex],T=typeof this.partIndex=="number"?this.partIndex:-1;a.startOfSegment=y.end?y.end:i,y.parts&&y.parts[T+1]?(a.mediaIndex=this.mediaIndex,a.partIndex=T+1):a.mediaIndex=this.mediaIndex+1}else{const{segmentIndex:y,startTime:T,partIndex:v}=qt.getMediaInfoForTime({exactManifestTimings:this.exactManifestTimings,playlist:this.playlist_,currentTime:this.fetchAtBuffer_?i:this.currentTime_(),startingPartIndex:this.syncPoint_.partIndex,startingSegmentIndex:this.syncPoint_.segmentIndex,startTime:this.syncPoint_.time});a.getMediaInfoForTime=this.fetchAtBuffer_?`bufferedEnd ${i}`:`currentTime ${this.currentTime_()}`,a.mediaIndex=y,a.startOfSegment=T,a.partIndex=v}const l=o[a.mediaIndex];let u=l&&typeof a.partIndex=="number"&&l.parts&&l.parts[a.partIndex];if(!l||typeof a.partIndex=="number"&&!u)return null;typeof a.partIndex!="number"&&l.parts&&(a.partIndex=0,u=l.parts[0]);const d=this.vhs_.playlists&&this.vhs_.playlists.main&&this.vhs_.playlists.main.independentSegments||this.playlist_.independentSegments;if(!n&&u&&!d&&!u.independent)if(a.partIndex===0){const y=o[a.mediaIndex-1],T=y.parts&&y.parts.length&&y.parts[y.parts.length-1];T&&T.independent&&(a.mediaIndex-=1,a.partIndex=y.parts.length-1,a.independent="previous segment")}else l.parts[a.partIndex-1].independent&&(a.partIndex-=1,a.independent="previous part");const p=this.mediaSource_&&this.mediaSource_.readyState==="ended";return a.mediaIndex>=o.length-1&&p&&!this.seeking_()?null:this.generateSegmentInfo_(a)}generateSegmentInfo_(e){const{independent:i,playlist:n,mediaIndex:r,startOfSegment:s,isSyncRequest:o,partIndex:a,forceTimestampOffset:l,getMediaInfoForTime:u}=e,d=n.segments[r],p=typeof a=="number"&&d.parts[a],y={requestId:"segment-loader-"+Math.random(),uri:p&&p.resolvedUri||d.resolvedUri,mediaIndex:r,partIndex:p?a:null,isSyncRequest:o,startOfSegment:s,playlist:n,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:d.timeline,duration:p&&p.duration||d.duration,segment:d,part:p,byteLength:0,transmuxer:this.transmuxer_,getMediaInfoForTime:u,independent:i},T=typeof l<"u"?l:this.isPendingTimestampOffset_;y.timestampOffset=this.timestampOffsetForSegment_({segmentTimeline:d.timeline,currentTimeline:this.currentTimeline_,startOfSegment:s,buffered:this.buffered_(),overrideCheck:T});const v=_2(this.sourceUpdater_.audioBuffered());return typeof v=="number"&&(y.audioAppendStart=v-this.sourceUpdater_.audioTimestampOffset()),this.sourceUpdater_.videoBuffered().length&&(y.gopsToAlignWith=k6(this.gopBuffer_,this.currentTime_()-this.sourceUpdater_.videoTimestampOffset(),this.timeMapping_)),y}timestampOffsetForSegment_(e){return R6(e)}earlyAbortWhenNeeded_(e){if(this.vhs_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH||Date.now()-(e.firstBytesReceivedAt||Date.now())<1e3)return;const i=this.currentTime_(),n=e.bandwidth,r=this.pendingSegment_.duration,s=qt.estimateSegmentRequestTime(r,n,this.playlist_,e.bytesReceived),o=iM(this.buffered_(),i,this.vhs_.tech_.playbackRate())-1;if(s<=o)return;const a=g6({main:this.vhs_.playlists.main,currentTime:i,bandwidth:n,duration:this.duration_(),segmentDuration:r,timeUntilRebuffer:o,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(!a)return;const u=s-o-a.rebufferingImpact;let d=.5;o<=wr&&(d=1),!(!a.playlist||a.playlist.uri===this.playlist_.uri||u<d)&&(this.bandwidth=a.playlist.attributes.BANDWIDTH*ut.BANDWIDTH_VARIANCE+1,this.trigger("earlyabort"))}handleAbort_(e){this.logger_(`Aborting ${Ss(e)}`),this.mediaRequestsAborted+=1}handleProgress_(e,i){this.earlyAbortWhenNeeded_(i.stats),!this.checkForAbort_(i.requestId)&&this.trigger("progress")}handleTrackInfo_(e,i){this.earlyAbortWhenNeeded_(e.stats),!this.checkForAbort_(e.requestId)&&(this.checkForIllegalMediaSwitch(i)||(i=i||{},P6(this.currentMediaInfo_,i)||(this.appendInitSegment_={audio:!0,video:!0},this.startingMediaInfo_=i,this.currentMediaInfo_=i,this.logger_("trackinfo update",i),this.trigger("trackinfo")),!this.checkForAbort_(e.requestId)&&(this.pendingSegment_.trackInfo=i,this.hasEnoughInfoToAppend_()&&this.processCallQueue_())))}handleTimingInfo_(e,i,n,r){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;const s=this.pendingSegment_,o=I2(i);s[o]=s[o]||{},s[o][n]=r,this.logger_(`timinginfo: ${i} - ${n} - ${r}`),this.hasEnoughInfoToAppend_()&&this.processCallQueue_()}handleCaptions_(e,i){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(i.length===0){this.logger_("SegmentLoader received no captions from a caption event");return}if(!this.pendingSegment_.hasAppendedData_){this.metadataQueue_.caption.push(this.handleCaptions_.bind(this,e,i));return}const r=this.sourceUpdater_.videoTimestampOffset()===null?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),s={};i.forEach(o=>{s[o.stream]=s[o.stream]||{startTime:1/0,captions:[],endTime:0};const a=s[o.stream];a.startTime=Math.min(a.startTime,o.startTime+r),a.endTime=Math.max(a.endTime,o.endTime+r),a.captions.push(o)}),Object.keys(s).forEach(o=>{const{startTime:a,endTime:l,captions:u}=s[o],d=this.inbandTextTracks_;this.logger_(`adding cues from ${a} -> ${l} for ${o}`),_6(d,this.vhs_.tech_,o),Aa(a,l,d[o]),b6({captionArray:u,inbandTextTracks:d,timestampOffset:r})}),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}handleId3_(e,i,n){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(!this.pendingSegment_.hasAppendedData_){this.metadataQueue_.id3.push(this.handleId3_.bind(this,e,i,n));return}this.addMetadataToTextTrack(n,i,this.duration_())}processMetadataQueue_(){this.metadataQueue_.id3.forEach(e=>e()),this.metadataQueue_.caption.forEach(e=>e()),this.metadataQueue_.id3=[],this.metadataQueue_.caption=[]}processCallQueue_(){const e=this.callQueue_;this.callQueue_=[],e.forEach(i=>i())}processLoadQueue_(){const e=this.loadQueue_;this.loadQueue_=[],e.forEach(i=>i())}hasEnoughInfoToLoad_(){if(this.loaderType_!=="audio")return!0;const e=this.pendingSegment_;return e?this.getCurrentMediaInfo_()?!O2({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}):!0:!1}getCurrentMediaInfo_(e=this.pendingSegment_){return e&&e.trackInfo||this.currentMediaInfo_}getMediaInfo_(e=this.pendingSegment_){return this.getCurrentMediaInfo_(e)||this.startingMediaInfo_}getPendingSegmentPlaylist(){return this.pendingSegment_?this.pendingSegment_.playlist:null}hasEnoughInfoToAppend_(){if(!this.sourceUpdater_.ready()||this.waitingOnRemove_||this.quotaExceededErrorRetryTimeout_)return!1;const e=this.pendingSegment_,i=this.getCurrentMediaInfo_();if(!e||!i)return!1;const{hasAudio:n,hasVideo:r,isMuxed:s}=i;return!(r&&!e.videoTimingInfo||n&&!this.audioDisabled_&&!s&&!e.audioTimingInfo||O2({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))}handleData_(e,i){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(this.callQueue_.length||!this.hasEnoughInfoToAppend_()){this.callQueue_.push(this.handleData_.bind(this,e,i));return}const n=this.pendingSegment_;if(this.setTimeMapping_(n.timeline),this.updateMediaSecondsLoaded_(n.part||n.segment),this.mediaSource_.readyState!=="closed"){if(e.map&&(e.map=this.initSegmentForMap(e.map,!0),n.segment.map=e.map),e.key&&this.segmentKey(e.key,!0),n.isFmp4=e.isFmp4,n.timingInfo=n.timingInfo||{},n.isFmp4)this.trigger("fmp4"),n.timingInfo.start=n[I2(i.type)].start;else{const r=this.getCurrentMediaInfo_(),s=this.loaderType_==="main"&&r&&r.hasVideo;let o;s&&(o=n.videoTimingInfo.start),n.timingInfo.start=this.trueSegmentStart_({currentStart:n.timingInfo.start,playlist:n.playlist,mediaIndex:n.mediaIndex,currentVideoTimestampOffset:this.sourceUpdater_.videoTimestampOffset(),useVideoTimingInfo:s,firstVideoFrameTimeForData:o,videoTimingInfo:n.videoTimingInfo,audioTimingInfo:n.audioTimingInfo})}if(this.updateAppendInitSegmentStatus(n,i.type),this.updateSourceBufferTimestampOffset_(n),n.isSyncRequest){this.updateTimingInfoEnd_(n),this.syncController_.saveSegmentTimingInfo({segmentInfo:n,shouldSaveTimelineMapping:this.loaderType_==="main"});const r=this.chooseNextRequest_();if(r.mediaIndex!==n.mediaIndex||r.partIndex!==n.partIndex){this.logger_("sync segment was incorrect, not appending");return}this.logger_("sync segment was correct, appending")}n.hasAppendedData_=!0,this.processMetadataQueue_(),this.appendData_(n,i)}}updateAppendInitSegmentStatus(e,i){this.loaderType_==="main"&&typeof e.timestampOffset=="number"&&!e.changedTimestampOffset&&(this.appendInitSegment_={audio:!0,video:!0}),this.playlistOfLastInitSegment_[i]!==e.playlist&&(this.appendInitSegment_[i]=!0)}getInitSegmentAndUpdateState_({type:e,initSegment:i,map:n,playlist:r}){if(n){const s=ld(n);if(this.activeInitSegmentId_===s)return null;i=this.initSegmentForMap(n,!0).bytes,this.activeInitSegmentId_=s}return i&&this.appendInitSegment_[e]?(this.playlistOfLastInitSegment_[e]=r,this.appendInitSegment_[e]=!1,this.activeInitSegmentId_=null,i):null}handleQuotaExceededError_({segmentInfo:e,type:i,bytes:n},r){const s=this.sourceUpdater_.audioBuffered(),o=this.sourceUpdater_.videoBuffered();s.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the audio buffer: "+Hr(s).join(", ")),o.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the video buffer: "+Hr(o).join(", "));const a=s.length?s.start(0):0,l=s.length?s.end(s.length-1):0,u=o.length?o.start(0):0,d=o.length?o.end(o.length-1):0;if(l-a<=va&&d-u<=va){this.logger_(`On QUOTA_EXCEEDED_ERR, single segment too large to append to buffer, triggering an error. Appended byte length: ${n.byteLength}, audio buffer: ${Hr(s).join(", ")}, video buffer: ${Hr(o).join(", ")}, `),this.error({message:"Quota exceeded error with append of a single segment of content",excludeUntil:1/0}),this.trigger("error");return}this.waitingOnRemove_=!0,this.callQueue_.push(this.appendToSourceBuffer_.bind(this,{segmentInfo:e,type:i,bytes:n}));const y=this.currentTime_()-va;this.logger_(`On QUOTA_EXCEEDED_ERR, removing audio/video from 0 to ${y}`),this.remove(0,y,()=>{this.logger_(`On QUOTA_EXCEEDED_ERR, retrying append in ${va}s`),this.waitingOnRemove_=!1,this.quotaExceededErrorRetryTimeout_=O.setTimeout(()=>{this.logger_("On QUOTA_EXCEEDED_ERR, re-processing call queue"),this.quotaExceededErrorRetryTimeout_=null,this.processCallQueue_()},va*1e3)},!0)}handleAppendError_({segmentInfo:e,type:i,bytes:n},r){if(r){if(r.code===YE){this.handleQuotaExceededError_({segmentInfo:e,type:i,bytes:n});return}this.logger_("Received non QUOTA_EXCEEDED_ERR on append",r),this.error(`${i} append of ${n.length}b failed for segment #${e.mediaIndex} in playlist ${e.playlist.id}`),this.trigger("appenderror")}}appendToSourceBuffer_({segmentInfo:e,type:i,initSegment:n,data:r,bytes:s}){if(!s){const o=[r];let a=r.byteLength;n&&(o.unshift(n),a+=n.byteLength),s=v6({bytes:a,segments:o})}this.sourceUpdater_.appendBuffer({segmentInfo:e,type:i,bytes:s},this.handleAppendError_.bind(this,{segmentInfo:e,type:i,bytes:s}))}handleSegmentTimingInfo_(e,i,n){if(!this.pendingSegment_||i!==this.pendingSegment_.requestId)return;const r=this.pendingSegment_.segment,s=`${e}TimingInfo`;r[s]||(r[s]={}),r[s].transmuxerPrependedSeconds=n.prependedContentDuration||0,r[s].transmuxedPresentationStart=n.start.presentation,r[s].transmuxedDecodeStart=n.start.decode,r[s].transmuxedPresentationEnd=n.end.presentation,r[s].transmuxedDecodeEnd=n.end.decode,r[s].baseMediaDecodeTime=n.baseMediaDecodeTime}appendData_(e,i){const{type:n,data:r}=i;if(!r||!r.byteLength||n==="audio"&&this.audioDisabled_)return;const s=this.getInitSegmentAndUpdateState_({type:n,initSegment:i.initSegment,playlist:e.playlist,map:e.isFmp4?e.segment.map:null});this.appendToSourceBuffer_({segmentInfo:e,type:n,initSegment:s,data:r})}loadSegment_(e){if(this.state="WAITING",this.pendingSegment_=e,this.trimBackBuffer_(e),typeof e.timestampOffset=="number"&&this.transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),!this.hasEnoughInfoToLoad_()){this.loadQueue_.push(()=>{const i=Un({},e,{forceTimestampOffset:!0});Un(e,this.generateSegmentInfo_(i)),this.isPendingTimestampOffset_=!1,this.updateTransmuxerAndRequestSegment_(e)});return}this.updateTransmuxerAndRequestSegment_(e)}updateTransmuxerAndRequestSegment_(e){this.shouldUpdateTransmuxerTimestampOffset_(e.timestampOffset)&&(this.gopBuffer_.length=0,e.gopsToAlignWith=[],this.timeMapping_=0,this.transmuxer_.postMessage({action:"reset"}),this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:e.timestampOffset}));const i=this.createSimplifiedSegmentObj_(e),n=this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex),r=this.mediaIndex!==null,s=e.timeline!==this.currentTimeline_&&e.timeline>0,o=n||r&&s;this.logger_(`Requesting ${Ss(e)}`),i.map&&!i.map.bytes&&(this.logger_("going to request init segment."),this.appendInitSegment_={video:!0,audio:!0}),e.abortRequests=c6({xhr:this.vhs_.xhr,xhrOptions:this.xhrOptions_,decryptionWorker:this.decrypter_,segment:i,abortFn:this.handleAbort_.bind(this,e),progressFn:this.handleProgress_.bind(this),trackInfoFn:this.handleTrackInfo_.bind(this),timingInfoFn:this.handleTimingInfo_.bind(this),videoSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"video",e.requestId),audioSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"audio",e.requestId),captionsFn:this.handleCaptions_.bind(this),isEndOfTimeline:o,endedTimelineFn:()=>{this.logger_("received endedtimeline callback")},id3Fn:this.handleId3_.bind(this),dataFn:this.handleData_.bind(this),doneFn:this.segmentRequestFinished_.bind(this),onTransmuxerLog:({message:a,level:l,stream:u})=>{this.logger_(`${Ss(e)} logged from transmuxer stream ${u} as a ${l}: ${a}`)}})}trimBackBuffer_(e){const i=N6(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);i>0&&this.remove(0,i)}createSimplifiedSegmentObj_(e){const i=e.segment,n=e.part,r={resolvedUri:n?n.resolvedUri:i.resolvedUri,byterange:n?n.byterange:i.byterange,requestId:e.requestId,transmuxer:e.transmuxer,audioAppendStart:e.audioAppendStart,gopsToAlignWith:e.gopsToAlignWith,part:e.part},s=e.playlist.segments[e.mediaIndex-1];if(s&&s.timeline===i.timeline&&(s.videoTimingInfo?r.baseStartTime=s.videoTimingInfo.transmuxedDecodeEnd:s.audioTimingInfo&&(r.baseStartTime=s.audioTimingInfo.transmuxedDecodeEnd)),i.key){const o=i.key.iv||new Uint32Array([0,0,0,e.mediaIndex+e.playlist.mediaSequence]);r.key=this.segmentKey(i.key),r.key.iv=o}return i.map&&(r.map=this.initSegmentForMap(i.map)),r}saveTransferStats_(e){this.mediaRequests+=1,e&&(this.mediaBytesTransferred+=e.bytesReceived,this.mediaTransferDuration+=e.roundTripTime)}saveBandwidthRelatedStats_(e,i){if(this.pendingSegment_.byteLength=i.bytesReceived,e<Vu){this.logger_(`Ignoring segment's bandwidth because its duration of ${e} is less than the min to record ${Vu}`);return}this.bandwidth=i.bandwidth,this.roundTrip=i.roundTripTime}handleTimeout_(){this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,this.trigger("bandwidthupdate"),this.trigger("timeout")}segmentRequestFinished_(e,i,n){if(this.callQueue_.length){this.callQueue_.push(this.segmentRequestFinished_.bind(this,e,i,n));return}if(this.saveTransferStats_(i.stats),!this.pendingSegment_||i.requestId!==this.pendingSegment_.requestId)return;if(e){if(this.pendingSegment_=null,this.state="READY",e.code===un.ABORTED)return;if(this.pause(),e.code===un.TIMEOUT){this.handleTimeout_();return}this.mediaRequestsErrored+=1,this.error(e),this.trigger("error");return}const r=this.pendingSegment_;this.saveBandwidthRelatedStats_(r.duration,i.stats),r.endOfAllRequests=i.endOfAllRequests,n.gopInfo&&(this.gopBuffer_=D6(this.gopBuffer_,n.gopInfo,this.safeAppend_)),this.state="APPENDING",this.trigger("appending"),this.waitForAppendsToComplete_(r)}setTimeMapping_(e){const i=this.syncController_.mappingForTimeline(e);i!==null&&(this.timeMapping_=i)}updateMediaSecondsLoaded_(e){typeof e.start=="number"&&typeof e.end=="number"?this.mediaSecondsLoaded+=e.end-e.start:this.mediaSecondsLoaded+=e.duration}shouldUpdateTransmuxerTimestampOffset_(e){return e===null?!1:this.loaderType_==="main"&&e!==this.sourceUpdater_.videoTimestampOffset()||!this.audioDisabled_&&e!==this.sourceUpdater_.audioTimestampOffset()}trueSegmentStart_({currentStart:e,playlist:i,mediaIndex:n,firstVideoFrameTimeForData:r,currentVideoTimestampOffset:s,useVideoTimingInfo:o,videoTimingInfo:a,audioTimingInfo:l}){if(typeof e<"u")return e;if(!o)return l.start;const u=i.segments[n-1];return n===0||!u||typeof u.start>"u"||u.end!==r+s?r:a.start}waitForAppendsToComplete_(e){const i=this.getCurrentMediaInfo_(e);if(!i){this.error({message:"No starting media returned, likely due to an unsupported media format.",playlistExclusionDuration:1/0}),this.trigger("error");return}const{hasAudio:n,hasVideo:r,isMuxed:s}=i,o=this.loaderType_==="main"&&r,a=!this.audioDisabled_&&n&&!s;if(e.waitingOnAppends=0,!e.hasAppendedData_){!e.timingInfo&&typeof e.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!0),e.timingInfo={start:0},e.waitingOnAppends++,this.isPendingTimestampOffset_||(this.updateSourceBufferTimestampOffset_(e),this.processMetadataQueue_()),this.checkAppendsDone_(e);return}o&&e.waitingOnAppends++,a&&e.waitingOnAppends++,o&&this.sourceUpdater_.videoQueueCallback(this.checkAppendsDone_.bind(this,e)),a&&this.sourceUpdater_.audioQueueCallback(this.checkAppendsDone_.bind(this,e))}checkAppendsDone_(e){this.checkForAbort_(e.requestId)||(e.waitingOnAppends--,e.waitingOnAppends===0&&this.handleAppendsDone_())}checkForIllegalMediaSwitch(e){const i=L6(this.loaderType_,this.getCurrentMediaInfo_(),e);return i?(this.error({message:i,playlistExclusionDuration:1/0}),this.trigger("error"),!0):!1}updateSourceBufferTimestampOffset_(e){if(e.timestampOffset===null||typeof e.timingInfo.start!="number"||e.changedTimestampOffset||this.loaderType_!=="main")return;let i=!1;e.timestampOffset-=this.getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:e.segment.videoTimingInfo,audioTimingInfo:e.segment.audioTimingInfo,timingInfo:e.timingInfo}),e.changedTimestampOffset=!0,e.timestampOffset!==this.sourceUpdater_.videoTimestampOffset()&&(this.sourceUpdater_.videoTimestampOffset(e.timestampOffset),i=!0),e.timestampOffset!==this.sourceUpdater_.audioTimestampOffset()&&(this.sourceUpdater_.audioTimestampOffset(e.timestampOffset),i=!0),i&&this.trigger("timestampoffset")}getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:e,audioTimingInfo:i,timingInfo:n}){return this.useDtsForTimestampOffset_?e&&typeof e.transmuxedDecodeStart=="number"?e.transmuxedDecodeStart:i&&typeof i.transmuxedDecodeStart=="number"?i.transmuxedDecodeStart:n.start:n.start}updateTimingInfoEnd_(e){e.timingInfo=e.timingInfo||{};const i=this.getMediaInfo_(),r=this.loaderType_==="main"&&i&&i.hasVideo&&e.videoTimingInfo?e.videoTimingInfo:e.audioTimingInfo;r&&(e.timingInfo.end=typeof r.end=="number"?r.end:r.start+e.duration)}handleAppendsDone_(){if(this.pendingSegment_&&this.trigger("appendsdone"),!this.pendingSegment_){this.state="READY",this.paused()||this.monitorBuffer_();return}const e=this.pendingSegment_;this.updateTimingInfoEnd_(e),this.shouldSaveSegmentTimingInfo_&&this.syncController_.saveSegmentTimingInfo({segmentInfo:e,shouldSaveTimelineMapping:this.loaderType_==="main"});const i=B6(e,this.sourceType_);if(i&&(i.severity==="warn"?F.log.warn(i.message):this.logger_(i.message)),this.recordThroughput_(e),this.pendingSegment_=null,this.state="READY",e.isSyncRequest&&(this.trigger("syncinfoupdate"),!e.hasAppendedData_)){this.logger_(`Throwing away un-appended sync request ${Ss(e)}`);return}this.logger_(`Appended ${Ss(e)}`),this.addSegmentMetadataCue_(e),this.currentTime_()>=this.replaceSegmentsUntil_&&(this.replaceSegmentsUntil_=-1,this.fetchAtBuffer_=!0),this.currentTimeline_!==e.timeline&&(this.timelineChangeController_.lastTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline}),this.loaderType_==="main"&&!this.audioDisabled_&&this.timelineChangeController_.lastTimelineChange({type:"audio",from:this.currentTimeline_,to:e.timeline})),this.currentTimeline_=e.timeline,this.trigger("syncinfoupdate");const n=e.segment,r=e.part,s=n.end&&this.currentTime_()-n.end>e.playlist.targetDuration*3,o=r&&r.end&&this.currentTime_()-r.end>e.playlist.partTargetDuration*3;if(s||o){this.logger_(`bad ${s?"segment":"part"} ${Ss(e)}`),this.resetEverything();return}this.mediaIndex!==null&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.mediaIndex=e.mediaIndex,this.partIndex=e.partIndex,this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex)&&this.endOfStream(),this.trigger("appended"),e.hasAppendedData_&&this.mediaAppends++,this.paused()||this.monitorBuffer_()}recordThroughput_(e){if(e.duration<Vu){this.logger_(`Ignoring segment's throughput because its duration of ${e.duration} is less than the min to record ${Vu}`);return}const i=this.throughput.rate,n=Date.now()-e.endOfAllRequests+1,r=Math.floor(e.byteLength/n*8*1e3);this.throughput.rate+=(r-i)/++this.throughput.count}addSegmentMetadataCue_(e){if(!this.segmentMetadataTrack_)return;const i=e.segment,n=i.start,r=i.end;if(!P2(n)||!P2(r))return;Aa(n,r,this.segmentMetadataTrack_);const s=O.WebKitDataCue||O.VTTCue,o={custom:i.custom,dateTimeObject:i.dateTimeObject,dateTimeString:i.dateTimeString,programDateTime:i.programDateTime,bandwidth:e.playlist.attributes.BANDWIDTH,resolution:e.playlist.attributes.RESOLUTION,codecs:e.playlist.attributes.CODECS,byteLength:e.byteLength,uri:e.uri,timeline:e.timeline,playlist:e.playlist.id,start:n,end:r},a=JSON.stringify(o),l=new s(n,r,a);l.value=o,this.segmentMetadataTrack_.addCue(l)}set replaceSegmentsUntil(e){this.logger_(`Replacing currently buffered segments until ${e}`),this.replaceSegmentsUntil_=e}}function Pn(){}const QE=function(t){return typeof t!="string"?t:t.replace(/./,e=>e.toUpperCase())},F6=["video","audio"],tg=(t,e)=>{const i=e[`${t}Buffer`];return i&&i.updating||e.queuePending[t]},j6=(t,e)=>{for(let i=0;i<e.length;i++){const n=e[i];if(n.type==="mediaSource")return null;if(n.type===t)return i}return null},to=(t,e)=>{if(e.queue.length===0)return;let i=0,n=e.queue[i];if(n.type==="mediaSource"){!e.updating()&&e.mediaSource.readyState!=="closed"&&(e.queue.shift(),n.action(e),n.doneFn&&n.doneFn(),to("audio",e),to("video",e));return}if(t!=="mediaSource"&&!(!e.ready()||e.mediaSource.readyState==="closed"||tg(t,e))){if(n.type!==t){if(i=j6(t,e.queue),i===null)return;n=e.queue[i]}if(e.queue.splice(i,1),e.queuePending[t]=n,n.action(t,e),!n.doneFn){e.queuePending[t]=null,to(t,e);return}}},JE=(t,e)=>{const i=e[`${t}Buffer`],n=QE(t);i&&(i.removeEventListener("updateend",e[`on${n}UpdateEnd_`]),i.removeEventListener("error",e[`on${n}Error_`]),e.codecs[t]=null,e[`${t}Buffer`]=null)},sn=(t,e)=>t&&e&&Array.prototype.indexOf.call(t.sourceBuffers,e)!==-1,ei={appendBuffer:(t,e,i)=>(n,r)=>{const s=r[`${n}Buffer`];if(sn(r.mediaSource,s)){r.logger_(`Appending segment ${e.mediaIndex}'s ${t.length} bytes to ${n}Buffer`);try{s.appendBuffer(t)}catch(o){r.logger_(`Error with code ${o.code} `+(o.code===YE?"(QUOTA_EXCEEDED_ERR) ":"")+`when appending segment ${e.mediaIndex} to ${n}Buffer`),r.queuePending[n]=null,i(o)}}},remove:(t,e)=>(i,n)=>{const r=n[`${i}Buffer`];if(sn(n.mediaSource,r)){n.logger_(`Removing ${t} to ${e} from ${i}Buffer`);try{r.remove(t,e)}catch{n.logger_(`Remove ${t} to ${e} from ${i}Buffer failed`)}}},timestampOffset:t=>(e,i)=>{const n=i[`${e}Buffer`];sn(i.mediaSource,n)&&(i.logger_(`Setting ${e}timestampOffset to ${t}`),n.timestampOffset=t)},callback:t=>(e,i)=>{t()},endOfStream:t=>e=>{if(e.mediaSource.readyState==="open"){e.logger_(`Calling mediaSource endOfStream(${t||""})`);try{e.mediaSource.endOfStream(t)}catch(i){F.log.warn("Failed to call media source endOfStream",i)}}},duration:t=>e=>{e.logger_(`Setting mediaSource duration to ${t}`);try{e.mediaSource.duration=t}catch(i){F.log.warn("Failed to set media source duration",i)}},abort:()=>(t,e)=>{if(e.mediaSource.readyState!=="open")return;const i=e[`${t}Buffer`];if(sn(e.mediaSource,i)){e.logger_(`calling abort on ${t}Buffer`);try{i.abort()}catch(n){F.log.warn(`Failed to abort on ${t}Buffer`,n)}}},addSourceBuffer:(t,e)=>i=>{const n=QE(t),r=gl(e);i.logger_(`Adding ${t}Buffer with codec ${e} to mediaSource`);const s=i.mediaSource.addSourceBuffer(r);s.addEventListener("updateend",i[`on${n}UpdateEnd_`]),s.addEventListener("error",i[`on${n}Error_`]),i.codecs[t]=e,i[`${t}Buffer`]=s},removeSourceBuffer:t=>e=>{const i=e[`${t}Buffer`];if(JE(t,e),!!sn(e.mediaSource,i)){e.logger_(`Removing ${t}Buffer with codec ${e.codecs[t]} from mediaSource`);try{e.mediaSource.removeSourceBuffer(i)}catch(n){F.log.warn(`Failed to removeSourceBuffer ${t}Buffer`,n)}}},changeType:t=>(e,i)=>{const n=i[`${e}Buffer`],r=gl(t);sn(i.mediaSource,n)&&i.codecs[e]!==t&&(i.logger_(`changing ${e}Buffer codec from ${i.codecs[e]} to ${t}`),n.changeType(r),i.codecs[e]=t)}},ti=({type:t,sourceUpdater:e,action:i,doneFn:n,name:r})=>{e.queue.push({type:t,action:i,doneFn:n,name:r}),to(t,e)},N2=(t,e)=>i=>{if(e.queuePending[t]){const n=e.queuePending[t].doneFn;e.queuePending[t]=null,n&&n(e[`${t}Error_`])}to(t,e)};class ZE extends F.EventTarget{constructor(e){super(),this.mediaSource=e,this.sourceopenListener_=()=>to("mediaSource",this),this.mediaSource.addEventListener("sourceopen",this.sourceopenListener_),this.logger_=Ji("SourceUpdater"),this.audioTimestampOffset_=0,this.videoTimestampOffset_=0,this.queue=[],this.queuePending={audio:null,video:null},this.delayedAudioAppendQueue_=[],this.videoAppendQueued_=!1,this.codecs={},this.onVideoUpdateEnd_=N2("video",this),this.onAudioUpdateEnd_=N2("audio",this),this.onVideoError_=i=>{this.videoError_=i},this.onAudioError_=i=>{this.audioError_=i},this.createdSourceBuffers_=!1,this.initializedEme_=!1,this.triggeredReady_=!1}initializedEme(){this.initializedEme_=!0,this.triggerReady()}hasCreatedSourceBuffers(){return this.createdSourceBuffers_}hasInitializedAnyEme(){return this.initializedEme_}ready(){return this.hasCreatedSourceBuffers()&&this.hasInitializedAnyEme()}createSourceBuffers(e){this.hasCreatedSourceBuffers()||(this.addOrChangeSourceBuffers(e),this.createdSourceBuffers_=!0,this.trigger("createdsourcebuffers"),this.triggerReady())}triggerReady(){this.ready()&&!this.triggeredReady_&&(this.triggeredReady_=!0,this.trigger("ready"))}addSourceBuffer(e,i){ti({type:"mediaSource",sourceUpdater:this,action:ei.addSourceBuffer(e,i),name:"addSourceBuffer"})}abort(e){ti({type:e,sourceUpdater:this,action:ei.abort(e),name:"abort"})}removeSourceBuffer(e){if(!this.canRemoveSourceBuffer()){F.log.error("removeSourceBuffer is not supported!");return}ti({type:"mediaSource",sourceUpdater:this,action:ei.removeSourceBuffer(e),name:"removeSourceBuffer"})}canRemoveSourceBuffer(){return!F.browser.IS_FIREFOX&&O.MediaSource&&O.MediaSource.prototype&&typeof O.MediaSource.prototype.removeSourceBuffer=="function"}static canChangeType(){return O.SourceBuffer&&O.SourceBuffer.prototype&&typeof O.SourceBuffer.prototype.changeType=="function"}canChangeType(){return this.constructor.canChangeType()}changeType(e,i){if(!this.canChangeType()){F.log.error("changeType is not supported!");return}ti({type:e,sourceUpdater:this,action:ei.changeType(i),name:"changeType"})}addOrChangeSourceBuffers(e){if(!e||typeof e!="object"||Object.keys(e).length===0)throw new Error("Cannot addOrChangeSourceBuffers to undefined codecs");Object.keys(e).forEach(i=>{const n=e[i];if(!this.hasCreatedSourceBuffers())return this.addSourceBuffer(i,n);this.canChangeType()&&this.changeType(i,n)})}appendBuffer(e,i){const{segmentInfo:n,type:r,bytes:s}=e;if(this.processedAppend_=!0,r==="audio"&&this.videoBuffer&&!this.videoAppendQueued_){this.delayedAudioAppendQueue_.push([e,i]),this.logger_(`delayed audio append of ${s.length} until video append`);return}const o=i;if(ti({type:r,sourceUpdater:this,action:ei.appendBuffer(s,n||{mediaIndex:-1},o),doneFn:i,name:"appendBuffer"}),r==="video"){if(this.videoAppendQueued_=!0,!this.delayedAudioAppendQueue_.length)return;const a=this.delayedAudioAppendQueue_.slice();this.logger_(`queuing delayed audio ${a.length} appendBuffers`),this.delayedAudioAppendQueue_.length=0,a.forEach(l=>{this.appendBuffer.apply(this,l)})}}audioBuffered(){return sn(this.mediaSource,this.audioBuffer)&&this.audioBuffer.buffered?this.audioBuffer.buffered:Et()}videoBuffered(){return sn(this.mediaSource,this.videoBuffer)&&this.videoBuffer.buffered?this.videoBuffer.buffered:Et()}buffered(){const e=sn(this.mediaSource,this.videoBuffer)?this.videoBuffer:null,i=sn(this.mediaSource,this.audioBuffer)?this.audioBuffer:null;return i&&!e?this.audioBuffered():e&&!i?this.videoBuffered():tM(this.audioBuffered(),this.videoBuffered())}setDuration(e,i=Pn){ti({type:"mediaSource",sourceUpdater:this,action:ei.duration(e),name:"duration",doneFn:i})}endOfStream(e=null,i=Pn){typeof e!="string"&&(e=void 0),ti({type:"mediaSource",sourceUpdater:this,action:ei.endOfStream(e),name:"endOfStream",doneFn:i})}removeAudio(e,i,n=Pn){if(!this.audioBuffered().length||this.audioBuffered().end(0)===0){n();return}ti({type:"audio",sourceUpdater:this,action:ei.remove(e,i),doneFn:n,name:"remove"})}removeVideo(e,i,n=Pn){if(!this.videoBuffered().length||this.videoBuffered().end(0)===0){n();return}ti({type:"video",sourceUpdater:this,action:ei.remove(e,i),doneFn:n,name:"remove"})}updating(){return!!(tg("audio",this)||tg("video",this))}audioTimestampOffset(e){return typeof e<"u"&&this.audioBuffer&&this.audioTimestampOffset_!==e&&(ti({type:"audio",sourceUpdater:this,action:ei.timestampOffset(e),name:"timestampOffset"}),this.audioTimestampOffset_=e),this.audioTimestampOffset_}videoTimestampOffset(e){return typeof e<"u"&&this.videoBuffer&&this.videoTimestampOffset!==e&&(ti({type:"video",sourceUpdater:this,action:ei.timestampOffset(e),name:"timestampOffset"}),this.videoTimestampOffset_=e),this.videoTimestampOffset_}audioQueueCallback(e){this.audioBuffer&&ti({type:"audio",sourceUpdater:this,action:ei.callback(e),name:"callback"})}videoQueueCallback(e){this.videoBuffer&&ti({type:"video",sourceUpdater:this,action:ei.callback(e),name:"callback"})}dispose(){this.trigger("dispose"),F6.forEach(e=>{this.abort(e),this.canRemoveSourceBuffer()?this.removeSourceBuffer(e):this[`${e}QueueCallback`](()=>JE(e,this))}),this.videoAppendQueued_=!1,this.delayedAudioAppendQueue_.length=0,this.sourceopenListener_&&this.mediaSource.removeEventListener("sourceopen",this.sourceopenListener_),this.off()}}const R2=t=>decodeURIComponent(escape(String.fromCharCode.apply(null,t))),M2=new Uint8Array(`

`.split("").map(t=>t.charCodeAt(0)));class U6 extends Error{constructor(){super("Trying to parse received VTT cues, but there is no WebVTT. Make sure vtt.js is loaded.")}}class $6 extends eg{constructor(e,i={}){super(e,i),this.mediaSource_=null,this.subtitlesTrack_=null,this.loaderType_="subtitle",this.featuresNativeTextTracks_=e.featuresNativeTextTracks,this.loadVttJs=e.loadVttJs,this.shouldSaveSegmentTimingInfo_=!1}createTransmuxer_(){return null}buffered_(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues||!this.subtitlesTrack_.cues.length)return Et();const e=this.subtitlesTrack_.cues,i=e[0].startTime,n=e[e.length-1].startTime;return Et([[i,n]])}initSegmentForMap(e,i=!1){if(!e)return null;const n=ld(e);let r=this.initSegments_[n];if(i&&!r&&e.bytes){const s=M2.byteLength+e.bytes.byteLength,o=new Uint8Array(s);o.set(e.bytes),o.set(M2,e.bytes.byteLength),this.initSegments_[n]=r={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:o}}return r||e}couldBeginLoading_(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()}init_(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}track(e){return typeof e>"u"?this.subtitlesTrack_:(this.subtitlesTrack_=e,this.state==="INIT"&&this.couldBeginLoading_()&&this.init_(),this.subtitlesTrack_)}remove(e,i){Aa(e,i,this.subtitlesTrack_)}fillBuffer_(){const e=this.chooseNextRequest_();if(e){if(this.syncController_.timestampOffsetForTimeline(e.timeline)===null){const i=()=>{this.state="READY",this.paused()||this.monitorBuffer_()};this.syncController_.one("timestampoffset",i),this.state="WAITING_ON_TIMELINE";return}this.loadSegment_(e)}}timestampOffsetForSegment_(){return null}chooseNextRequest_(){return this.skipEmptySegments_(super.chooseNextRequest_())}skipEmptySegments_(e){for(;e&&e.segment.empty;){if(e.mediaIndex+1>=e.playlist.segments.length){e=null;break}e=this.generateSegmentInfo_({playlist:e.playlist,mediaIndex:e.mediaIndex+1,startOfSegment:e.startOfSegment+e.duration,isSyncRequest:e.isSyncRequest})}return e}stopForError(e){this.error(e),this.state="READY",this.pause(),this.trigger("error")}segmentRequestFinished_(e,i,n){if(!this.subtitlesTrack_){this.state="READY";return}if(this.saveTransferStats_(i.stats),!this.pendingSegment_){this.state="READY",this.mediaRequestsAborted+=1;return}if(e){e.code===un.TIMEOUT&&this.handleTimeout_(),e.code===un.ABORTED?this.mediaRequestsAborted+=1:this.mediaRequestsErrored+=1,this.stopForError(e);return}const r=this.pendingSegment_;this.saveBandwidthRelatedStats_(r.duration,i.stats),i.key&&this.segmentKey(i.key,!0),this.state="APPENDING",this.trigger("appending");const s=r.segment;if(s.map&&(s.map.bytes=i.map.bytes),r.bytes=i.bytes,typeof O.WebVTT!="function"&&typeof this.loadVttJs=="function"){this.state="WAITING_ON_VTTJS",this.loadVttJs().then(()=>this.segmentRequestFinished_(e,i,n),()=>this.stopForError({message:"Error loading vtt.js"}));return}s.requested=!0;try{this.parseVTTCues_(r)}catch(o){this.stopForError({message:o.message});return}if(this.updateTimeMapping_(r,this.syncController_.timelines[r.timeline],this.playlist_),r.cues.length?r.timingInfo={start:r.cues[0].startTime,end:r.cues[r.cues.length-1].endTime}:r.timingInfo={start:r.startOfSegment,end:r.startOfSegment+r.duration},r.isSyncRequest){this.trigger("syncinfoupdate"),this.pendingSegment_=null,this.state="READY";return}r.byteLength=r.bytes.byteLength,this.mediaSecondsLoaded+=s.duration,r.cues.forEach(o=>{this.subtitlesTrack_.addCue(this.featuresNativeTextTracks_?new O.VTTCue(o.startTime,o.endTime,o.text):o)}),C6(this.subtitlesTrack_),this.handleAppendsDone_()}handleData_(){}updateTimingInfoEnd_(){}parseVTTCues_(e){let i,n=!1;if(typeof O.WebVTT!="function")throw new U6;typeof O.TextDecoder=="function"?i=new O.TextDecoder("utf8"):(i=O.WebVTT.StringDecoder(),n=!0);const r=new O.WebVTT.Parser(O,O.vttjs,i);if(e.cues=[],e.timestampmap={MPEGTS:0,LOCAL:0},r.oncue=e.cues.push.bind(e.cues),r.ontimestampmap=o=>{e.timestampmap=o},r.onparsingerror=o=>{F.log.warn("Error encountered when parsing cues: "+o.message)},e.segment.map){let o=e.segment.map.bytes;n&&(o=R2(o)),r.parse(o)}let s=e.bytes;n&&(s=R2(s)),r.parse(s),r.flush()}updateTimeMapping_(e,i,n){const r=e.segment;if(!i)return;if(!e.cues.length){r.empty=!0;return}const s=e.timestampmap,o=s.MPEGTS/Kc.ONE_SECOND_IN_TS-s.LOCAL+i.mapping;if(e.cues.forEach(a=>{a.startTime+=o,a.endTime+=o}),!n.syncInfo){const a=e.cues[0].startTime,l=e.cues[e.cues.length-1].startTime;n.syncInfo={mediaSequence:n.mediaSequence+e.mediaIndex,time:Math.min(a,l-r.duration)}}}}const z6=function(t,e){const i=t.cues;for(let n=0;n<i.length;n++){const r=i[n];if(e>=r.adStartTime&&e<=r.adEndTime)return r}return null},V6=function(t,e,i=0){if(!t.segments)return;let n=i,r;for(let s=0;s<t.segments.length;s++){const o=t.segments[s];if(r||(r=z6(e,n+o.duration/2)),r){if("cueIn"in o){r.endTime=n,r.adEndTime=n,n+=o.duration,r=null;continue}if(n<r.endTime){n+=o.duration;continue}r.endTime+=o.duration}else if("cueOut"in o&&(r=new O.VTTCue(n,n+o.duration,o.cueOut),r.adStartTime=n,r.adEndTime=n+parseFloat(o.cueOut),e.addCue(r)),"cueOutCont"in o){const[a,l]=o.cueOutCont.split("/").map(parseFloat);r=new O.VTTCue(n,n+o.duration,""),r.adStartTime=n-a,r.adEndTime=r.adStartTime+l,e.addCue(r)}n+=o.duration}},H6=86400,B2=[{name:"VOD",run:(t,e,i,n,r)=>i!==1/0?{time:0,segmentIndex:0,partIndex:null}:null},{name:"ProgramDateTime",run:(t,e,i,n,r)=>{if(!Object.keys(t.timelineToDatetimeMappings).length)return null;let s=null,o=null;const a=Wm(e);r=r||0;for(let l=0;l<a.length;l++){const u=e.endList||r===0?l:a.length-(l+1),d=a[u],p=d.segment,y=t.timelineToDatetimeMappings[p.timeline];if(!y||!p.dateTimeObject)continue;let v=p.dateTimeObject.getTime()/1e3+y;if(p.parts&&typeof d.partIndex=="number")for(let k=0;k<d.partIndex;k++)v+=p.parts[k].duration;const w=Math.abs(r-v);if(o!==null&&(w===0||o<w))break;o=w,s={time:v,segmentIndex:d.segmentIndex,partIndex:d.partIndex}}return s}},{name:"Segment",run:(t,e,i,n,r)=>{let s=null,o=null;r=r||0;const a=Wm(e);for(let l=0;l<a.length;l++){const u=e.endList||r===0?l:a.length-(l+1),d=a[u],p=d.segment,y=d.part&&d.part.start||p&&p.start;if(p.timeline===n&&typeof y<"u"){const T=Math.abs(r-y);if(o!==null&&o<T)break;(!s||o===null||o>=T)&&(o=T,s={time:y,segmentIndex:d.segmentIndex,partIndex:d.partIndex})}}return s}},{name:"Discontinuity",run:(t,e,i,n,r)=>{let s=null;if(r=r||0,e.discontinuityStarts&&e.discontinuityStarts.length){let o=null;for(let a=0;a<e.discontinuityStarts.length;a++){const l=e.discontinuityStarts[a],u=e.discontinuitySequence+a+1,d=t.discontinuities[u];if(d){const p=Math.abs(r-d.time);if(o!==null&&o<p)break;(!s||o===null||o>=p)&&(o=p,s={time:d.time,segmentIndex:l,partIndex:null})}}}return s}},{name:"Playlist",run:(t,e,i,n,r)=>e.syncInfo?{time:e.syncInfo.time,segmentIndex:e.syncInfo.mediaSequence-e.mediaSequence,partIndex:null}:null}];class q6 extends F.EventTarget{constructor(e={}){super(),this.timelines=[],this.discontinuities=[],this.timelineToDatetimeMappings={},this.logger_=Ji("SyncController")}getSyncPoint(e,i,n,r){const s=this.runStrategies_(e,i,n,r);return s.length?this.selectSyncPoint_(s,{key:"time",value:r}):null}getExpiredTime(e,i){if(!e||!e.segments)return null;const n=this.runStrategies_(e,i,e.discontinuitySequence,0);if(!n.length)return null;const r=this.selectSyncPoint_(n,{key:"segmentIndex",value:0});return r.segmentIndex>0&&(r.time*=-1),Math.abs(r.time+Ha({defaultDuration:e.targetDuration,durationList:e.segments,startIndex:r.segmentIndex,endIndex:0}))}runStrategies_(e,i,n,r){const s=[];for(let o=0;o<B2.length;o++){const a=B2[o],l=a.run(this,e,i,n,r);l&&(l.strategy=a.name,s.push({strategy:a.name,syncPoint:l}))}return s}selectSyncPoint_(e,i){let n=e[0].syncPoint,r=Math.abs(e[0].syncPoint[i.key]-i.value),s=e[0].strategy;for(let o=1;o<e.length;o++){const a=Math.abs(e[o].syncPoint[i.key]-i.value);a<r&&(r=a,n=e[o].syncPoint,s=e[o].strategy)}return this.logger_(`syncPoint for [${i.key}: ${i.value}] chosen with strategy [${s}]: [time:${n.time}, segmentIndex:${n.segmentIndex}`+(typeof n.partIndex=="number"?`,partIndex:${n.partIndex}`:"")+"]"),n}saveExpiredSegmentInfo(e,i){const n=i.mediaSequence-e.mediaSequence;if(n>H6){F.log.warn(`Not saving expired segment info. Media sequence gap ${n} is too large.`);return}for(let r=n-1;r>=0;r--){const s=e.segments[r];if(s&&typeof s.start<"u"){i.syncInfo={mediaSequence:e.mediaSequence+r,time:s.start},this.logger_(`playlist refresh sync: [time:${i.syncInfo.time}, mediaSequence: ${i.syncInfo.mediaSequence}]`),this.trigger("syncinfoupdate");break}}}setDateTimeMappingForStart(e){if(this.timelineToDatetimeMappings={},e.segments&&e.segments.length&&e.segments[0].dateTimeObject){const i=e.segments[0],n=i.dateTimeObject.getTime()/1e3;this.timelineToDatetimeMappings[i.timeline]=-n}}saveSegmentTimingInfo({segmentInfo:e,shouldSaveTimelineMapping:i}){const n=this.calculateSegmentTimeMapping_(e,e.timingInfo,i),r=e.segment;n&&(this.saveDiscontinuitySyncInfo_(e),e.playlist.syncInfo||(e.playlist.syncInfo={mediaSequence:e.playlist.mediaSequence+e.mediaIndex,time:r.start}));const s=r.dateTimeObject;r.discontinuity&&i&&s&&(this.timelineToDatetimeMappings[r.timeline]=-(s.getTime()/1e3))}timestampOffsetForTimeline(e){return typeof this.timelines[e]>"u"?null:this.timelines[e].time}mappingForTimeline(e){return typeof this.timelines[e]>"u"?null:this.timelines[e].mapping}calculateSegmentTimeMapping_(e,i,n){const r=e.segment,s=e.part;let o=this.timelines[e.timeline],a,l;if(typeof e.timestampOffset=="number")o={time:e.startOfSegment,mapping:e.startOfSegment-i.start},n&&(this.timelines[e.timeline]=o,this.trigger("timestampoffset"),this.logger_(`time mapping for timeline ${e.timeline}: [time: ${o.time}] [mapping: ${o.mapping}]`)),a=e.startOfSegment,l=i.end+o.mapping;else if(o)a=i.start+o.mapping,l=i.end+o.mapping;else return!1;return s&&(s.start=a,s.end=l),(!r.start||a<r.start)&&(r.start=a),r.end=l,!0}saveDiscontinuitySyncInfo_(e){const i=e.playlist,n=e.segment;if(n.discontinuity)this.discontinuities[n.timeline]={time:n.start,accuracy:0};else if(i.discontinuityStarts&&i.discontinuityStarts.length)for(let r=0;r<i.discontinuityStarts.length;r++){const s=i.discontinuityStarts[r],o=i.discontinuitySequence+r+1,a=s-e.mediaIndex,l=Math.abs(a);if(!this.discontinuities[o]||this.discontinuities[o].accuracy>l){let u;a<0?u=n.start-Ha({defaultDuration:i.targetDuration,durationList:i.segments,startIndex:e.mediaIndex,endIndex:s}):u=n.end+Ha({defaultDuration:i.targetDuration,durationList:i.segments,startIndex:e.mediaIndex+1,endIndex:s}),this.discontinuities[o]={time:u,accuracy:l}}}}dispose(){this.trigger("dispose"),this.off()}}class W6 extends F.EventTarget{constructor(){super(),this.pendingTimelineChanges_={},this.lastTimelineChanges_={}}clearPendingTimelineChange(e){this.pendingTimelineChanges_[e]=null,this.trigger("pendingtimelinechange")}pendingTimelineChange({type:e,from:i,to:n}){return typeof i=="number"&&typeof n=="number"&&(this.pendingTimelineChanges_[e]={type:e,from:i,to:n},this.trigger("pendingtimelinechange")),this.pendingTimelineChanges_[e]}lastTimelineChange({type:e,from:i,to:n}){return typeof i=="number"&&typeof n=="number"&&(this.lastTimelineChanges_[e]={type:e,from:i,to:n},delete this.pendingTimelineChanges_[e],this.trigger("timelinechange")),this.lastTimelineChanges_[e]}dispose(){this.trigger("dispose"),this.pendingTimelineChanges_={},this.lastTimelineChanges_={},this.off()}}const G6=jE(UE(function(){var t=function(){function w(){this.listeners={}}var k=w.prototype;return k.on=function(b,S){this.listeners[b]||(this.listeners[b]=[]),this.listeners[b].push(S)},k.off=function(b,S){if(!this.listeners[b])return!1;var E=this.listeners[b].indexOf(S);return this.listeners[b]=this.listeners[b].slice(0),this.listeners[b].splice(E,1),E>-1},k.trigger=function(b){var S=this.listeners[b];if(S)if(arguments.length===2)for(var E=S.length,A=0;A<E;++A)S[A].call(this,arguments[1]);else for(var N=Array.prototype.slice.call(arguments,1),M=S.length,U=0;U<M;++U)S[U].apply(this,N)},k.dispose=function(){this.listeners={}},k.pipe=function(b){this.on("data",function(S){b.push(S)})},w}();/*! @name pkcs7 @version 1.0.4 @license Apache-2.0 */function e(w){return w.subarray(0,w.byteLength-w[w.byteLength-1])}/*! @name aes-decrypter @version 4.0.1 @license Apache-2.0 */const i=function(){const w=[[[],[],[],[],[]],[[],[],[],[],[]]],k=w[0],x=w[1],b=k[4],S=x[4];let E,A,N;const M=[],U=[];let H,j,Q,ie,q,oe;for(E=0;E<256;E++)U[(M[E]=E<<1^(E>>7)*283)^E]=E;for(A=N=0;!b[A];A^=H||1,N=U[N]||1)for(ie=N^N<<1^N<<2^N<<3^N<<4,ie=ie>>8^ie&255^99,b[A]=ie,S[ie]=A,Q=M[j=M[H=M[A]]],oe=Q*16843009^j*65537^H*257^A*16843008,q=M[ie]*257^ie*16843008,E=0;E<4;E++)k[E][A]=q=q<<24^q>>>8,x[E][ie]=oe=oe<<24^oe>>>8;for(E=0;E<5;E++)k[E]=k[E].slice(0),x[E]=x[E].slice(0);return w};let n=null;class r{constructor(k){n||(n=i()),this._tables=[[n[0][0].slice(),n[0][1].slice(),n[0][2].slice(),n[0][3].slice(),n[0][4].slice()],[n[1][0].slice(),n[1][1].slice(),n[1][2].slice(),n[1][3].slice(),n[1][4].slice()]];let x,b,S;const E=this._tables[0][4],A=this._tables[1],N=k.length;let M=1;if(N!==4&&N!==6&&N!==8)throw new Error("Invalid aes key size");const U=k.slice(0),H=[];for(this._key=[U,H],x=N;x<4*N+28;x++)S=U[x-1],(x%N===0||N===8&&x%N===4)&&(S=E[S>>>24]<<24^E[S>>16&255]<<16^E[S>>8&255]<<8^E[S&255],x%N===0&&(S=S<<8^S>>>24^M<<24,M=M<<1^(M>>7)*283)),U[x]=U[x-N]^S;for(b=0;x;b++,x--)S=U[b&3?x:x-4],x<=4||b<4?H[b]=S:H[b]=A[0][E[S>>>24]]^A[1][E[S>>16&255]]^A[2][E[S>>8&255]]^A[3][E[S&255]]}decrypt(k,x,b,S,E,A){const N=this._key[1];let M=k^N[0],U=S^N[1],H=b^N[2],j=x^N[3],Q,ie,q;const oe=N.length/4-2;let ae,Z=4;const ee=this._tables[1],W=ee[0],te=ee[1],ue=ee[2],we=ee[3],De=ee[4];for(ae=0;ae<oe;ae++)Q=W[M>>>24]^te[U>>16&255]^ue[H>>8&255]^we[j&255]^N[Z],ie=W[U>>>24]^te[H>>16&255]^ue[j>>8&255]^we[M&255]^N[Z+1],q=W[H>>>24]^te[j>>16&255]^ue[M>>8&255]^we[U&255]^N[Z+2],j=W[j>>>24]^te[M>>16&255]^ue[U>>8&255]^we[H&255]^N[Z+3],Z+=4,M=Q,U=ie,H=q;for(ae=0;ae<4;ae++)E[(3&-ae)+A]=De[M>>>24]<<24^De[U>>16&255]<<16^De[H>>8&255]<<8^De[j&255]^N[Z++],Q=M,M=U,U=H,H=j,j=Q}}class s extends t{constructor(){super(t),this.jobs=[],this.delay=1,this.timeout_=null}processJob_(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null}push(k){this.jobs.push(k),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))}}const o=function(w){return w<<24|(w&65280)<<8|(w&16711680)>>8|w>>>24},a=function(w,k,x){const b=new Int32Array(w.buffer,w.byteOffset,w.byteLength>>2),S=new r(Array.prototype.slice.call(k)),E=new Uint8Array(w.byteLength),A=new Int32Array(E.buffer);let N,M,U,H,j,Q,ie,q,oe;for(N=x[0],M=x[1],U=x[2],H=x[3],oe=0;oe<b.length;oe+=4)j=o(b[oe]),Q=o(b[oe+1]),ie=o(b[oe+2]),q=o(b[oe+3]),S.decrypt(j,Q,ie,q,A,oe),A[oe]=o(A[oe]^N),A[oe+1]=o(A[oe+1]^M),A[oe+2]=o(A[oe+2]^U),A[oe+3]=o(A[oe+3]^H),N=j,M=Q,U=ie,H=q;return E};class l{constructor(k,x,b,S){const E=l.STEP,A=new Int32Array(k.buffer),N=new Uint8Array(k.byteLength);let M=0;for(this.asyncStream_=new s,this.asyncStream_.push(this.decryptChunk_(A.subarray(M,M+E),x,b,N)),M=E;M<A.length;M+=E)b=new Uint32Array([o(A[M-4]),o(A[M-3]),o(A[M-2]),o(A[M-1])]),this.asyncStream_.push(this.decryptChunk_(A.subarray(M,M+E),x,b,N));this.asyncStream_.push(function(){S(null,e(N))})}static get STEP(){return 32e3}decryptChunk_(k,x,b,S){return function(){const E=a(k,x,b);S.set(E,k.byteOffset)}}}var u=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},d;typeof window<"u"?d=window:typeof u<"u"?d=u:typeof self<"u"?d=self:d={};var p=d,y=function(k){return ArrayBuffer.isView==="function"?ArrayBuffer.isView(k):k&&k.buffer instanceof ArrayBuffer},T=p.BigInt||Number;T("0x1"),T("0x100"),T("0x10000"),T("0x1000000"),T("0x100000000"),T("0x10000000000"),T("0x1000000000000"),T("0x100000000000000"),T("0x10000000000000000"),function(){var w=new Uint16Array([65484]),k=new Uint8Array(w.buffer,w.byteOffset,w.byteLength);return k[0]===255?"big":k[0]===204?"little":"unknown"}();const v=function(w){const k={};return Object.keys(w).forEach(x=>{const b=w[x];y(b)?k[x]={bytes:b.buffer,byteOffset:b.byteOffset,byteLength:b.byteLength}:k[x]=b}),k};self.onmessage=function(w){const k=w.data,x=new Uint8Array(k.encrypted.bytes,k.encrypted.byteOffset,k.encrypted.byteLength),b=new Uint32Array(k.key.bytes,k.key.byteOffset,k.key.byteLength/4),S=new Uint32Array(k.iv.bytes,k.iv.byteOffset,k.iv.byteLength/4);new l(x,b,S,function(E,A){self.postMessage(v({source:k.source,decrypted:A}),[A.buffer])})}}));var X6=FE(G6);const K6=t=>{let e=t.default?"main":"alternative";return t.characteristics&&t.characteristics.indexOf("public.accessibility.describes-video")>=0&&(e="main-desc"),e},dd=(t,e)=>{t.abort(),t.pause(),e&&e.activePlaylistLoader&&(e.activePlaylistLoader.pause(),e.activePlaylistLoader=null)},ig=(t,e)=>{e.activePlaylistLoader=t,t.load()},Y6=(t,e)=>()=>{const{segmentLoaders:{[t]:i,main:n},mediaTypes:{[t]:r}}=e,s=r.activeTrack(),o=r.getActiveGroup(),a=r.activePlaylistLoader,l=r.lastGroup_;if(!(o&&l&&o.id===l.id)&&(r.lastGroup_=o,r.lastTrack_=s,dd(i,r),!(!o||o.isMainPlaylist))){if(!o.playlistLoader){a&&n.resetEverything();return}i.resyncLoader(),ig(o.playlistLoader,r)}},Q6=(t,e)=>()=>{const{segmentLoaders:{[t]:i},mediaTypes:{[t]:n}}=e;n.lastGroup_=null,i.abort(),i.pause()},J6=(t,e)=>()=>{const{mainPlaylistLoader:i,segmentLoaders:{[t]:n,main:r},mediaTypes:{[t]:s}}=e,o=s.activeTrack(),a=s.getActiveGroup(),l=s.activePlaylistLoader,u=s.lastTrack_;if(!(u&&o&&u.id===o.id)&&(s.lastGroup_=a,s.lastTrack_=o,dd(n,s),!!a)){if(a.isMainPlaylist){if(!o||!u||o.id===u.id)return;const d=e.vhs.playlistController_,p=d.selectPlaylist();if(d.media()===p)return;s.logger_(`track change. Switching main audio from ${u.id} to ${o.id}`),i.pause(),r.resetEverything(),d.fastQualityChange_(p);return}if(t==="AUDIO"){if(!a.playlistLoader){r.setAudio(!0),r.resetEverything();return}n.setAudio(!0),r.setAudio(!1)}if(l===a.playlistLoader){ig(a.playlistLoader,s);return}n.track&&n.track(o),n.resetEverything(),ig(a.playlistLoader,s)}},hd={AUDIO:(t,e)=>()=>{const{segmentLoaders:{[t]:i},mediaTypes:{[t]:n},excludePlaylist:r}=e;dd(i,n);const s=n.activeTrack(),o=n.activeGroup(),a=(o.filter(u=>u.default)[0]||o[0]).id,l=n.tracks[a];if(s===l){r({error:{message:"Problem encountered loading the default audio track."}});return}F.log.warn("Problem encountered loading the alternate audio track.Switching back to default.");for(const u in n.tracks)n.tracks[u].enabled=n.tracks[u]===l;n.onTrackChanged()},SUBTITLES:(t,e)=>()=>{const{segmentLoaders:{[t]:i},mediaTypes:{[t]:n}}=e;F.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track."),dd(i,n);const r=n.activeTrack();r&&(r.mode="disabled"),n.onTrackChanged()}},F2={AUDIO:(t,e,i)=>{if(!e)return;const{tech:n,requestOptions:r,segmentLoaders:{[t]:s}}=i;e.on("loadedmetadata",()=>{const o=e.media();s.playlist(o,r),(!n.paused()||o.endList&&n.preload()!=="none")&&s.load()}),e.on("loadedplaylist",()=>{s.playlist(e.media(),r),n.paused()||s.load()}),e.on("error",hd[t](t,i))},SUBTITLES:(t,e,i)=>{const{tech:n,requestOptions:r,segmentLoaders:{[t]:s},mediaTypes:{[t]:o}}=i;e.on("loadedmetadata",()=>{const a=e.media();s.playlist(a,r),s.track(o.activeTrack()),(!n.paused()||a.endList&&n.preload()!=="none")&&s.load()}),e.on("loadedplaylist",()=>{s.playlist(e.media(),r),n.paused()||s.load()}),e.on("error",hd[t](t,i))}},Z6={AUDIO:(t,e)=>{const{vhs:i,sourceType:n,segmentLoaders:{[t]:r},requestOptions:s,main:{mediaGroups:o},mediaTypes:{[t]:{groups:a,tracks:l,logger_:u}},mainPlaylistLoader:d}=e,p=Ul(d.main);(!o[t]||Object.keys(o[t]).length===0)&&(o[t]={main:{default:{default:!0}}},p&&(o[t].main.default.playlists=d.main.playlists));for(const y in o[t]){a[y]||(a[y]=[]);for(const T in o[t][y]){let v=o[t][y][T],w;if(p?(u(`AUDIO group '${y}' label '${T}' is a main playlist`),v.isMainPlaylist=!0,w=null):n==="vhs-json"&&v.playlists?w=new zs(v.playlists[0],i,s):v.resolvedUri?w=new zs(v.resolvedUri,i,s):v.playlists&&n==="dash"?w=new Jm(v.playlists[0],i,s,d):w=null,v=Ae({id:T,playlistLoader:w},v),F2[t](t,v.playlistLoader,e),a[y].push(v),typeof l[T]>"u"){const k=new F.AudioTrack({id:T,kind:K6(v),enabled:!1,language:v.language,default:v.default,label:T});l[T]=k}}}r.on("error",hd[t](t,e))},SUBTITLES:(t,e)=>{const{tech:i,vhs:n,sourceType:r,segmentLoaders:{[t]:s},requestOptions:o,main:{mediaGroups:a},mediaTypes:{[t]:{groups:l,tracks:u}},mainPlaylistLoader:d}=e;for(const p in a[t]){l[p]||(l[p]=[]);for(const y in a[t][p]){if(!n.options_.useForcedSubtitles&&a[t][p][y].forced)continue;let T=a[t][p][y],v;if(r==="hls")v=new zs(T.resolvedUri,n,o);else if(r==="dash"){if(!T.playlists.filter(k=>k.excludeUntil!==1/0).length)return;v=new Jm(T.playlists[0],n,o,d)}else r==="vhs-json"&&(v=new zs(T.playlists?T.playlists[0]:T.resolvedUri,n,o));if(T=Ae({id:y,playlistLoader:v},T),F2[t](t,T.playlistLoader,e),l[p].push(T),typeof u[y]>"u"){const w=i.addRemoteTextTrack({id:y,kind:"subtitles",default:T.default&&T.autoselect,language:T.language,label:y},!1).track;u[y]=w}}}s.on("error",hd[t](t,e))},"CLOSED-CAPTIONS":(t,e)=>{const{tech:i,main:{mediaGroups:n},mediaTypes:{[t]:{groups:r,tracks:s}}}=e;for(const o in n[t]){r[o]||(r[o]=[]);for(const a in n[t][o]){const l=n[t][o][a];if(!/^(?:CC|SERVICE)/.test(l.instreamId))continue;const u=i.options_.vhs&&i.options_.vhs.captionServices||{};let d={label:a,language:l.language,instreamId:l.instreamId,default:l.default&&l.autoselect};if(u[d.instreamId]&&(d=Ae(d,u[d.instreamId])),d.default===void 0&&delete d.default,r[o].push(Ae({id:a},l)),typeof s[a]>"u"){const p=i.addRemoteTextTrack({id:d.instreamId,kind:"captions",default:d.default,language:d.language,label:d.label},!1).track;s[a]=p}}}}},eC=(t,e)=>{for(let i=0;i<t.length;i++)if(dy(e,t[i])||t[i].playlists&&eC(t[i].playlists,e))return!0;return!1},eB=(t,e)=>i=>{const{mainPlaylistLoader:n,mediaTypes:{[t]:{groups:r}}}=e,s=n.media();if(!s)return null;let o=null;s.attributes[t]&&(o=r[s.attributes[t]]);const a=Object.keys(r);if(!o)if(t==="AUDIO"&&a.length>1&&Ul(e.main))for(let l=0;l<a.length;l++){const u=r[a[l]];if(eC(u,s)){o=u;break}}else r.main?o=r.main:a.length===1&&(o=r[a[0]]);return typeof i>"u"?o:i===null||!o?null:o.filter(l=>l.id===i.id)[0]||null},tB={AUDIO:(t,e)=>()=>{const{mediaTypes:{[t]:{tracks:i}}}=e;for(const n in i)if(i[n].enabled)return i[n];return null},SUBTITLES:(t,e)=>()=>{const{mediaTypes:{[t]:{tracks:i}}}=e;for(const n in i)if(i[n].mode==="showing"||i[n].mode==="hidden")return i[n];return null}},iB=(t,{mediaTypes:e})=>()=>{const i=e[t].activeTrack();return i?e[t].activeGroup(i):null},nB=t=>{["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(u=>{Z6[u](u,t)});const{mediaTypes:e,mainPlaylistLoader:i,tech:n,vhs:r,segmentLoaders:{["AUDIO"]:s,main:o}}=t;["AUDIO","SUBTITLES"].forEach(u=>{e[u].activeGroup=eB(u,t),e[u].activeTrack=tB[u](u,t),e[u].onGroupChanged=Y6(u,t),e[u].onGroupChanging=Q6(u,t),e[u].onTrackChanged=J6(u,t),e[u].getActiveGroup=iB(u,t)});const a=e.AUDIO.activeGroup();if(a){const u=(a.filter(p=>p.default)[0]||a[0]).id;e.AUDIO.tracks[u].enabled=!0,e.AUDIO.onGroupChanged(),e.AUDIO.onTrackChanged(),e.AUDIO.getActiveGroup().playlistLoader?(o.setAudio(!1),s.setAudio(!0)):o.setAudio(!0)}i.on("mediachange",()=>{["AUDIO","SUBTITLES"].forEach(u=>e[u].onGroupChanged())}),i.on("mediachanging",()=>{["AUDIO","SUBTITLES"].forEach(u=>e[u].onGroupChanging())});const l=()=>{e.AUDIO.onTrackChanged(),n.trigger({type:"usage",name:"vhs-audio-change"})};n.audioTracks().addEventListener("change",l),n.remoteTextTracks().addEventListener("change",e.SUBTITLES.onTrackChanged),r.on("dispose",()=>{n.audioTracks().removeEventListener("change",l),n.remoteTextTracks().removeEventListener("change",e.SUBTITLES.onTrackChanged)}),n.clearTracks("audio");for(const u in e.AUDIO.tracks)n.audioTracks().addTrack(e.AUDIO.tracks[u])},rB=()=>{const t={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(e=>{t[e]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:Pn,activeTrack:Pn,getActiveGroup:Pn,onGroupChanged:Pn,onTrackChanged:Pn,lastTrack_:null,logger_:Ji(`MediaGroups[${e}]`)}}),t},sB=10;let Cn;const oB=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred","mediaAppends"],aB=function(t){return this.audioSegmentLoader_[t]+this.mainSegmentLoader_[t]},lB=function({currentPlaylist:t,buffered:e,currentTime:i,nextPlaylist:n,bufferLowWaterLine:r,bufferHighWaterLine:s,duration:o,bufferBasedABR:a,log:l}){if(!n)return F.log.warn("We received no playlist to switch to. Please check your stream."),!1;const u=`allowing switch ${t&&t.id||"null"} -> ${n.id}`;if(!t)return l(`${u} as current playlist is not set`),!0;if(n.id===t.id)return!1;const d=!!$s(e,i).length;if(!t.endList)return!d&&typeof t.partTargetDuration=="number"?(l(`not ${u} as current playlist is live llhls, but currentTime isn't in buffered.`),!1):(l(`${u} as current playlist is live`),!0);const p=ly(e,i),y=a?ut.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:ut.MAX_BUFFER_LOW_WATER_LINE;if(o<y)return l(`${u} as duration < max low water line (${o} < ${y})`),!0;const T=n.attributes.BANDWIDTH,v=t.attributes.BANDWIDTH;if(T<v&&(!a||p<s)){let w=`${u} as next bandwidth < current bandwidth (${T} < ${v})`;return a&&(w+=` and forwardBuffer < bufferHighWaterLine (${p} < ${s})`),l(w),!0}if((!a||T>v)&&p>=r){let w=`${u} as forwardBuffer >= bufferLowWaterLine (${p} >= ${r})`;return a&&(w+=` and next bandwidth > current bandwidth (${T} > ${v})`),l(w),!0}return l(`not ${u} as no switching criteria met`),!1};class uB extends F.EventTarget{constructor(e){super();const{src:i,withCredentials:n,tech:r,bandwidth:s,externVhs:o,useCueTags:a,playlistExclusionDuration:l,enableLowInitialPlaylist:u,sourceType:d,cacheEncryptionKeys:p,bufferBasedABR:y,leastPixelDiffSelector:T,captionServices:v}=e;if(!i)throw new Error("A non-empty playlist URL or JSON manifest string is required");let{maxPlaylistRetries:w}=e;(w===null||typeof w>"u")&&(w=1/0),Cn=o,this.bufferBasedABR=!!y,this.leastPixelDiffSelector=!!T,this.withCredentials=n,this.tech_=r,this.vhs_=r.vhs,this.sourceType_=d,this.useCueTags_=a,this.playlistExclusionDuration=l,this.maxPlaylistRetries=w,this.enableLowInitialPlaylist=u,this.useCueTags_&&(this.cueTagsTrack_=this.tech_.addTextTrack("metadata","ad-cues"),this.cueTagsTrack_.inBandMetadataTrackDispatchType=""),this.requestOptions_={withCredentials:n,maxPlaylistRetries:w,timeout:null},this.on("error",this.pauseLoading),this.mediaTypes_=rB(),this.mediaSource=new O.MediaSource,this.handleDurationChange_=this.handleDurationChange_.bind(this),this.handleSourceOpen_=this.handleSourceOpen_.bind(this),this.handleSourceEnded_=this.handleSourceEnded_.bind(this),this.mediaSource.addEventListener("durationchange",this.handleDurationChange_),this.mediaSource.addEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.addEventListener("sourceended",this.handleSourceEnded_),this.seekable_=Et(),this.hasPlayed_=!1,this.syncController_=new q6(e),this.segmentMetadataTrack_=r.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,this.decrypter_=new X6,this.sourceUpdater_=new ZE(this.mediaSource),this.inbandTextTracks_={},this.timelineChangeController_=new W6;const k={vhs:this.vhs_,parse708captions:e.parse708captions,useDtsForTimestampOffset:e.useDtsForTimestampOffset,captionServices:v,mediaSource:this.mediaSource,currentTime:this.tech_.currentTime.bind(this.tech_),seekable:()=>this.seekable(),seeking:()=>this.tech_.seeking(),duration:()=>this.duration(),hasPlayed:()=>this.hasPlayed_,goalBufferLength:()=>this.goalBufferLength(),bandwidth:s,syncController:this.syncController_,decrypter:this.decrypter_,sourceType:this.sourceType_,inbandTextTracks:this.inbandTextTracks_,cacheEncryptionKeys:p,sourceUpdater:this.sourceUpdater_,timelineChangeController:this.timelineChangeController_,exactManifestTimings:e.exactManifestTimings,addMetadataToTextTrack:this.addMetadataToTextTrack.bind(this)};this.mainPlaylistLoader_=this.sourceType_==="dash"?new Jm(i,this.vhs_,Ae(this.requestOptions_,{addMetadataToTextTrack:this.addMetadataToTextTrack.bind(this)})):new zs(i,this.vhs_,Ae(this.requestOptions_,{addDateRangesToTextTrack:this.addDateRangesToTextTrack_.bind(this)})),this.setupMainPlaylistLoaderListeners_(),this.mainSegmentLoader_=new eg(Ae(k,{segmentMetadataTrack:this.segmentMetadataTrack_,loaderType:"main"}),e),this.audioSegmentLoader_=new eg(Ae(k,{loaderType:"audio"}),e),this.subtitleSegmentLoader_=new $6(Ae(k,{loaderType:"vtt",featuresNativeTextTracks:this.tech_.featuresNativeTextTracks,loadVttJs:()=>new Promise((b,S)=>{function E(){r.off("vttjserror",A),b()}function A(){r.off("vttjsloaded",E),S()}r.one("vttjsloaded",E),r.one("vttjserror",A),r.addWebVttScript_()})}),e),this.setupSegmentLoaderListeners_(),this.bufferBasedABR&&(this.mainPlaylistLoader_.one("loadedplaylist",()=>this.startABRTimer_()),this.tech_.on("pause",()=>this.stopABRTimer_()),this.tech_.on("play",()=>this.startABRTimer_())),oB.forEach(b=>{this[b+"_"]=aB.bind(this,b)}),this.logger_=Ji("pc"),this.triggeredFmp4Usage=!1,this.tech_.preload()==="none"?(this.loadOnPlay_=()=>{this.loadOnPlay_=null,this.mainPlaylistLoader_.load()},this.tech_.one("play",this.loadOnPlay_)):this.mainPlaylistLoader_.load(),this.timeToLoadedData__=-1,this.mainAppendsToLoadedData__=-1,this.audioAppendsToLoadedData__=-1;const x=this.tech_.preload()==="none"?"play":"loadstart";this.tech_.one(x,()=>{const b=Date.now();this.tech_.one("loadeddata",()=>{this.timeToLoadedData__=Date.now()-b,this.mainAppendsToLoadedData__=this.mainSegmentLoader_.mediaAppends,this.audioAppendsToLoadedData__=this.audioSegmentLoader_.mediaAppends})})}mainAppendsToLoadedData_(){return this.mainAppendsToLoadedData__}audioAppendsToLoadedData_(){return this.audioAppendsToLoadedData__}appendsToLoadedData_(){const e=this.mainAppendsToLoadedData_(),i=this.audioAppendsToLoadedData_();return e===-1||i===-1?-1:e+i}timeToLoadedData_(){return this.timeToLoadedData__}checkABR_(e="abr"){const i=this.selectPlaylist();i&&this.shouldSwitchToMedia_(i)&&this.switchMedia_(i,e)}switchMedia_(e,i,n){const r=this.media(),s=r&&(r.id||r.uri),o=e.id||e.uri;s&&s!==o&&(this.logger_(`switch media ${s} -> ${o} from ${i}`),this.tech_.trigger({type:"usage",name:`vhs-rendition-change-${i}`})),this.mainPlaylistLoader_.media(e,n)}startABRTimer_(){this.stopABRTimer_(),this.abrTimer_=O.setInterval(()=>this.checkABR_(),250)}stopABRTimer_(){this.tech_.scrubbing&&this.tech_.scrubbing()||(O.clearInterval(this.abrTimer_),this.abrTimer_=null)}getAudioTrackPlaylists_(){const e=this.main(),i=e&&e.playlists||[];if(!e||!e.mediaGroups||!e.mediaGroups.AUDIO)return i;const n=e.mediaGroups.AUDIO,r=Object.keys(n);let s;if(Object.keys(this.mediaTypes_.AUDIO.groups).length)s=this.mediaTypes_.AUDIO.activeTrack();else{const a=n.main||r.length&&n[r[0]];for(const l in a)if(a[l].default){s={label:l};break}}if(!s)return i;const o=[];for(const a in n)if(n[a][s.label]){const l=n[a][s.label];if(l.playlists&&l.playlists.length)o.push.apply(o,l.playlists);else if(l.uri)o.push(l);else if(e.playlists.length)for(let u=0;u<e.playlists.length;u++){const d=e.playlists[u];d.attributes&&d.attributes.AUDIO&&d.attributes.AUDIO===a&&o.push(d)}}return o.length?o:i}setupMainPlaylistLoaderListeners_(){this.mainPlaylistLoader_.on("loadedmetadata",()=>{const e=this.mainPlaylistLoader_.media(),i=e.targetDuration*1.5*1e3;Gm(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.media())?this.requestOptions_.timeout=0:this.requestOptions_.timeout=i,e.endList&&this.tech_.preload()!=="none"&&(this.mainSegmentLoader_.playlist(e,this.requestOptions_),this.mainSegmentLoader_.load()),nB({sourceType:this.sourceType_,segmentLoaders:{AUDIO:this.audioSegmentLoader_,SUBTITLES:this.subtitleSegmentLoader_,main:this.mainSegmentLoader_},tech:this.tech_,requestOptions:this.requestOptions_,mainPlaylistLoader:this.mainPlaylistLoader_,vhs:this.vhs_,main:this.main(),mediaTypes:this.mediaTypes_,excludePlaylist:this.excludePlaylist.bind(this)}),this.triggerPresenceUsage_(this.main(),e),this.setupFirstPlay(),!this.mediaTypes_.AUDIO.activePlaylistLoader||this.mediaTypes_.AUDIO.activePlaylistLoader.media()?this.trigger("selectedinitialmedia"):this.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",()=>{this.trigger("selectedinitialmedia")})}),this.mainPlaylistLoader_.on("loadedplaylist",()=>{this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_);let e=this.mainPlaylistLoader_.media();if(!e){this.excludeUnsupportedVariants_();let i;if(this.enableLowInitialPlaylist&&(i=this.selectInitialPlaylist()),i||(i=this.selectPlaylist()),!i||!this.shouldSwitchToMedia_(i)||(this.initialMedia_=i,this.switchMedia_(this.initialMedia_,"initial"),!(this.sourceType_==="vhs-json"&&this.initialMedia_.segments)))return;e=this.initialMedia_}this.handleUpdatedMediaPlaylist(e)}),this.mainPlaylistLoader_.on("error",()=>{const e=this.mainPlaylistLoader_.error;this.excludePlaylist({playlistToExclude:e.playlist,error:e})}),this.mainPlaylistLoader_.on("mediachanging",()=>{this.mainSegmentLoader_.abort(),this.mainSegmentLoader_.pause()}),this.mainPlaylistLoader_.on("mediachange",()=>{const e=this.mainPlaylistLoader_.media(),i=e.targetDuration*1.5*1e3;Gm(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.media())?this.requestOptions_.timeout=0:this.requestOptions_.timeout=i,this.mainPlaylistLoader_.load(),this.mainSegmentLoader_.playlist(e,this.requestOptions_),this.mainSegmentLoader_.load(),this.tech_.trigger({type:"mediachange",bubbles:!0})}),this.mainPlaylistLoader_.on("playlistunchanged",()=>{const e=this.mainPlaylistLoader_.media();if(e.lastExcludeReason_==="playlist-unchanged")return;this.stuckAtPlaylistEnd_(e)&&(this.excludePlaylist({error:{message:"Playlist no longer updating.",reason:"playlist-unchanged"}}),this.tech_.trigger("playliststuck"))}),this.mainPlaylistLoader_.on("renditiondisabled",()=>{this.tech_.trigger({type:"usage",name:"vhs-rendition-disabled"})}),this.mainPlaylistLoader_.on("renditionenabled",()=>{this.tech_.trigger({type:"usage",name:"vhs-rendition-enabled"})})}handleUpdatedMediaPlaylist(e){this.useCueTags_&&this.updateAdCues_(e),this.mainSegmentLoader_.playlist(e,this.requestOptions_),this.updateDuration(!e.endList),this.tech_.paused()||(this.mainSegmentLoader_.load(),this.audioSegmentLoader_&&this.audioSegmentLoader_.load())}triggerPresenceUsage_(e,i){const n=e.mediaGroups||{};let r=!0;const s=Object.keys(n.AUDIO);for(const o in n.AUDIO)for(const a in n.AUDIO[o])n.AUDIO[o][a].uri||(r=!1);r&&this.tech_.trigger({type:"usage",name:"vhs-demuxed"}),Object.keys(n.SUBTITLES).length&&this.tech_.trigger({type:"usage",name:"vhs-webvtt"}),Cn.Playlist.isAes(i)&&this.tech_.trigger({type:"usage",name:"vhs-aes"}),s.length&&Object.keys(n.AUDIO[s[0]]).length>1&&this.tech_.trigger({type:"usage",name:"vhs-alternate-audio"}),this.useCueTags_&&this.tech_.trigger({type:"usage",name:"vhs-playlist-cue-tags"})}shouldSwitchToMedia_(e){const i=this.mainPlaylistLoader_.media()||this.mainPlaylistLoader_.pendingMedia_,n=this.tech_.currentTime(),r=this.bufferLowWaterLine(),s=this.bufferHighWaterLine(),o=this.tech_.buffered();return lB({buffered:o,currentTime:n,currentPlaylist:i,nextPlaylist:e,bufferLowWaterLine:r,bufferHighWaterLine:s,duration:this.duration(),bufferBasedABR:this.bufferBasedABR,log:this.logger_})}setupSegmentLoaderListeners_(){this.mainSegmentLoader_.on("bandwidthupdate",()=>{this.checkABR_("bandwidthupdate"),this.tech_.trigger("bandwidthupdate")}),this.mainSegmentLoader_.on("timeout",()=>{this.bufferBasedABR&&this.mainSegmentLoader_.load()}),this.bufferBasedABR||this.mainSegmentLoader_.on("progress",()=>{this.trigger("progress")}),this.mainSegmentLoader_.on("error",()=>{const i=this.mainSegmentLoader_.error();this.excludePlaylist({playlistToExclude:i.playlist,error:i})}),this.mainSegmentLoader_.on("appenderror",()=>{this.error=this.mainSegmentLoader_.error_,this.trigger("error")}),this.mainSegmentLoader_.on("syncinfoupdate",()=>{this.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",()=>{this.tech_.trigger({type:"usage",name:"vhs-timestamp-offset"})}),this.audioSegmentLoader_.on("syncinfoupdate",()=>{this.onSyncInfoUpdate_()}),this.audioSegmentLoader_.on("appenderror",()=>{this.error=this.audioSegmentLoader_.error_,this.trigger("error")}),this.mainSegmentLoader_.on("ended",()=>{this.logger_("main segment loader ended"),this.onEndOfStream()}),this.mainSegmentLoader_.on("earlyabort",i=>{this.bufferBasedABR||(this.delegateLoaders_("all",["abort"]),this.excludePlaylist({error:{message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},playlistExclusionDuration:sB}))});const e=()=>{if(!this.sourceUpdater_.hasCreatedSourceBuffers())return this.tryToCreateSourceBuffers_();const i=this.getCodecsOrExclude_();i&&this.sourceUpdater_.addOrChangeSourceBuffers(i)};this.mainSegmentLoader_.on("trackinfo",e),this.audioSegmentLoader_.on("trackinfo",e),this.mainSegmentLoader_.on("fmp4",()=>{this.triggeredFmp4Usage||(this.tech_.trigger({type:"usage",name:"vhs-fmp4"}),this.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("fmp4",()=>{this.triggeredFmp4Usage||(this.tech_.trigger({type:"usage",name:"vhs-fmp4"}),this.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("ended",()=>{this.logger_("audioSegmentLoader ended"),this.onEndOfStream()})}mediaSecondsLoaded_(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)}load(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()}fastQualityChange_(e=this.selectPlaylist()){if(e===this.mainPlaylistLoader_.media()){this.logger_("skipping fastQualityChange because new media is same as old");return}this.switchMedia_(e,"fast-quality"),this.resetMainLoaderReplaceSegments()}resetMainLoaderReplaceSegments(){const e=this.tech_.buffered(),i=e.end(e.length-1);this.mainSegmentLoader_.replaceSegmentsUntil=i,this.mainSegmentLoader_.resetLoaderProperties(),this.mainSegmentLoader_.resetLoader()}play(){if(this.setupFirstPlay())return;this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_&&this.load();const e=this.tech_.seekable();if(this.tech_.duration()===1/0&&this.tech_.currentTime()<e.start(0))return this.tech_.setCurrentTime(e.end(e.length-1))}setupFirstPlay(){const e=this.mainPlaylistLoader_.media();if(!e||this.tech_.paused()||this.hasPlayed_)return!1;if(!e.endList||e.start){const i=this.seekable();if(!i.length)return!1;const n=i.end(0);let r=n;if(e.start){const s=e.start.timeOffset;s<0?r=Math.max(n+s,i.start(0)):r=Math.min(n,s)}this.trigger("firstplay"),this.tech_.setCurrentTime(r)}return this.hasPlayed_=!0,this.load(),!0}handleSourceOpen_(){if(this.tryToCreateSourceBuffers_(),this.tech_.autoplay()){const e=this.tech_.play();typeof e<"u"&&typeof e.then=="function"&&e.then(null,i=>{})}this.trigger("sourceopen")}handleSourceEnded_(){if(!this.inbandTextTracks_.metadataTrack_)return;const e=this.inbandTextTracks_.metadataTrack_.cues;if(!e||!e.length)return;const i=this.duration();e[e.length-1].endTime=isNaN(i)||Math.abs(i)===1/0?Number.MAX_VALUE:i}handleDurationChange_(){this.tech_.trigger("durationchange")}onEndOfStream(){let e=this.mainSegmentLoader_.ended_;if(this.mediaTypes_.AUDIO.activePlaylistLoader){const i=this.mainSegmentLoader_.getCurrentMediaInfo_();!i||i.hasVideo?e=e&&this.audioSegmentLoader_.ended_:e=this.audioSegmentLoader_.ended_}e&&(this.stopABRTimer_(),this.sourceUpdater_.endOfStream())}stuckAtPlaylistEnd_(e){if(!this.seekable().length)return!1;const n=this.syncController_.getExpiredTime(e,this.duration());if(n===null)return!1;const r=Cn.Playlist.playlistEnd(e,n),s=this.tech_.currentTime(),o=this.tech_.buffered();if(!o.length)return r-s<=ln;const a=o.end(o.length-1);return a-s<=ln&&r-a<=ln}excludePlaylist({playlistToExclude:e=this.mainPlaylistLoader_.media(),error:i={},playlistExclusionDuration:n}){if(e=e||this.mainPlaylistLoader_.media(),n=n||i.playlistExclusionDuration||this.playlistExclusionDuration,!e){this.error=i,this.mediaSource.readyState!=="open"?this.trigger("error"):this.sourceUpdater_.endOfStream("network");return}e.playlistErrors_++;const r=this.mainPlaylistLoader_.main.playlists,s=r.filter(ph),o=s.length===1&&s[0]===e;if(r.length===1&&n!==1/0)return F.log.warn(`Problem encountered with playlist ${e.id}. Trying again since it is the only playlist.`),this.tech_.trigger("retryplaylist"),this.mainPlaylistLoader_.load(o);if(o){let T=!1;r.forEach(v=>{if(v===e)return;const w=v.excludeUntil;typeof w<"u"&&w!==1/0&&(T=!0,delete v.excludeUntil)}),T&&(F.log.warn("Removing other playlists from the exclusion list because the last rendition is about to be excluded."),this.tech_.trigger("retryplaylist"))}let a;e.playlistErrors_>this.maxPlaylistRetries?a=1/0:a=Date.now()+n*1e3,e.excludeUntil=a,i.reason&&(e.lastExcludeReason_=i.reason),this.tech_.trigger("excludeplaylist"),this.tech_.trigger({type:"usage",name:"vhs-rendition-excluded"});const l=this.selectPlaylist();if(!l){this.error="Playback cannot continue. No available working or supported playlists.",this.trigger("error");return}const u=i.internal?this.logger_:F.log.warn,d=i.message?" "+i.message:"";u(`${i.internal?"Internal problem":"Problem"} encountered with playlist ${e.id}.${d} Switching to playlist ${l.id}.`),l.attributes.AUDIO!==e.attributes.AUDIO&&this.delegateLoaders_("audio",["abort","pause"]),l.attributes.SUBTITLES!==e.attributes.SUBTITLES&&this.delegateLoaders_("subtitle",["abort","pause"]),this.delegateLoaders_("main",["abort","pause"]);const p=l.targetDuration/2*1e3||5*1e3,y=typeof l.lastRequest=="number"&&Date.now()-l.lastRequest<=p;return this.switchMedia_(l,"exclude",o||y)}pauseLoading(){this.delegateLoaders_("all",["abort","pause"]),this.stopABRTimer_()}delegateLoaders_(e,i){const n=[],r=e==="all";(r||e==="main")&&n.push(this.mainPlaylistLoader_);const s=[];(r||e==="audio")&&s.push("AUDIO"),(r||e==="subtitle")&&(s.push("CLOSED-CAPTIONS"),s.push("SUBTITLES")),s.forEach(o=>{const a=this.mediaTypes_[o]&&this.mediaTypes_[o].activePlaylistLoader;a&&n.push(a)}),["main","audio","subtitle"].forEach(o=>{const a=this[`${o}SegmentLoader_`];a&&(e===o||e==="all")&&n.push(a)}),n.forEach(o=>i.forEach(a=>{typeof o[a]=="function"&&o[a]()}))}setCurrentTime(e){const i=$s(this.tech_.buffered(),e);if(!(this.mainPlaylistLoader_&&this.mainPlaylistLoader_.media())||!this.mainPlaylistLoader_.media().segments)return 0;if(i&&i.length)return e;this.mainSegmentLoader_.resetEverything(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.resetEverything(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.resetEverything(),this.load()}duration(){if(!this.mainPlaylistLoader_)return 0;const e=this.mainPlaylistLoader_.media();return e?e.endList?this.mediaSource?this.mediaSource.duration:Cn.Playlist.duration(e):1/0:0}seekable(){return this.seekable_}onSyncInfoUpdate_(){let e;if(!this.mainPlaylistLoader_)return;let i=this.mainPlaylistLoader_.media();if(!i)return;let n=this.syncController_.getExpiredTime(i,this.duration());if(n===null)return;const r=this.mainPlaylistLoader_.main,s=Cn.Playlist.seekable(i,n,Cn.Playlist.liveEdgeDelay(r,i));if(s.length===0||this.mediaTypes_.AUDIO.activePlaylistLoader&&(i=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),n=this.syncController_.getExpiredTime(i,this.duration()),n===null||(e=Cn.Playlist.seekable(i,n,Cn.Playlist.liveEdgeDelay(r,i)),e.length===0)))return;let o,a;this.seekable_&&this.seekable_.length&&(o=this.seekable_.end(0),a=this.seekable_.start(0)),e?e.start(0)>s.end(0)||s.start(0)>e.end(0)?this.seekable_=s:this.seekable_=Et([[e.start(0)>s.start(0)?e.start(0):s.start(0),e.end(0)<s.end(0)?e.end(0):s.end(0)]]):this.seekable_=s,!(this.seekable_&&this.seekable_.length&&this.seekable_.end(0)===o&&this.seekable_.start(0)===a)&&(this.logger_(`seekable updated [${gE(this.seekable_)}]`),this.tech_.trigger("seekablechanged"))}updateDuration(e){if(this.updateDuration_&&(this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.updateDuration_=null),this.mediaSource.readyState!=="open"){this.updateDuration_=this.updateDuration.bind(this,e),this.mediaSource.addEventListener("sourceopen",this.updateDuration_);return}if(e){const r=this.seekable();if(!r.length)return;(isNaN(this.mediaSource.duration)||this.mediaSource.duration<r.end(r.length-1))&&this.sourceUpdater_.setDuration(r.end(r.length-1));return}const i=this.tech_.buffered();let n=Cn.Playlist.duration(this.mainPlaylistLoader_.media());i.length>0&&(n=Math.max(n,i.end(i.length-1))),this.mediaSource.duration!==n&&this.sourceUpdater_.setDuration(n)}dispose(){this.trigger("dispose"),this.decrypter_.terminate(),this.mainPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_),["AUDIO","SUBTITLES"].forEach(e=>{const i=this.mediaTypes_[e].groups;for(const n in i)i[n].forEach(r=>{r.playlistLoader&&r.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose(),this.sourceUpdater_.dispose(),this.timelineChangeController_.dispose(),this.stopABRTimer_(),this.updateDuration_&&this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.mediaSource.removeEventListener("durationchange",this.handleDurationChange_),this.mediaSource.removeEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.removeEventListener("sourceended",this.handleSourceEnded_),this.off()}main(){return this.mainPlaylistLoader_.main}media(){return this.mainPlaylistLoader_.media()||this.initialMedia_}areMediaTypesKnown_(){const e=!!this.mediaTypes_.AUDIO.activePlaylistLoader,i=!!this.mainSegmentLoader_.getCurrentMediaInfo_(),n=e?!!this.audioSegmentLoader_.getCurrentMediaInfo_():!0;return!(!i||!n)}getCodecsOrExclude_(){const e={main:this.mainSegmentLoader_.getCurrentMediaInfo_()||{},audio:this.audioSegmentLoader_.getCurrentMediaInfo_()||{}},i=this.mainSegmentLoader_.getPendingSegmentPlaylist()||this.media();e.video=e.main;const n=Wa(this.main(),i),r={},s=!!this.mediaTypes_.AUDIO.activePlaylistLoader;if(e.main.hasVideo&&(r.video=n.video||e.main.videoCodec||O8),e.main.isMuxed&&(r.video+=`,${n.audio||e.main.audioCodec||x1}`),(e.main.hasAudio&&!e.main.isMuxed||e.audio.hasAudio||s)&&(r.audio=n.audio||e.main.audioCodec||e.audio.audioCodec||x1,e.audio.isFmp4=e.main.hasAudio&&!e.main.isMuxed?e.main.isFmp4:e.audio.isFmp4),!r.audio&&!r.video){this.excludePlaylist({playlistToExclude:i,error:{message:"Could not determine codecs for playlist."},playlistExclusionDuration:1/0});return}const o=(u,d)=>u?ac(d):Ff(d),a={};let l;if(["video","audio"].forEach(function(u){if(r.hasOwnProperty(u)&&!o(e[u].isFmp4,r[u])){const d=e[u].isFmp4?"browser":"muxer";a[d]=a[d]||[],a[d].push(r[u]),u==="audio"&&(l=d)}}),s&&l&&i.attributes.AUDIO){const u=i.attributes.AUDIO;this.main().playlists.forEach(d=>{(d.attributes&&d.attributes.AUDIO)===u&&d!==i&&(d.excludeUntil=1/0)}),this.logger_(`excluding audio group ${u} as ${l} does not support codec(s): "${r.audio}"`)}if(Object.keys(a).length){const u=Object.keys(a).reduce((d,p)=>(d&&(d+=", "),d+=`${p} does not support codec(s): "${a[p].join(",")}"`,d),"")+".";this.excludePlaylist({playlistToExclude:i,error:{internal:!0,message:u},playlistExclusionDuration:1/0});return}if(this.sourceUpdater_.hasCreatedSourceBuffers()&&!this.sourceUpdater_.canChangeType()){const u=[];if(["video","audio"].forEach(d=>{const p=(rn(this.sourceUpdater_.codecs[d]||"")[0]||{}).type,y=(rn(r[d]||"")[0]||{}).type;p&&y&&p.toLowerCase()!==y.toLowerCase()&&u.push(`"${this.sourceUpdater_.codecs[d]}" -> "${r[d]}"`)}),u.length){this.excludePlaylist({playlistToExclude:i,error:{message:`Codec switching not supported: ${u.join(", ")}.`,internal:!0},playlistExclusionDuration:1/0});return}}return r}tryToCreateSourceBuffers_(){if(this.mediaSource.readyState!=="open"||this.sourceUpdater_.hasCreatedSourceBuffers()||!this.areMediaTypesKnown_())return;const e=this.getCodecsOrExclude_();if(!e)return;this.sourceUpdater_.createSourceBuffers(e);const i=[e.video,e.audio].filter(Boolean).join(",");this.excludeIncompatibleVariants_(i)}excludeUnsupportedVariants_(){const e=this.main().playlists,i=[];Object.keys(e).forEach(n=>{const r=e[n];if(i.indexOf(r.id)!==-1)return;i.push(r.id);const s=Wa(this.main,r),o=[];s.audio&&!Ff(s.audio)&&!ac(s.audio)&&o.push(`audio codec ${s.audio}`),s.video&&!Ff(s.video)&&!ac(s.video)&&o.push(`video codec ${s.video}`),s.text&&s.text==="stpp.ttml.im1t"&&o.push(`text codec ${s.text}`),o.length&&(r.excludeUntil=1/0,this.logger_(`excluding ${r.id} for unsupported: ${o.join(", ")}`))})}excludeIncompatibleVariants_(e){const i=[],n=this.main().playlists,r=ud(rn(e)),s=C2(r),o=r.video&&rn(r.video)[0]||null,a=r.audio&&rn(r.audio)[0]||null;Object.keys(n).forEach(l=>{const u=n[l];if(i.indexOf(u.id)!==-1||u.excludeUntil===1/0)return;i.push(u.id);const d=[],p=Wa(this.mainPlaylistLoader_.main,u),y=C2(p);if(!(!p.audio&&!p.video)){if(y!==s&&d.push(`codec count "${y}" !== "${s}"`),!this.sourceUpdater_.canChangeType()){const T=p.video&&rn(p.video)[0]||null,v=p.audio&&rn(p.audio)[0]||null;T&&o&&T.type.toLowerCase()!==o.type.toLowerCase()&&d.push(`video codec "${T.type}" !== "${o.type}"`),v&&a&&v.type.toLowerCase()!==a.type.toLowerCase()&&d.push(`audio codec "${v.type}" !== "${a.type}"`)}d.length&&(u.excludeUntil=1/0,this.logger_(`excluding ${u.id}: ${d.join(" && ")}`))}})}updateAdCues_(e){let i=0;const n=this.seekable();n.length&&(i=n.start(0)),V6(e,this.cueTagsTrack_,i)}goalBufferLength(){const e=this.tech_.currentTime(),i=ut.GOAL_BUFFER_LENGTH,n=ut.GOAL_BUFFER_LENGTH_RATE,r=Math.max(i,ut.MAX_GOAL_BUFFER_LENGTH);return Math.min(i+e*n,r)}bufferLowWaterLine(){const e=this.tech_.currentTime(),i=ut.BUFFER_LOW_WATER_LINE,n=ut.BUFFER_LOW_WATER_LINE_RATE,r=Math.max(i,ut.MAX_BUFFER_LOW_WATER_LINE),s=Math.max(i,ut.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE);return Math.min(i+e*n,this.bufferBasedABR?s:r)}bufferHighWaterLine(){return ut.BUFFER_HIGH_WATER_LINE}addDateRangesToTextTrack_(e){A2(this.inbandTextTracks_,"com.apple.streaming",this.tech_),E6({inbandTextTracks:this.inbandTextTracks_,dateRanges:e})}addMetadataToTextTrack(e,i,n){const r=this.sourceUpdater_.videoBuffer?this.sourceUpdater_.videoTimestampOffset():this.sourceUpdater_.audioTimestampOffset();A2(this.inbandTextTracks_,e,this.tech_),T6({inbandTextTracks:this.inbandTextTracks_,metadataArray:i,timestampOffset:r,videoDuration:n})}}const cB=(t,e,i)=>n=>{const r=t.main.playlists[e],s=cy(r),o=ph(r);return typeof n>"u"?o:(n?delete r.disabled:r.disabled=!0,n!==o&&!s&&(i(),n?t.trigger("renditionenabled"):t.trigger("renditiondisabled")),n)};class dB{constructor(e,i,n){const{playlistController_:r}=e,s=r.fastQualityChange_.bind(r);if(i.attributes){const o=i.attributes.RESOLUTION;this.width=o&&o.width,this.height=o&&o.height,this.bandwidth=i.attributes.BANDWIDTH,this.frameRate=i.attributes["FRAME-RATE"]}this.codecs=Wa(r.main(),i),this.playlist=i,this.id=n,this.enabled=cB(e.playlists,i.id,s)}}const hB=function(t){t.representations=()=>{const e=t.playlistController_.main(),i=Ul(e)?t.playlistController_.getAudioTrackPlaylists_():e.playlists;return i?i.filter(n=>!cy(n)).map((n,r)=>new dB(t,n,n.id)):[]}},j2=["seeking","seeked","pause","playing","error"];class fB{constructor(e){this.playlistController_=e.playlistController,this.tech_=e.tech,this.seekable=e.seekable,this.allowSeeksWithinUnsafeLiveWindow=e.allowSeeksWithinUnsafeLiveWindow,this.liveRangeSafeTimeDelta=e.liveRangeSafeTimeDelta,this.media=e.media,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.checkCurrentTimeTimeout_=null,this.logger_=Ji("PlaybackWatcher"),this.logger_("initialize");const i=()=>this.monitorCurrentTime_(),n=()=>this.monitorCurrentTime_(),r=()=>this.techWaiting_(),s=()=>this.resetTimeUpdate_(),o=this.playlistController_,a=["main","subtitle","audio"],l={};a.forEach(d=>{l[d]={reset:()=>this.resetSegmentDownloads_(d),updateend:()=>this.checkSegmentDownloads_(d)},o[`${d}SegmentLoader_`].on("appendsdone",l[d].updateend),o[`${d}SegmentLoader_`].on("playlistupdate",l[d].reset),this.tech_.on(["seeked","seeking"],l[d].reset)});const u=d=>{["main","audio"].forEach(p=>{o[`${p}SegmentLoader_`][d]("appended",this.seekingAppendCheck_)})};this.seekingAppendCheck_=()=>{this.fixesBadSeeks_()&&(this.consecutiveUpdates=0,this.lastRecordedTime=this.tech_.currentTime(),u("off"))},this.clearSeekingAppendCheck_=()=>u("off"),this.watchForBadSeeking_=()=>{this.clearSeekingAppendCheck_(),u("on")},this.tech_.on("seeked",this.clearSeekingAppendCheck_),this.tech_.on("seeking",this.watchForBadSeeking_),this.tech_.on("waiting",r),this.tech_.on(j2,s),this.tech_.on("canplay",n),this.tech_.one("play",i),this.dispose=()=>{this.clearSeekingAppendCheck_(),this.logger_("dispose"),this.tech_.off("waiting",r),this.tech_.off(j2,s),this.tech_.off("canplay",n),this.tech_.off("play",i),this.tech_.off("seeking",this.watchForBadSeeking_),this.tech_.off("seeked",this.clearSeekingAppendCheck_),a.forEach(d=>{o[`${d}SegmentLoader_`].off("appendsdone",l[d].updateend),o[`${d}SegmentLoader_`].off("playlistupdate",l[d].reset),this.tech_.off(["seeked","seeking"],l[d].reset)}),this.checkCurrentTimeTimeout_&&O.clearTimeout(this.checkCurrentTimeTimeout_),this.resetTimeUpdate_()}}monitorCurrentTime_(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&O.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=O.setTimeout(this.monitorCurrentTime_.bind(this),250)}resetSegmentDownloads_(e){const i=this.playlistController_[`${e}SegmentLoader_`];this[`${e}StalledDownloads_`]>0&&this.logger_(`resetting possible stalled download count for ${e} loader`),this[`${e}StalledDownloads_`]=0,this[`${e}Buffered_`]=i.buffered_()}checkSegmentDownloads_(e){const i=this.playlistController_,n=i[`${e}SegmentLoader_`],r=n.buffered_(),s=nM(this[`${e}Buffered_`],r);if(this[`${e}Buffered_`]=r,s){this.resetSegmentDownloads_(e);return}this[`${e}StalledDownloads_`]++,this.logger_(`found #${this[`${e}StalledDownloads_`]} ${e} appends that did not increase buffer (possible stalled download)`,{playlistId:n.playlist_&&n.playlist_.id,buffered:Hr(r)}),!(this[`${e}StalledDownloads_`]<10)&&(this.logger_(`${e} loader stalled download exclusion`),this.resetSegmentDownloads_(e),this.tech_.trigger({type:"usage",name:`vhs-${e}-download-exclusion`}),e!=="subtitle"&&i.excludePlaylist({error:{message:`Excessive ${e} segment downloading detected.`},playlistExclusionDuration:1/0}))}checkCurrentTime_(){if(this.tech_.paused()||this.tech_.seeking())return;const e=this.tech_.currentTime(),i=this.tech_.buffered();if(this.lastRecordedTime===e&&(!i.length||e+ln>=i.end(i.length-1)))return this.techWaiting_();this.consecutiveUpdates>=5&&e===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):e===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=e)}resetTimeUpdate_(){this.consecutiveUpdates=0}fixesBadSeeks_(){if(!this.tech_.seeking())return!1;const i=this.seekable(),n=this.tech_.currentTime(),r=this.afterSeekableWindow_(i,n,this.media(),this.allowSeeksWithinUnsafeLiveWindow);let s;if(r&&(s=i.end(i.length-1)),this.beforeSeekableWindow_(i,n)){const v=i.start(0);s=v+(v===i.end(0)?0:ln)}if(typeof s<"u")return this.logger_(`Trying to seek outside of seekable at time ${n} with seekable range ${gE(i)}. Seeking to ${s}.`),this.tech_.setCurrentTime(s),!0;const o=this.playlistController_.sourceUpdater_,a=this.tech_.buffered(),l=o.audioBuffer?o.audioBuffered():null,u=o.videoBuffer?o.videoBuffered():null,d=this.media(),p=d.partTargetDuration?d.partTargetDuration:(d.targetDuration-wr)*2,y=[l,u];for(let v=0;v<y.length;v++){if(!y[v])continue;if(ly(y[v],n)<p)return!1}const T=$u(a,n);return T.length===0?!1:(s=T.start(0)+ln,this.logger_(`Buffered region starts (${T.start(0)})  just beyond seek point (${n}). Seeking to ${s}.`),this.tech_.setCurrentTime(s),!0)}waiting_(){if(this.techWaiting_())return;const e=this.tech_.currentTime(),i=this.tech_.buffered(),n=$s(i,e);if(n.length&&e+3<=n.end(0)){this.resetTimeUpdate_(),this.tech_.setCurrentTime(e),this.logger_(`Stopped at ${e} while inside a buffered region [${n.start(0)} -> ${n.end(0)}]. Attempting to resume playback by seeking to the current time.`),this.tech_.trigger({type:"usage",name:"vhs-unknown-waiting"});return}}techWaiting_(){const e=this.seekable(),i=this.tech_.currentTime();if(this.tech_.seeking())return!0;if(this.beforeSeekableWindow_(e,i)){const a=e.end(e.length-1);return this.logger_(`Fell out of live window at time ${i}. Seeking to live point (seekable end) ${a}`),this.resetTimeUpdate_(),this.tech_.setCurrentTime(a),this.tech_.trigger({type:"usage",name:"vhs-live-resync"}),!0}const n=this.tech_.vhs.playlistController_.sourceUpdater_,r=this.tech_.buffered();if(this.videoUnderflow_({audioBuffered:n.audioBuffered(),videoBuffered:n.videoBuffered(),currentTime:i}))return this.resetTimeUpdate_(),this.tech_.setCurrentTime(i),this.tech_.trigger({type:"usage",name:"vhs-video-underflow"}),!0;const o=$u(r,i);return o.length>0?(this.logger_(`Stopped at ${i} and seeking to ${o.start(0)}`),this.resetTimeUpdate_(),this.skipTheGap_(i),!0):!1}afterSeekableWindow_(e,i,n,r=!1){if(!e.length)return!1;let s=e.end(e.length-1)+ln;const o=!n.endList,a=typeof n.partTargetDuration=="number";return o&&(a||r)&&(s=e.end(e.length-1)+n.targetDuration*3),i>s}beforeSeekableWindow_(e,i){return!!(e.length&&e.start(0)>0&&i<e.start(0)-this.liveRangeSafeTimeDelta)}videoUnderflow_({videoBuffered:e,audioBuffered:i,currentTime:n}){if(!e)return;let r;if(e.length&&i.length){const s=$s(e,n-3),o=$s(e,n),a=$s(i,n);a.length&&!o.length&&s.length&&(r={start:s.end(0),end:a.end(0)})}else $u(e,n).length||(r=this.gapFromVideoUnderflow_(e,n));return r?(this.logger_(`Encountered a gap in video from ${r.start} to ${r.end}. Seeking to current time ${n}`),!0):!1}skipTheGap_(e){const i=this.tech_.buffered(),n=this.tech_.currentTime(),r=$u(i,n);this.resetTimeUpdate_(),!(r.length===0||n!==e)&&(this.logger_("skipTheGap_:","currentTime:",n,"scheduled currentTime:",e,"nextRange start:",r.start(0)),this.tech_.setCurrentTime(r.start(0)+wr),this.tech_.trigger({type:"usage",name:"vhs-gap-skip"}))}gapFromVideoUnderflow_(e,i){const n=eM(e);for(let r=0;r<n.length;r++){const s=n.start(r),o=n.end(r);if(i-s<4&&i-s>2)return{start:s,end:o}}return null}}const pB={errorInterval:30,getSource(t){const i=this.tech({IWillNotUseThisInPlugins:!0}).currentSource_||this.currentSource();return t(i)}},tC=function(t,e){let i=0,n=0;const r=Ae(pB,e);t.ready(()=>{t.trigger({type:"usage",name:"vhs-error-reload-initialized"})});const s=function(){n&&t.currentTime(n)},o=function(d){d!=null&&(n=t.duration()!==1/0&&t.currentTime()||0,t.one("loadedmetadata",s),t.src(d),t.trigger({type:"usage",name:"vhs-error-reload"}),t.play())},a=function(){if(Date.now()-i<r.errorInterval*1e3){t.trigger({type:"usage",name:"vhs-error-reload-canceled"});return}if(!r.getSource||typeof r.getSource!="function"){F.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!");return}return i=Date.now(),r.getSource.call(t,o)},l=function(){t.off("loadedmetadata",s),t.off("error",a),t.off("dispose",l)},u=function(d){l(),tC(t,d)};t.on("error",a),t.on("dispose",l),t.reloadSourceOnError=u},mB=function(t){tC(this,t)};var iC="3.5.3",gB="7.0.0",yB="1.1.1",vB="7.1.0",_B="4.0.1";const qe={PlaylistLoader:zs,Playlist:qt,utils:AM,STANDARD_PLAYLIST_SELECTOR:D2,INITIAL_PLAYLIST_SELECTOR:y6,lastBandwidthSelector:D2,movingAverageBandwidthSelector:m6,comparePlaylistBandwidth:py,comparePlaylistResolution:p6,xhr:IE()};Object.keys(ut).forEach(t=>{Object.defineProperty(qe,t,{get(){return F.log.warn(`using Vhs.${t} is UNSAFE be sure you know what you are doing`),ut[t]},set(e){if(F.log.warn(`using Vhs.${t} is UNSAFE be sure you know what you are doing`),typeof e!="number"||e<0){F.log.warn(`value of Vhs.${t} must be greater than or equal to 0`);return}ut[t]=e}})});const nC="videojs-vhs",rC=function(t,e){const i=e.media();let n=-1;for(let r=0;r<t.length;r++)if(t[r].id===i.id){n=r;break}t.selectedIndex_=n,t.trigger({selectedIndex:n,type:"change"})},bB=function(t,e){e.representations().forEach(i=>{t.addQualityLevel(i)}),rC(t,e.playlists)};qe.canPlaySource=function(){return F.log.warn("VHS is no longer a tech. Please remove it from your player's techOrder.")};const xB=(t,e,i)=>{if(!t)return t;let n={};e&&e.attributes&&e.attributes.CODECS&&(n=ud(rn(e.attributes.CODECS))),i&&i.attributes&&i.attributes.CODECS&&(n.audio=i.attributes.CODECS);const r=gl(n.video),s=gl(n.audio),o={};for(const a in t)o[a]={},s&&(o[a].audioContentType=s),r&&(o[a].videoContentType=r),e.contentProtection&&e.contentProtection[a]&&e.contentProtection[a].pssh&&(o[a].pssh=e.contentProtection[a].pssh),typeof t[a]=="string"&&(o[a].url=t[a]);return Ae(t,o)},TB=(t,e)=>t.reduce((i,n)=>{if(!n.contentProtection)return i;const r=e.reduce((s,o)=>{const a=n.contentProtection[o];return a&&a.pssh&&(s[o]={pssh:a.pssh}),s},{});return Object.keys(r).length&&i.push(r),i},[]),wB=({player:t,sourceKeySystems:e,audioMedia:i,mainPlaylists:n})=>{if(!t.eme.initializeMediaKeys)return Promise.resolve();const r=i?n.concat([i]):n,s=TB(r,Object.keys(e)),o=[],a=[];return s.forEach(l=>{a.push(new Promise((u,d)=>{t.tech_.one("keysessioncreated",u)})),o.push(new Promise((u,d)=>{t.eme.initializeMediaKeys({keySystems:l},p=>{if(p){d(p);return}u()})}))}),Promise.race([Promise.all(o),Promise.race(a)])},SB=({player:t,sourceKeySystems:e,media:i,audioMedia:n})=>{const r=xB(e,i,n);return r?(t.currentSource().keySystems=r,r&&!t.eme?(F.log.warn("DRM encrypted source cannot be decrypted without a DRM plugin"),!1):!0):!1},sC=()=>{if(!O.localStorage)return null;const t=O.localStorage.getItem(nC);if(!t)return null;try{return JSON.parse(t)}catch{return null}},EB=t=>{if(!O.localStorage)return!1;let e=sC();e=e?Ae(e,t):t;try{O.localStorage.setItem(nC,JSON.stringify(e))}catch{return!1}return e},CB=t=>t.toLowerCase().indexOf("data:application/vnd.videojs.vhs+json,")===0?JSON.parse(t.substring(t.indexOf(",")+1)):t,oC=(t,e)=>{t._requestCallbackSet||(t._requestCallbackSet=new Set),t._requestCallbackSet.add(e)},aC=(t,e)=>{t._responseCallbackSet||(t._responseCallbackSet=new Set),t._responseCallbackSet.add(e)},lC=(t,e)=>{t._requestCallbackSet&&(t._requestCallbackSet.delete(e),t._requestCallbackSet.size||delete t._requestCallbackSet)},uC=(t,e)=>{t._responseCallbackSet&&(t._responseCallbackSet.delete(e),t._responseCallbackSet.size||delete t._responseCallbackSet)};qe.supportsNativeHls=function(){if(!K||!K.createElement)return!1;const t=K.createElement("video");return F.getTech("Html5").isSupported()?["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"].some(function(i){return/maybe|probably/i.test(t.canPlayType(i))}):!1}();qe.supportsNativeDash=function(){return!K||!K.createElement||!F.getTech("Html5").isSupported()?!1:/maybe|probably/i.test(K.createElement("video").canPlayType("application/dash+xml"))}();qe.supportsTypeNatively=t=>t==="hls"?qe.supportsNativeHls:t==="dash"?qe.supportsNativeDash:!1;qe.isSupported=function(){return F.log.warn("VHS is no longer a tech. Please remove it from your player's techOrder.")};qe.xhr.onRequest=function(t){oC(qe.xhr,t)};qe.xhr.onResponse=function(t){aC(qe.xhr,t)};qe.xhr.offRequest=function(t){lC(qe.xhr,t)};qe.xhr.offResponse=function(t){uC(qe.xhr,t)};const kB=F.getComponent("Component");class cC extends kB{constructor(e,i,n){if(super(i,n.vhs),typeof n.initialBandwidth=="number"&&(this.options_.bandwidth=n.initialBandwidth),this.logger_=Ji("VhsHandler"),i.options_&&i.options_.playerId){const r=F.getPlayer(i.options_.playerId);this.player_=r}if(this.tech_=i,this.source_=e,this.stats={},this.ignoreNextSeekingEvent_=!1,this.setOptions_(),this.options_.overrideNative&&i.overrideNativeAudioTracks&&i.overrideNativeVideoTracks)i.overrideNativeAudioTracks(!0),i.overrideNativeVideoTracks(!0);else if(this.options_.overrideNative&&(i.featuresNativeVideoTracks||i.featuresNativeAudioTracks))throw new Error("Overriding native VHS requires emulated tracks. See https://git.io/vMpjB");this.on(K,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],r=>{const s=K.fullscreenElement||K.webkitFullscreenElement||K.mozFullScreenElement||K.msFullscreenElement;s&&s.contains(this.tech_.el())?this.playlistController_.fastQualityChange_():this.playlistController_.checkABR_()}),this.on(this.tech_,"seeking",function(){if(this.ignoreNextSeekingEvent_){this.ignoreNextSeekingEvent_=!1;return}this.setCurrentTime(this.tech_.currentTime())}),this.on(this.tech_,"error",function(){this.tech_.error()&&this.playlistController_&&this.playlistController_.pauseLoading()}),this.on(this.tech_,"play",this.play)}setOptions_(){if(this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions!==!1,this.options_.useDevicePixelRatio=this.options_.useDevicePixelRatio||!1,this.options_.useBandwidthFromLocalStorage=typeof this.source_.useBandwidthFromLocalStorage<"u"?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.useForcedSubtitles=this.options_.useForcedSubtitles||!1,this.options_.useNetworkInformationApi=this.options_.useNetworkInformationApi||!1,this.options_.useDtsForTimestampOffset=this.options_.useDtsForTimestampOffset||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,this.options_.llhls=this.options_.llhls!==!1,this.options_.bufferBasedABR=this.options_.bufferBasedABR||!1,typeof this.options_.playlistExclusionDuration!="number"&&(this.options_.playlistExclusionDuration=60),typeof this.options_.bandwidth!="number"&&this.options_.useBandwidthFromLocalStorage){const e=sC();e&&e.bandwidth&&(this.options_.bandwidth=e.bandwidth,this.tech_.trigger({type:"usage",name:"vhs-bandwidth-from-local-storage"})),e&&e.throughput&&(this.options_.throughput=e.throughput,this.tech_.trigger({type:"usage",name:"vhs-throughput-from-local-storage"}))}typeof this.options_.bandwidth!="number"&&(this.options_.bandwidth=ut.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===ut.INITIAL_BANDWIDTH,["withCredentials","useDevicePixelRatio","limitRenditionByPlayerDimensions","bandwidth","customTagParsers","customTagMappers","cacheEncryptionKeys","playlistSelector","initialPlaylistSelector","bufferBasedABR","liveRangeSafeTimeDelta","llhls","useForcedSubtitles","useNetworkInformationApi","useDtsForTimestampOffset","exactManifestTimings","leastPixelDiffSelector"].forEach(e=>{typeof this.source_[e]<"u"&&(this.options_[e]=this.source_[e])}),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions,this.useDevicePixelRatio=this.options_.useDevicePixelRatio}src(e,i){if(!e)return;this.setOptions_(),this.options_.src=CB(this.source_.src),this.options_.tech=this.tech_,this.options_.externVhs=qe,this.options_.sourceType=cw(i),this.options_.seekTo=s=>{this.tech_.setCurrentTime(s)},this.playlistController_=new uB(this.options_);const n=Ae({liveRangeSafeTimeDelta:ln},this.options_,{seekable:()=>this.seekable(),media:()=>this.playlistController_.media(),playlistController:this.playlistController_});this.playbackWatcher_=new fB(n),this.playlistController_.on("error",()=>{const s=F.players[this.tech_.options_.playerId];let o=this.playlistController_.error;typeof o=="object"&&!o.code?o.code=3:typeof o=="string"&&(o={message:o,code:3}),s.error(o)});const r=this.options_.bufferBasedABR?qe.movingAverageBandwidthSelector(.55):qe.STANDARD_PLAYLIST_SELECTOR;this.playlistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):r.bind(this),this.playlistController_.selectInitialPlaylist=qe.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.playlistController_.mainPlaylistLoader_,this.mediaSource=this.playlistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get(){return this.playlistController_.selectPlaylist},set(s){this.playlistController_.selectPlaylist=s.bind(this)}},throughput:{get(){return this.playlistController_.mainSegmentLoader_.throughput.rate},set(s){this.playlistController_.mainSegmentLoader_.throughput.rate=s,this.playlistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get(){let s=this.playlistController_.mainSegmentLoader_.bandwidth;const o=O.navigator.connection||O.navigator.mozConnection||O.navigator.webkitConnection,a=1e7;if(this.options_.useNetworkInformationApi&&o){const l=o.downlink*1e3*1e3;l>=a&&s>=a?s=Math.max(s,l):s=l}return s},set(s){this.playlistController_.mainSegmentLoader_.bandwidth=s,this.playlistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get(){const s=1/(this.bandwidth||1);let o;return this.throughput>0?o=1/this.throughput:o=0,Math.floor(1/(s+o))},set(){F.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:()=>this.bandwidth||0,enumerable:!0},mediaRequests:{get:()=>this.playlistController_.mediaRequests_()||0,enumerable:!0},mediaRequestsAborted:{get:()=>this.playlistController_.mediaRequestsAborted_()||0,enumerable:!0},mediaRequestsTimedout:{get:()=>this.playlistController_.mediaRequestsTimedout_()||0,enumerable:!0},mediaRequestsErrored:{get:()=>this.playlistController_.mediaRequestsErrored_()||0,enumerable:!0},mediaTransferDuration:{get:()=>this.playlistController_.mediaTransferDuration_()||0,enumerable:!0},mediaBytesTransferred:{get:()=>this.playlistController_.mediaBytesTransferred_()||0,enumerable:!0},mediaSecondsLoaded:{get:()=>this.playlistController_.mediaSecondsLoaded_()||0,enumerable:!0},mediaAppends:{get:()=>this.playlistController_.mediaAppends_()||0,enumerable:!0},mainAppendsToLoadedData:{get:()=>this.playlistController_.mainAppendsToLoadedData_()||0,enumerable:!0},audioAppendsToLoadedData:{get:()=>this.playlistController_.audioAppendsToLoadedData_()||0,enumerable:!0},appendsToLoadedData:{get:()=>this.playlistController_.appendsToLoadedData_()||0,enumerable:!0},timeToLoadedData:{get:()=>this.playlistController_.timeToLoadedData_()||0,enumerable:!0},buffered:{get:()=>Hr(this.tech_.buffered()),enumerable:!0},currentTime:{get:()=>this.tech_.currentTime(),enumerable:!0},currentSource:{get:()=>this.tech_.currentSource_,enumerable:!0},currentTech:{get:()=>this.tech_.name_,enumerable:!0},duration:{get:()=>this.tech_.duration(),enumerable:!0},main:{get:()=>this.playlists.main,enumerable:!0},playerDimensions:{get:()=>this.tech_.currentDimensions(),enumerable:!0},seekable:{get:()=>Hr(this.tech_.seekable()),enumerable:!0},timestamp:{get:()=>Date.now(),enumerable:!0},videoPlaybackQuality:{get:()=>this.tech_.getVideoPlaybackQuality(),enumerable:!0}}),this.tech_.one("canplay",this.playlistController_.setupFirstPlay.bind(this.playlistController_)),this.tech_.on("bandwidthupdate",()=>{this.options_.useBandwidthFromLocalStorage&&EB({bandwidth:this.bandwidth,throughput:Math.round(this.throughput)})}),this.playlistController_.on("selectedinitialmedia",()=>{hB(this)}),this.playlistController_.sourceUpdater_.on("createdsourcebuffers",()=>{this.setupEme_()}),this.on(this.playlistController_,"progress",function(){this.tech_.trigger("progress")}),this.on(this.playlistController_,"firstplay",function(){this.ignoreNextSeekingEvent_=!0}),this.setupQualityLevels_(),this.tech_.el()&&(this.mediaSourceUrl_=O.URL.createObjectURL(this.playlistController_.mediaSource),this.tech_.src(this.mediaSourceUrl_))}createKeySessions_(){const e=this.playlistController_.mediaTypes_.AUDIO.activePlaylistLoader;this.logger_("waiting for EME key session creation"),wB({player:this.player_,sourceKeySystems:this.source_.keySystems,audioMedia:e&&e.media(),mainPlaylists:this.playlists.main.playlists}).then(()=>{this.logger_("created EME key session"),this.playlistController_.sourceUpdater_.initializedEme()}).catch(i=>{this.logger_("error while creating EME key session",i),this.player_.error({message:"Failed to initialize media keys for EME",code:3})})}handleWaitingForKey_(){this.logger_("waitingforkey fired, attempting to create any new key sessions"),this.createKeySessions_()}setupEme_(){const e=this.playlistController_.mediaTypes_.AUDIO.activePlaylistLoader,i=SB({player:this.player_,sourceKeySystems:this.source_.keySystems,media:this.playlists.media(),audioMedia:e&&e.media()});if(this.player_.tech_.on("keystatuschange",n=>{if(n.status!=="output-restricted")return;const r=this.playlistController_.main();if(!r||!r.playlists)return;const s=[];r.playlists.forEach(o=>{o&&o.attributes&&o.attributes.RESOLUTION&&o.attributes.RESOLUTION.height>=720&&(!o.excludeUntil||o.excludeUntil<1/0)&&(o.excludeUntil=1/0,s.push(o))}),s.length&&(F.log.warn('DRM keystatus changed to "output-restricted." Removing the following HD playlists that will most likely fail to play and clearing the buffer. This may be due to HDCP restrictions on the stream and the capabilities of the current device.',...s),this.playlistController_.mainSegmentLoader_.resetEverything(),this.playlistController_.fastQualityChange_())}),this.handleWaitingForKey_=this.handleWaitingForKey_.bind(this),this.player_.tech_.on("waitingforkey",this.handleWaitingForKey_),!i){this.playlistController_.sourceUpdater_.initializedEme();return}this.createKeySessions_()}setupQualityLevels_(){const e=F.players[this.tech_.options_.playerId];!e||!e.qualityLevels||this.qualityLevels_||(this.qualityLevels_=e.qualityLevels(),this.playlistController_.on("selectedinitialmedia",()=>{bB(this.qualityLevels_,this)}),this.playlists.on("mediachange",()=>{rC(this.qualityLevels_,this.playlists)}))}static version(){return{"@videojs/http-streaming":iC,"mux.js":gB,"mpd-parser":yB,"m3u8-parser":vB,"aes-decrypter":_B}}version(){return this.constructor.version()}canChangeType(){return ZE.canChangeType()}play(){this.playlistController_.play()}setCurrentTime(e){this.playlistController_.setCurrentTime(e)}duration(){return this.playlistController_.duration()}seekable(){return this.playlistController_.seekable()}dispose(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.playlistController_&&this.playlistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.tech_&&this.tech_.vhs&&delete this.tech_.vhs,this.mediaSourceUrl_&&O.URL.revokeObjectURL&&(O.URL.revokeObjectURL(this.mediaSourceUrl_),this.mediaSourceUrl_=null),this.tech_&&this.tech_.off("waitingforkey",this.handleWaitingForKey_),super.dispose()}convertToProgramTime(e,i){return MM({playlist:this.playlistController_.media(),time:e,callback:i})}seekToProgramTime(e,i,n=!0,r=2){return ME({programTime:e,playlist:this.playlistController_.media(),retryCount:r,pauseAfterSeek:n,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:i})}setupXhrHooks_(){this.xhr.onRequest=e=>{oC(this.xhr,e)},this.xhr.onResponse=e=>{aC(this.xhr,e)},this.xhr.offRequest=e=>{lC(this.xhr,e)},this.xhr.offResponse=e=>{uC(this.xhr,e)},this.player_.trigger("xhr-hooks-ready")}}const fd={name:"videojs-http-streaming",VERSION:iC,canHandleSource(t,e={}){const i=Ae(F.options,e);return fd.canPlayType(t.type,i)},handleSource(t,e,i={}){const n=Ae(F.options,i);return e.vhs=new cC(t,e,n),e.vhs.xhr=IE(),e.vhs.setupXhrHooks_(),e.vhs.src(t.src,t.type),e.vhs},canPlayType(t,e){const i=cw(t);if(!i)return"";const n=fd.getOverrideNative(e);return!qe.supportsTypeNatively(i)||n?"maybe":""},getOverrideNative(t={}){const{vhs:e={}}=t,i=!(F.browser.IS_ANY_SAFARI||F.browser.IS_IOS),{overrideNative:n=i}=e;return n}},DB=()=>ac("avc1.4d400d,mp4a.40.2");DB()&&F.getTech("Html5").registerSourceHandler(fd,0);F.VhsHandler=cC;F.VhsSourceHandler=fd;F.Vhs=qe;F.use||F.registerComponent("Vhs",qe);F.options.vhs=F.options.vhs||{};(!F.getPlugin||!F.getPlugin("reloadSourceOnError"))&&F.registerPlugin("reloadSourceOnError",mB);function dC({source:t,loop:e}){const i=z.useRef(null),n=z.useRef(null);return z.useEffect(()=>{const r={autoplay:!0,muted:!0,controls:!0,responsive:!1,fluid:!1,loop:!0,liveui:!0,sources:[{src:"http://195.148.104.124:1935/jakelu/striiiimi/hieno-striimi/playlist.m3u8",type:"application/x-mpegURL"},{src:"./placeholder.mp4",type:"video/mp4"}]};if(n.current){const s=n.current;s.autoplay(r.autoplay),s.src(r.sources),s.loop(e),t&&s.src(t)}else{const s=document.createElement("video-js");s.classList.add("vjs-big-play-centered"),i.current.appendChild(s),(n.current=F(s,r,()=>{})).addClass("vjs-theme-city")}},[i,t,e]),z.useEffect(()=>{const r=n.current;return()=>{r&&!r.isDisposed()&&(r.dispose(),n.current=null)}},[n]),C.jsx("div",{"data-vjs-player":!0,className:"h-full",children:C.jsx("div",{ref:i,className:"h-full"})})}dC.propTypes={source:Ie.object,loop:Ie.bool};function AB(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function ng(t,e){return ng=Object.setPrototypeOf||function(i,n){return i.__proto__=n,i},ng(t,e)}function rg(t){return rg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rg(t)}function PB(t,e){if(e&&(rg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}(t)}function pd(t){return pd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},pd(t)}var U2,$2,z2,V2,bi={exports:{}};function IB(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var i,n=pd(t);if(e){var r=pd(this).constructor;i=Reflect.construct(n,arguments,r)}else i=n.apply(this,arguments);return PB(this,i)}}bi.exports=function(){if(V2)return z2;V2=1;var t=$2?U2:($2=1,U2="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED");function e(){}function i(){}return i.resetWarningCache=e,z2=function(){function n(o,a,l,u,d,p){if(p!==t){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}function r(){return n}n.isRequired=n;var s={array:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:r,element:n,elementType:n,instanceOf:r,node:n,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:i,resetWarningCache:e};return s.PropTypes=s,s}}()();var ep,tp,ip,sg=function(t){(function(s,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(o&&o.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),o&&ng(s,o)})(r,J.PureComponent);var e,i,n=IB(r);function r(s){var o;return function(a,l){if(!(a instanceof l))throw new TypeError("Cannot call a class as a function")}(this,r),(o=n.call(this,s)).container=null,o.window=null,o.windowCheckerInterval=null,o.released=!1,o.state={mounted:!1},o}return e=r,(i=[{key:"render",value:function(){return this.state.mounted?P4.createPortal(this.props.children,this.container):null}},{key:"componentDidMount",value:function(){this.window||this.container||(this.openChild(),this.setState({mounted:!0}))}},{key:"openChild",value:function(){var s,o=this,a=this.props,l=a.url,u=a.title,d=a.name,p=a.features,y=a.onBlock,T=a.onOpen,v=a.center;if(typeof v!="string"||p.width!==void 0&&p.height!==void 0){if(v==="parent")p.left=window.top.outerWidth/2+window.top.screenX-p.width/2,p.top=window.top.outerHeight/2+window.top.screenY-p.height/2;else if(v==="screen"){var w=window.screenLeft!==void 0?window.screenLeft:window.screen.left,k=window.screenTop!==void 0?window.screenTop:window.screen.top,x=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:window.screen.width,b=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:window.screen.height;p.left=x/2-p.width/2+w,p.top=b/2-p.height/2+k}}else console.warn("width and height window features must be present when a center prop is provided");if(this.window=window.open(l,d,(s=p,Object.keys(s).reduce(function(E,A){var N=s[A];return typeof N=="boolean"?E.push("".concat(A,"=").concat(N?"yes":"no")):E.push("".concat(A,"=").concat(N)),E},[]).join(","))),this.container=this.window.document.createElement("div"),this.windowCheckerInterval=setInterval(function(){o.window&&!o.window.closed||o.release()},50),this.window){if(this.window.document.title=u,this.container=this.window.document.getElementById("new-window-container"),this.container===null)this.container=this.window.document.createElement("div"),this.container.setAttribute("id","new-window-container"),this.window.document.body.appendChild(this.container);else{var S=this.window.document.getElementById("new-window-container-static");this.window.document.body.removeChild(S)}this.props.copyStyles&&setTimeout(function(){return E=document,A=o.window.document,N=A.createDocumentFragment(),Array.from(E.styleSheets).forEach(function(M){var U;try{U=M.cssRules}catch(ie){console.error(ie)}if(U){var H=[];Array.from(M.cssRules).forEach(function(ie){var q=ie.type;if(q!==CSSRule.UNKNOWN_RULE){var oe="";oe=q===CSSRule.KEYFRAMES_RULE?function(ae){var Z=["@keyframes",ae.name,"{"];return Array.from(ae.cssRules).forEach(function(ee){Z.push(ee.keyText,"{",ee.style.cssText,"}")}),Z.push("}"),Z.join(" ")}(ie):[CSSRule.IMPORT_RULE,CSSRule.FONT_FACE_RULE].includes(q)?function(ae){return ae.cssText.split("url(").map(function(Z){return Z[1]==="/"?"".concat(Z.slice(0,1)).concat(window.location.origin).concat(Z.slice(1)):Z}).join("url(")}(ie):ie.cssText,H.push(oe)}});var j=A.createElement("style");j.textContent=H.join(`
`),N.appendChild(j)}else if(M.href){var Q=A.createElement("link");Q.rel="stylesheet",Q.href=M.href,N.appendChild(Q)}}),void A.head.appendChild(N);var E,A,N},0),typeof T=="function"&&T(this.window),this.window.addEventListener("beforeunload",function(){return o.release()})}else typeof y=="function"?y(null):console.warn("A new window could not be opened. Maybe it was blocked.")}},{key:"componentWillUnmount",value:function(){if(this.state.mounted&&this.window){if(this.props.closeOnUnmount)this.window.close();else if(this.props.children){var s=this.container.cloneNode(!0);s.setAttribute("id","new-window-container-static"),this.window.document.body.appendChild(s)}}}},{key:"release",value:function(){if(!this.released){this.released=!0,clearInterval(this.windowCheckerInterval);var s=this.props.onUnload;typeof s=="function"&&s(null)}}}])&&AB(e.prototype,i),r}();ip={url:"",name:"",title:"",features:{width:"600px",height:"640px"},onBlock:null,onOpen:null,onUnload:null,center:"parent",copyStyles:!0,closeOnUnmount:!0},(tp="defaultProps")in(ep=sg)?Object.defineProperty(ep,tp,{value:ip,enumerable:!0,configurable:!0,writable:!0}):ep[tp]=ip,sg.propTypes={children:bi.exports.node,url:bi.exports.string,name:bi.exports.string,title:bi.exports.string,features:bi.exports.object,onUnload:bi.exports.func,onBlock:bi.exports.func,onOpen:bi.exports.func,center:bi.exports.oneOf(["parent","screen"]),copyStyles:bi.exports.bool,closeOnUnmount:bi.exports.bool};const Tn=Object.create(null);Tn.open="0";Tn.close="1";Tn.ping="2";Tn.pong="3";Tn.message="4";Tn.upgrade="5";Tn.noop="6";const dc=Object.create(null);Object.keys(Tn).forEach(t=>{dc[Tn[t]]=t});const og={type:"error",data:"parser error"},hC=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",fC=typeof ArrayBuffer=="function",pC=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,my=({type:t,data:e},i,n)=>hC&&e instanceof Blob?i?n(e):H2(e,n):fC&&(e instanceof ArrayBuffer||pC(e))?i?n(e):H2(new Blob([e]),n):n(Tn[t]+(e||"")),H2=(t,e)=>{const i=new FileReader;return i.onload=function(){const n=i.result.split(",")[1];e("b"+(n||""))},i.readAsDataURL(t)};function q2(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let np;function OB(t,e){if(hC&&t.data instanceof Blob)return t.data.arrayBuffer().then(q2).then(e);if(fC&&(t.data instanceof ArrayBuffer||pC(t.data)))return e(q2(t.data));my(t,!1,i=>{np||(np=new TextEncoder),e(np.encode(i))})}const W2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Pa=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<W2.length;t++)Pa[W2.charCodeAt(t)]=t;const LB=t=>{let e=t.length*.75,i=t.length,n,r=0,s,o,a,l;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const u=new ArrayBuffer(e),d=new Uint8Array(u);for(n=0;n<i;n+=4)s=Pa[t.charCodeAt(n)],o=Pa[t.charCodeAt(n+1)],a=Pa[t.charCodeAt(n+2)],l=Pa[t.charCodeAt(n+3)],d[r++]=s<<2|o>>4,d[r++]=(o&15)<<4|a>>2,d[r++]=(a&3)<<6|l&63;return u},NB=typeof ArrayBuffer=="function",gy=(t,e)=>{if(typeof t!="string")return{type:"message",data:mC(t,e)};const i=t.charAt(0);return i==="b"?{type:"message",data:RB(t.substring(1),e)}:dc[i]?t.length>1?{type:dc[i],data:t.substring(1)}:{type:dc[i]}:og},RB=(t,e)=>{if(NB){const i=LB(t);return mC(i,e)}else return{base64:!0,data:t}},mC=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},gC=String.fromCharCode(30),MB=(t,e)=>{const i=t.length,n=new Array(i);let r=0;t.forEach((s,o)=>{my(s,!1,a=>{n[o]=a,++r===i&&e(n.join(gC))})})},BB=(t,e)=>{const i=t.split(gC),n=[];for(let r=0;r<i.length;r++){const s=gy(i[r],e);if(n.push(s),s.type==="error")break}return n};function FB(){return new TransformStream({transform(t,e){OB(t,i=>{const n=i.length;let r;if(n<126)r=new Uint8Array(1),new DataView(r.buffer).setUint8(0,n);else if(n<65536){r=new Uint8Array(3);const s=new DataView(r.buffer);s.setUint8(0,126),s.setUint16(1,n)}else{r=new Uint8Array(9);const s=new DataView(r.buffer);s.setUint8(0,127),s.setBigUint64(1,BigInt(n))}t.data&&typeof t.data!="string"&&(r[0]|=128),e.enqueue(r),e.enqueue(i)})}})}let rp;function Hu(t){return t.reduce((e,i)=>e+i.length,0)}function qu(t,e){if(t[0].length===e)return t.shift();const i=new Uint8Array(e);let n=0;for(let r=0;r<e;r++)i[r]=t[0][n++],n===t[0].length&&(t.shift(),n=0);return t.length&&n<t[0].length&&(t[0]=t[0].slice(n)),i}function jB(t,e){rp||(rp=new TextDecoder);const i=[];let n=0,r=-1,s=!1;return new TransformStream({transform(o,a){for(i.push(o);;){if(n===0){if(Hu(i)<1)break;const l=qu(i,1);s=(l[0]&128)===128,r=l[0]&127,r<126?n=3:r===126?n=1:n=2}else if(n===1){if(Hu(i)<2)break;const l=qu(i,2);r=new DataView(l.buffer,l.byteOffset,l.length).getUint16(0),n=3}else if(n===2){if(Hu(i)<8)break;const l=qu(i,8),u=new DataView(l.buffer,l.byteOffset,l.length),d=u.getUint32(0);if(d>Math.pow(2,53-32)-1){a.enqueue(og);break}r=d*Math.pow(2,32)+u.getUint32(4),n=3}else{if(Hu(i)<r)break;const l=qu(i,r);a.enqueue(gy(s?l:rp.decode(l),e)),n=0}if(r===0||r>t){a.enqueue(og);break}}}})}const yC=4;function it(t){if(t)return UB(t)}function UB(t){for(var e in it.prototype)t[e]=it.prototype[e];return t}it.prototype.on=it.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};it.prototype.once=function(t,e){function i(){this.off(t,i),e.apply(this,arguments)}return i.fn=e,this.on(t,i),this};it.prototype.off=it.prototype.removeListener=it.prototype.removeAllListeners=it.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var i=this._callbacks["$"+t];if(!i)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var n,r=0;r<i.length;r++)if(n=i[r],n===e||n.fn===e){i.splice(r,1);break}return i.length===0&&delete this._callbacks["$"+t],this};it.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),i=this._callbacks["$"+t],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(i){i=i.slice(0);for(var n=0,r=i.length;n<r;++n)i[n].apply(this,e)}return this};it.prototype.emitReserved=it.prototype.emit;it.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};it.prototype.hasListeners=function(t){return!!this.listeners(t).length};const wi=(()=>typeof self<"u"?self:typeof window<"u"?window:Function("return this")())();function vC(t,...e){return e.reduce((i,n)=>(t.hasOwnProperty(n)&&(i[n]=t[n]),i),{})}const $B=wi.setTimeout,zB=wi.clearTimeout;function mh(t,e){e.useNativeTimers?(t.setTimeoutFn=$B.bind(wi),t.clearTimeoutFn=zB.bind(wi)):(t.setTimeoutFn=wi.setTimeout.bind(wi),t.clearTimeoutFn=wi.clearTimeout.bind(wi))}const VB=1.33;function HB(t){return typeof t=="string"?qB(t):Math.ceil((t.byteLength||t.size)*VB)}function qB(t){let e=0,i=0;for(let n=0,r=t.length;n<r;n++)e=t.charCodeAt(n),e<128?i+=1:e<2048?i+=2:e<55296||e>=57344?i+=3:(n++,i+=4);return i}function WB(t){let e="";for(let i in t)t.hasOwnProperty(i)&&(e.length&&(e+="&"),e+=encodeURIComponent(i)+"="+encodeURIComponent(t[i]));return e}function GB(t){let e={},i=t.split("&");for(let n=0,r=i.length;n<r;n++){let s=i[n].split("=");e[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return e}class XB extends Error{constructor(e,i,n){super(e),this.description=i,this.context=n,this.type="TransportError"}}class yy extends it{constructor(e){super(),this.writable=!1,mh(this,e),this.opts=e,this.query=e.query,this.socket=e.socket}onError(e,i,n){return super.emitReserved("error",new XB(e,i,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const i=gy(e,this.socket.binaryType);this.onPacket(i)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,i={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(i)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const i=WB(e);return i.length?"?"+i:""}}const _C="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),ag=64,KB={};let G2=0,Wu=0,X2;function K2(t){let e="";do e=_C[t%ag]+e,t=Math.floor(t/ag);while(t>0);return e}function bC(){const t=K2(+new Date);return t!==X2?(G2=0,X2=t):t+"."+K2(G2++)}for(;Wu<ag;Wu++)KB[_C[Wu]]=Wu;let xC=!1;try{xC=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const YB=xC;function TC(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||YB))return new XMLHttpRequest}catch{}if(!e)try{return new wi[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function QB(){}const JB=function(){return new TC({xdomain:!1}).responseType!=null}();class ZB extends yy{constructor(e){if(super(e),this.polling=!1,typeof location<"u"){const n=location.protocol==="https:";let r=location.port;r||(r=n?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||r!==e.port}const i=e&&e.forceBase64;this.supportsBinary=JB&&!i,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";const i=()=>{this.readyState="paused",e()};if(this.polling||!this.writable){let n=0;this.polling&&(n++,this.once("pollComplete",function(){--n||i()})),this.writable||(n++,this.once("drain",function(){--n||i()}))}else i()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const i=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};BB(e,this.socket.binaryType).forEach(i),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,MB(e,i=>{this.doWrite(i,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",i=this.query||{};return this.opts.timestampRequests!==!1&&(i[this.opts.timestampParam]=bC()),!this.supportsBinary&&!i.sid&&(i.b64=1),this.createUri(e,i)}request(e={}){return Object.assign(e,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new gn(this.uri(),e)}doWrite(e,i){const n=this.request({method:"POST",data:e});n.on("success",i),n.on("error",(r,s)=>{this.onError("xhr post error",r,s)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(i,n)=>{this.onError("xhr poll error",i,n)}),this.pollXhr=e}}class gn extends it{constructor(e,i){super(),mh(this,i),this.opts=i,this.method=i.method||"GET",this.uri=e,this.data=i.data!==void 0?i.data:null,this.create()}create(){var e;const i=vC(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");i.xdomain=!!this.opts.xd;const n=this.xhr=new TC(i);try{n.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let r in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(r)&&n.setRequestHeader(r,this.opts.extraHeaders[r])}}catch{}if(this.method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(e=this.opts.cookieJar)===null||e===void 0||e.addCookies(n),"withCredentials"in n&&(n.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(n.timeout=this.opts.requestTimeout),n.onreadystatechange=()=>{var r;n.readyState===3&&((r=this.opts.cookieJar)===null||r===void 0||r.parseCookies(n)),n.readyState===4&&(n.status===200||n.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof n.status=="number"?n.status:0)},0))},n.send(this.data)}catch(r){this.setTimeoutFn(()=>{this.onError(r)},0);return}typeof document<"u"&&(this.index=gn.requestsCount++,gn.requests[this.index]=this)}onError(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}cleanup(e){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=QB,e)try{this.xhr.abort()}catch{}typeof document<"u"&&delete gn.requests[this.index],this.xhr=null}}onLoad(){const e=this.xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}gn.requestsCount=0;gn.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Y2);else if(typeof addEventListener=="function"){const t="onpagehide"in wi?"pagehide":"unload";addEventListener(t,Y2,!1)}}function Y2(){for(let t in gn.requests)gn.requests.hasOwnProperty(t)&&gn.requests[t].abort()}const vy=(()=>typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,i)=>i(e,0))(),Gu=wi.WebSocket||wi.MozWebSocket,Q2=!0,eF="arraybuffer",J2=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class tF extends yy{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const e=this.uri(),i=this.opts.protocols,n=J2?{}:vC(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=Q2&&!J2?i?new Gu(e,i):new Gu(e):new Gu(e,i,n)}catch(r){return this.emitReserved("error",r)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let i=0;i<e.length;i++){const n=e[i],r=i===e.length-1;my(n,this.supportsBinary,s=>{const o={};try{Q2&&this.ws.send(s)}catch{}r&&vy(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",i=this.query||{};return this.opts.timestampRequests&&(i[this.opts.timestampParam]=bC()),this.supportsBinary||(i.b64=1),this.createUri(e,i)}check(){return!!Gu}}class iF extends yy{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(e=>{const i=jB(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=e.readable.pipeThrough(i).getReader(),r=FB();r.readable.pipeTo(e.writable),this.writer=r.writable.getWriter();const s=()=>{n.read().then(({done:a,value:l})=>{a||(this.onPacket(l),s())}).catch(a=>{})};s();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this.writer.write(o).then(()=>this.onOpen())})}))}write(e){this.writable=!1;for(let i=0;i<e.length;i++){const n=e[i],r=i===e.length-1;this.writer.write(n).then(()=>{r&&vy(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this.transport)===null||e===void 0||e.close()}}const nF={websocket:tF,webtransport:iF,polling:ZB},rF=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,sF=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function lg(t){const e=t,i=t.indexOf("["),n=t.indexOf("]");i!=-1&&n!=-1&&(t=t.substring(0,i)+t.substring(i,n).replace(/:/g,";")+t.substring(n,t.length));let r=rF.exec(t||""),s={},o=14;for(;o--;)s[sF[o]]=r[o]||"";return i!=-1&&n!=-1&&(s.source=e,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=oF(s,s.path),s.queryKey=aF(s,s.query),s}function oF(t,e){const i=/\/{2,9}/g,n=e.replace(i,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&n.splice(0,1),e.slice(-1)=="/"&&n.splice(n.length-1,1),n}function aF(t,e){const i={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,r,s){r&&(i[r]=s)}),i}let wC=class Cs extends it{constructor(e,i={}){super(),this.binaryType=eF,this.writeBuffer=[],e&&typeof e=="object"&&(i=e,e=null),e?(e=lg(e),i.hostname=e.host,i.secure=e.protocol==="https"||e.protocol==="wss",i.port=e.port,e.query&&(i.query=e.query)):i.host&&(i.hostname=lg(i.host).host),mh(this,i),this.secure=i.secure!=null?i.secure:typeof location<"u"&&location.protocol==="https:",i.hostname&&!i.port&&(i.port=this.secure?"443":"80"),this.hostname=i.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=i.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=i.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},i),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=GB(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){const i=Object.assign({},this.opts.query);i.EIO=yC,i.transport=e,this.id&&(i.sid=this.id);const n=Object.assign({},this.opts,{query:i,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new nF[e](n)}open(){let e;if(this.opts.rememberUpgrade&&Cs.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)e="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else e=this.transports[0];this.readyState="opening";try{e=this.createTransport(e)}catch{this.transports.shift(),this.open();return}e.open(),this.setTransport(e)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",i=>this.onClose("transport close",i))}probe(e){let i=this.createTransport(e),n=!1;Cs.priorWebsocketSuccess=!1;const r=()=>{n||(i.send([{type:"ping",data:"probe"}]),i.once("packet",p=>{if(!n)if(p.type==="pong"&&p.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",i),!i)return;Cs.priorWebsocketSuccess=i.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(d(),this.setTransport(i),i.send([{type:"upgrade"}]),this.emitReserved("upgrade",i),i=null,this.upgrading=!1,this.flush())})}else{const y=new Error("probe error");y.transport=i.name,this.emitReserved("upgradeError",y)}}))};function s(){n||(n=!0,d(),i.close(),i=null)}const o=p=>{const y=new Error("probe error: "+p);y.transport=i.name,s(),this.emitReserved("upgradeError",y)};function a(){o("transport closed")}function l(){o("socket closed")}function u(p){i&&p.name!==i.name&&s()}const d=()=>{i.removeListener("open",r),i.removeListener("error",o),i.removeListener("close",a),this.off("close",l),this.off("upgrading",u)};i.once("open",r),i.once("error",o),i.once("close",a),this.once("close",l),this.once("upgrading",u),this.upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{n||i.open()},200):i.open()}onOpen(){if(this.readyState="open",Cs.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let e=0;const i=this.upgrades.length;for(;e<i;e++)this.probe(this.upgrades[e])}}onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),this.resetPingTimeout(),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const i=new Error("server error");i.code=e.data,this.onError(i);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this.getWritablePackets();this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let i=1;for(let n=0;n<this.writeBuffer.length;n++){const r=this.writeBuffer[n].data;if(r&&(i+=HB(r)),n>0&&i>this.maxPayload)return this.writeBuffer.slice(0,n);i+=2}return this.writeBuffer}write(e,i,n){return this.sendPacket("message",e,i,n),this}send(e,i,n){return this.sendPacket("message",e,i,n),this}sendPacket(e,i,n,r){if(typeof i=="function"&&(r=i,i=void 0),typeof n=="function"&&(r=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const s={type:e,data:i,options:n};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),r&&this.once("flush",r),this.flush()}close(){const e=()=>{this.onClose("forced close"),this.transport.close()},i=()=>{this.off("upgrade",i),this.off("upgradeError",i),e()},n=()=>{this.once("upgrade",i),this.once("upgradeError",i)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():e()}):this.upgrading?n():e()),this}onError(e){Cs.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}onClose(e,i){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",e,i),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){const i=[];let n=0;const r=e.length;for(;n<r;n++)~this.transports.indexOf(e[n])&&i.push(e[n]);return i}};wC.protocol=yC;function lF(t,e="",i){let n=t;i=i||typeof location<"u"&&location,t==null&&(t=i.protocol+"//"+i.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=i.protocol+t:t=i.host+t),/^(https?|wss?):\/\//.test(t)||(typeof i<"u"?t=i.protocol+"//"+t:t="https://"+t),n=lg(t)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const s=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+s+":"+n.port+e,n.href=n.protocol+"://"+s+(i&&i.port===n.port?"":":"+n.port),n}const uF=typeof ArrayBuffer=="function",cF=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,SC=Object.prototype.toString,dF=typeof Blob=="function"||typeof Blob<"u"&&SC.call(Blob)==="[object BlobConstructor]",hF=typeof File=="function"||typeof File<"u"&&SC.call(File)==="[object FileConstructor]";function _y(t){return uF&&(t instanceof ArrayBuffer||cF(t))||dF&&t instanceof Blob||hF&&t instanceof File}function hc(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let i=0,n=t.length;i<n;i++)if(hc(t[i]))return!0;return!1}if(_y(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return hc(t.toJSON(),!0);for(const i in t)if(Object.prototype.hasOwnProperty.call(t,i)&&hc(t[i]))return!0;return!1}function fF(t){const e=[],i=t.data,n=t;return n.data=ug(i,e),n.attachments=e.length,{packet:n,buffers:e}}function ug(t,e){if(!t)return t;if(_y(t)){const i={_placeholder:!0,num:e.length};return e.push(t),i}else if(Array.isArray(t)){const i=new Array(t.length);for(let n=0;n<t.length;n++)i[n]=ug(t[n],e);return i}else if(typeof t=="object"&&!(t instanceof Date)){const i={};for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=ug(t[n],e));return i}return t}function pF(t,e){return t.data=cg(t.data,e),delete t.attachments,t}function cg(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let i=0;i<t.length;i++)t[i]=cg(t[i],e);else if(typeof t=="object")for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(t[i]=cg(t[i],e));return t}const mF=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],gF=5;var xe;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(xe||(xe={}));class yF{constructor(e){this.replacer=e}encode(e){return(e.type===xe.EVENT||e.type===xe.ACK)&&hc(e)?this.encodeAsBinary({type:e.type===xe.EVENT?xe.BINARY_EVENT:xe.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let i=""+e.type;return(e.type===xe.BINARY_EVENT||e.type===xe.BINARY_ACK)&&(i+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(i+=e.nsp+","),e.id!=null&&(i+=e.id),e.data!=null&&(i+=JSON.stringify(e.data,this.replacer)),i}encodeAsBinary(e){const i=fF(e),n=this.encodeAsString(i.packet),r=i.buffers;return r.unshift(n),r}}function Z2(t){return Object.prototype.toString.call(t)==="[object Object]"}class by extends it{constructor(e){super(),this.reviver=e}add(e){let i;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");i=this.decodeString(e);const n=i.type===xe.BINARY_EVENT;n||i.type===xe.BINARY_ACK?(i.type=n?xe.EVENT:xe.ACK,this.reconstructor=new vF(i),i.attachments===0&&super.emitReserved("decoded",i)):super.emitReserved("decoded",i)}else if(_y(e)||e.base64)if(this.reconstructor)i=this.reconstructor.takeBinaryData(e),i&&(this.reconstructor=null,super.emitReserved("decoded",i));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let i=0;const n={type:Number(e.charAt(0))};if(xe[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===xe.BINARY_EVENT||n.type===xe.BINARY_ACK){const s=i+1;for(;e.charAt(++i)!=="-"&&i!=e.length;);const o=e.substring(s,i);if(o!=Number(o)||e.charAt(i)!=="-")throw new Error("Illegal attachments");n.attachments=Number(o)}if(e.charAt(i+1)==="/"){const s=i+1;for(;++i&&!(e.charAt(i)===","||i===e.length););n.nsp=e.substring(s,i)}else n.nsp="/";const r=e.charAt(i+1);if(r!==""&&Number(r)==r){const s=i+1;for(;++i;){const o=e.charAt(i);if(o==null||Number(o)!=o){--i;break}if(i===e.length)break}n.id=Number(e.substring(s,i+1))}if(e.charAt(++i)){const s=this.tryParse(e.substr(i));if(by.isPayloadValid(n.type,s))n.data=s;else throw new Error("invalid payload")}return n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,i){switch(e){case xe.CONNECT:return Z2(i);case xe.DISCONNECT:return i===void 0;case xe.CONNECT_ERROR:return typeof i=="string"||Z2(i);case xe.EVENT:case xe.BINARY_EVENT:return Array.isArray(i)&&(typeof i[0]=="number"||typeof i[0]=="string"&&mF.indexOf(i[0])===-1);case xe.ACK:case xe.BINARY_ACK:return Array.isArray(i)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class vF{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const i=pF(this.reconPack,this.buffers);return this.finishedReconstruction(),i}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const _F=Object.freeze(Object.defineProperty({__proto__:null,Decoder:by,Encoder:yF,get PacketType(){return xe},protocol:gF},Symbol.toStringTag,{value:"Module"}));function Ui(t,e,i){return t.on(e,i),function(){t.off(e,i)}}const bF=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class EC extends it{constructor(e,i,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=i,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Ui(e,"open",this.onopen.bind(this)),Ui(e,"packet",this.onpacket.bind(this)),Ui(e,"error",this.onerror.bind(this)),Ui(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...i){if(bF.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(i.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(i),this;const n={type:xe.EVENT,data:i};if(n.options={},n.options.compress=this.flags.compress!==!1,typeof i[i.length-1]=="function"){const o=this.ids++,a=i.pop();this._registerAckCallback(o,a),n.id=o}const r=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!r||!this.connected)||(this.connected?(this.notifyOutgoingListeners(n),this.packet(n)):this.sendBuffer.push(n)),this.flags={},this}_registerAckCallback(e,i){var n;const r=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(r===void 0){this.acks[e]=i;return}const s=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let o=0;o<this.sendBuffer.length;o++)this.sendBuffer[o].id===e&&this.sendBuffer.splice(o,1);i.call(this,new Error("operation has timed out"))},r);this.acks[e]=(...o)=>{this.io.clearTimeoutFn(s),i.apply(this,[null,...o])}}emitWithAck(e,...i){const n=this.flags.timeout!==void 0||this._opts.ackTimeout!==void 0;return new Promise((r,s)=>{i.push((o,a)=>n?o?s(o):r(a):r(o)),this.emit(e,...i)})}_addToQueue(e){let i;typeof e[e.length-1]=="function"&&(i=e.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((r,...s)=>n!==this._queue[0]?void 0:(r!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),i&&i(r)):(this._queue.shift(),i&&i(null,...s)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const i=this._queue[0];i.pending&&!e||(i.pending=!0,i.tryCount++,this.flags=i.flags,this.emit.apply(this,i.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:xe.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,i){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,i)}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case xe.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case xe.EVENT:case xe.BINARY_EVENT:this.onevent(e);break;case xe.ACK:case xe.BINARY_ACK:this.onack(e);break;case xe.DISCONNECT:this.ondisconnect();break;case xe.CONNECT_ERROR:this.destroy();const n=new Error(e.data.message);n.data=e.data.data,this.emitReserved("connect_error",n);break}}onevent(e){const i=e.data||[];e.id!=null&&i.push(this.ack(e.id)),this.connected?this.emitEvent(i):this.receiveBuffer.push(Object.freeze(i))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const i=this._anyListeners.slice();for(const n of i)n.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const i=this;let n=!1;return function(...r){n||(n=!0,i.packet({type:xe.ACK,id:e,data:r}))}}onack(e){const i=this.acks[e.id];typeof i=="function"&&(i.apply(this,e.data),delete this.acks[e.id])}onconnect(e,i){this.id=e,this.recovered=i&&this._pid===i,this._pid=i,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:xe.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const i=this._anyListeners;for(let n=0;n<i.length;n++)if(e===i[n])return i.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const i=this._anyOutgoingListeners;for(let n=0;n<i.length;n++)if(e===i[n])return i.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const i=this._anyOutgoingListeners.slice();for(const n of i)n.apply(this,e.data)}}}function zo(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}zo.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),i=Math.floor(e*this.jitter*t);t=Math.floor(e*10)&1?t+i:t-i}return Math.min(t,this.max)|0};zo.prototype.reset=function(){this.attempts=0};zo.prototype.setMin=function(t){this.ms=t};zo.prototype.setMax=function(t){this.max=t};zo.prototype.setJitter=function(t){this.jitter=t};class dg extends it{constructor(e,i){var n;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(i=e,e=void 0),i=i||{},i.path=i.path||"/socket.io",this.opts=i,mh(this,i),this.reconnection(i.reconnection!==!1),this.reconnectionAttempts(i.reconnectionAttempts||1/0),this.reconnectionDelay(i.reconnectionDelay||1e3),this.reconnectionDelayMax(i.reconnectionDelayMax||5e3),this.randomizationFactor((n=i.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new zo({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(i.timeout==null?2e4:i.timeout),this._readyState="closed",this.uri=e;const r=i.parser||_F;this.encoder=new r.Encoder,this.decoder=new r.Decoder,this._autoConnect=i.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var i;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(i=this.backoff)===null||i===void 0||i.setMin(e),this)}randomizationFactor(e){var i;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(i=this.backoff)===null||i===void 0||i.setJitter(e),this)}reconnectionDelayMax(e){var i;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(i=this.backoff)===null||i===void 0||i.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new wC(this.uri,this.opts);const i=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const r=Ui(i,"open",function(){n.onopen(),e&&e()}),s=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),e?e(a):this.maybeReconnectOnOpen()},o=Ui(i,"error",s);if(this._timeout!==!1){const a=this._timeout,l=this.setTimeoutFn(()=>{r(),s(new Error("timeout")),i.close()},a);this.opts.autoUnref&&l.unref(),this.subs.push(()=>{this.clearTimeoutFn(l)})}return this.subs.push(r),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Ui(e,"ping",this.onping.bind(this)),Ui(e,"data",this.ondata.bind(this)),Ui(e,"error",this.onerror.bind(this)),Ui(e,"close",this.onclose.bind(this)),Ui(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(i){this.onclose("parse error",i)}}ondecoded(e){vy(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,i){let n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new EC(this,e,i),this.nsps[e]=n),n}_destroy(e){const i=Object.keys(this.nsps);for(const n of i)if(this.nsps[n].active)return;this._close()}_packet(e){const i=this.encoder.encode(e);for(let n=0;n<i.length;n++)this.engine.write(i[n],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e,i){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,i),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const i=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(r=>{r?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",r)):e.onreconnect()}))},i);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const _a={};function fc(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const i=lF(t,e.path||"/socket.io"),n=i.source,r=i.id,s=i.path,o=_a[r]&&s in _a[r].nsps,a=e.forceNew||e["force new connection"]||e.multiplex===!1||o;let l;return a?l=new dg(n,e):(_a[r]||(_a[r]=new dg(n,e)),l=_a[r]),i.query&&!e.query&&(e.query=i.queryKey),l.socket(i.path,e)}Object.assign(fc,{Manager:dg,Socket:EC,io:fc,connect:fc});const xF="http://localhost:3000",ii=fc(xF),CC=({message:t})=>C.jsxs("div",{className:"flex items-flex-start gap-2 mx-2 p-2 w-fit max-w-full bg-oc-space-blue rounded-md",children:[C.jsxs("div",{className:"flex items-baseline gap-1 h-fit",children:[C.jsx("div",{className:"text-[0.8rem] text-white",children:t.timestamp}),C.jsx("div",{className:"text-white",children:t.username+":"})]}),t.emoji?C.jsx("img",{className:"w-10 h-10 bg-cover",src:`./${t.msg}.png`}):C.jsx("div",{className:"text-white break-all",children:t.msg.length>300?t.msg.slice(0,300):t.msg})]});CC.propTypes={message:Ie.object};function hg({handleWindow:t,windowed:e,setDonationData:i}){const[n,r]=z.useState(""),[s,o]=z.useState([]),[a,l]=z.useState(!1),[u,d]=z.useState("Input a username"),[p,y]=z.useState(!1),[T,v]=z.useState("room1"),[w,k]=z.useState(!1),[x,b]=z.useState(!1),[S,E]=z.useState(!1),[A,N]=z.useState(""),[M,U]=z.useState(5),[H,j]=z.useState("Input a message"),[Q,ie]=z.useState(!1),q=be=>{r(be.target.value)},oe=be=>{be.preventDefault();const bt=n;ii.auth={username:bt},ii.connect(),ii.on("connect",()=>{l(!0),y(!1),d("Write a message"),r("")})},ae=be=>{be.preventDefault(),ii.emit("chat messages",n),r("")},Z=be=>{N(be.target.value)},ee=be=>{U(be.target.value)},W=be=>{be.preventDefault(),N(""),ii.emit("donations",M,A)},te=be=>{const bt=be.target.value;ii.emit("chat messages",bt,!0)},ue=be=>{o([]),ii.emit("join",be),v(be)},we=()=>{w?(S&&(E(!1),b(!0)),x&&(b(!1),k(!1))):(k(!0),b(!0))},De=()=>{w?(x&&(b(!1),E(!0)),S&&(E(!1),k(!1))):(k(!0),E(!0))};return z.useEffect(()=>{a?(ii.emit("chat messages",""),ii.emit("join",T),ii.on("chat messages",be=>{o(be)}),ie(!1),j("Write a message"),ii.on("donations",be=>{i(be)})):ii.connected&&(d("Write a message"),l(!0))},[a,T,i]),z.useEffect(()=>{ii.on("connect_error",be=>{be.message==="invalid username"?(l(!1),d("Input a username")):be.message==="username taken"?(l(!1),y(!0),d("Username taken")):(l(!1),d("Input a username"))})},[]),C.jsxs("div",{className:e?"chat-container":"chat-container rounded-md",children:[C.jsxs("div",{id:"buttons",className:e?"chat-buttons-container lg:justify-center lg:gap-10":"chat-buttons-container",children:[C.jsx("button",{className:T==="room1"?"btn bg-oc-test hover:bg-oc-test text-black":"btn",onClick:()=>{ue("room1")},children:"Room 1"}),C.jsx("button",{className:T==="room2"?"btn bg-oc-test hover:bg-oc-test text-black":"btn",onClick:()=>{ue("room2")},children:"Room 2"}),C.jsx("button",{className:T==="room3"?"btn bg-oc-test hover:bg-oc-test text-black":"btn",onClick:()=>{ue("room3")},children:"Room 3"}),C.jsx("button",{className:e?"icon-btn bg-[url(./dock.svg)]":"icon-btn bg-[url(./pip.svg)]",onClick:t})]}),C.jsx("div",{className:"chat-messages",children:s.map((be,bt)=>C.jsx(CC,{message:be},bt))}),C.jsx("div",{className:w?"w-full p-2 relative":"w-full p-0 relative",children:C.jsxs("div",{className:w?"emoji-container":"h-0",children:[C.jsx("button",{className:w?"icon-btn emoji-toggle-btn":"icon-btn emoji-toggle-btn -top-8 border-solid border-oc-pastel-blue border-2",style:w?{borderRadius:"0.375rem 0.375rem 0 0"}:{borderRadius:"0.375rem"},onClick:we}),C.jsx("button",{className:w?"icon-btn donate-toggle-btn":"icon-btn donate-toggle-btn -top-8 border-solid border-oc-pastel-blue border-2",style:w?{borderRadius:"0.375rem 0.375rem 0 0"}:{borderRadius:"0.375rem"},onClick:De}),C.jsxs("div",{className:x&&a?"flex gap-4 flex-wrap justify-center items-center":"hidden",children:[C.jsx("button",{className:"icon-btn emoji-btn bg-[url(./logo.png)]",value:"logo",onClick:te}),C.jsx("button",{className:"icon-btn emoji-btn bg-[url(./capLamme.png)]",value:"capLamme",onClick:te}),C.jsx("button",{className:"icon-btn emoji-btn bg-[url(./capTea.png)]",value:"capTea",onClick:te}),C.jsx("button",{className:"icon-btn emoji-btn bg-[url(./fishBrain.png)]",value:"fishBrain",onClick:te}),C.jsx("button",{className:"icon-btn emoji-btn bg-[url(./moti.png)]",value:"moti",onClick:te}),C.jsx("button",{className:"icon-btn emoji-btn bg-[url(./poop.png)]",value:"poop",onClick:te}),C.jsx("button",{className:"icon-btn emoji-btn bg-[url(./catge.png)]",value:"catge",onClick:te}),C.jsx("button",{className:"icon-btn emoji-btn bg-[url(./dogege.png)]",value:"dogege",onClick:te}),C.jsx("button",{className:"icon-btn emoji-btn bg-[url(./pepeNo.png)]",value:"pepeNo",onClick:te}),C.jsx("button",{className:"icon-btn emoji-btn bg-[url(./pepeYes.png)]",value:"pepeYes",onClick:te})]}),C.jsx("div",{className:x&&!a?"":"hidden",children:C.jsx("p",{className:"text-white",children:"Submit a username to emote"})}),C.jsxs("form",{className:S&&a?"h-full flex flex-col justify-around items-center":"hidden",onSubmit:W,children:[C.jsxs("div",{className:"w-full flex justify-around",children:[C.jsx("button",{className:M==5?"btn bg-oc-test hover:bg-oc-test text-black py-1":"btn bg-oc-pastel-blue py-1",type:"button",value:5,onClick:ee,children:"5€"}),C.jsx("button",{className:M==10?"btn bg-oc-test hover:bg-oc-test text-black py-1":"btn bg-oc-pastel-blue py-1",type:"button",value:10,onClick:ee,children:"10€"}),C.jsx("button",{className:M==50?"btn bg-oc-test hover:bg-oc-test text-black py-1":"btn bg-oc-pastel-blue py-1",type:"button",value:50,onClick:ee,children:"50€"})]}),C.jsxs("div",{className:"flex",children:[C.jsx("input",{type:"text",value:A,onChange:Z,className:Q?"donate-input-error":"donate-input",placeholder:H}),C.jsx("button",{type:"submit",className:"btn my-2 mr-2 bg-oc-pastel-blue",children:"Confirm"})]})]}),C.jsx("div",{className:S&&!a?"":"hidden",children:C.jsx("p",{className:"text-white",children:"Submit a username to donate"})})]})}),C.jsxs("form",{id:"message-input",onSubmit:a?ae:oe,className:"chat-form",children:[C.jsx("input",{type:"text",value:n,onChange:q,className:p?"chat-input-error":"chat-input",placeholder:u}),C.jsx("button",{type:"submit",className:"w-9 h-9 bg-[url(../sendIcon.svg)] bg-cover absolute right-3"})]})]})}hg.propTypes={handleWindow:Ie.func.isRequired,windowed:Ie.bool.isRequired,setDonationData:Ie.func.isRequired};const ni={1:{title:"Democompo",source:"./movies/Democompo.mp4",trailerSource:"./movies/Democompo_trailer.mp4",premiereDate:"12.10.2023",premiereTime:"12.00.00",runningTime:"00.19.48",expireTime:"13.00.00",ticket:"ticket1"},2:{title:"Mikko EVTEKtoAlaska",source:"./movies/Mikko_EVTEKtoAlaska.mp4",trailerSource:"./movies/Mikko_EVTEKtoAlaska_trailer.mp4",premiereDate:"13.10.2023",premiereTime:"17.00.00",runningTime:"00.01.21",expireTime:"18.00.00",ticket:"ticket2"},3:{title:"Morning_after",source:"./movies/Morning_after.mp4",trailerSource:"./movies/Morning_after_trailer.mp4",premiereDate:"14.10.2023",premiereTime:"15.00.00",runningTime:"00.03.38",expireTime:"16.00.00",ticket:"ticket3"},4:{title:"Museo olohuoneena",source:"./movies/Museo_olohuoneena.mp4",trailerSource:"./movies/Museo_olohuoneena_trailer.mp4",premiereDate:"15.10.2023",premiereTime:"19.00.00",runningTime:"00.02.53",expireTime:"20.00.00",ticket:"ticket4"},5:{title:"Opiskelijaelämää 2009",source:"./movies/Opiskelijaelämää_2009.mp4",trailerSource:"./movies/Opiskelijaelämää_2009_trailer.mp4",premiereDate:"16.10.2023",premiereTime:"20.00.00",runningTime:"00.03.26",expireTime:"21.00.00",ticket:"ticket5"}},Ga="generated",TF="pointerdown",wF="pointerup",eb="pointerleave",SF="pointerout",tb="pointermove",EF="touchstart",ib="touchend",CF="touchmove",kF="touchcancel",DF="resize",AF="visibilitychange",Li="tsParticles - Error";class ri{constructor(e,i,n){if(this._updateFromAngle=(r,s)=>{this.x=Math.cos(r)*s,this.y=Math.sin(r)*s},!ci(e)&&e){this.x=e.x,this.y=e.y;const r=e;this.z=r.z?r.z:0}else if(e!==void 0&&i!==void 0)this.x=e,this.y=i,this.z=n??0;else throw new Error(`${Li} Vector3d not initialized correctly`)}static get origin(){return ri.create(0,0,0)}get angle(){return Math.atan2(this.y,this.x)}set angle(e){this._updateFromAngle(e,this.length)}get length(){return Math.sqrt(this.getLengthSq())}set length(e){this._updateFromAngle(this.angle,e)}static clone(e){return ri.create(e.x,e.y,e.z)}static create(e,i,n){return new ri(e,i,n)}add(e){return ri.create(this.x+e.x,this.y+e.y,this.z+e.z)}addTo(e){this.x+=e.x,this.y+=e.y,this.z+=e.z}copy(){return ri.clone(this)}distanceTo(e){return this.sub(e).length}distanceToSq(e){return this.sub(e).getLengthSq()}div(e){return ri.create(this.x/e,this.y/e,this.z/e)}divTo(e){this.x/=e,this.y/=e,this.z/=e}getLengthSq(){return this.x**2+this.y**2}mult(e){return ri.create(this.x*e,this.y*e,this.z*e)}multTo(e){this.x*=e,this.y*=e,this.z*=e}normalize(){const e=this.length;e!=0&&this.multTo(1/e)}rotate(e){return ri.create(this.x*Math.cos(e)-this.y*Math.sin(e),this.x*Math.sin(e)+this.y*Math.cos(e),0)}setTo(e){this.x=e.x,this.y=e.y;const i=e;this.z=i.z?i.z:0}sub(e){return ri.create(this.x-e.x,this.y-e.y,this.z-e.z)}subFrom(e){this.x-=e.x,this.y-=e.y,this.z-=e.z}}class ki extends ri{constructor(e,i){super(e,i,0)}static get origin(){return ki.create(0,0)}static clone(e){return ki.create(e.x,e.y)}static create(e,i){return new ki(e,i)}}let PF=Math.random;function ye(){return So(PF(),0,1-1e-16)}function So(t,e,i){return Math.min(Math.max(t,e),i)}function Gt(t){const e=gh(t);let i=xy(t);return e===i&&(i=0),ye()*(e-i)+i}function le(t){return ci(t)?t:Gt(t)}function xy(t){return ci(t)?t:t.min}function gh(t){return ci(t)?t:t.max}function he(t,e){if(t===e||e===void 0&&ci(t))return t;const i=xy(t),n=gh(t);return e!==void 0?{min:Math.min(i,e),max:Math.max(n,e)}:he(i,n)}function Ty(t){const e=t.random,{enable:i,minimumValue:n}=yr(e)?{enable:e,minimumValue:0}:e;return le(i?he(t.value,n):t.value)}function io(t,e){const i=t.x-e.x,n=t.y-e.y;return{dx:i,dy:n,distance:Math.sqrt(i**2+n**2)}}function yh(t,e){return io(t,e).distance}function IF(t,e,i){if(ci(t))return t*Math.PI/180;switch(t){case"top":return-Math.PI/2;case"top-right":return-Math.PI/4;case"right":return 0;case"bottom-right":return Math.PI/4;case"bottom":return Math.PI/2;case"bottom-left":return 3*Math.PI/4;case"left":return Math.PI;case"top-left":return-3*Math.PI/4;case"inside":return Math.atan2(i.y-e.y,i.x-e.x);case"outside":return Math.atan2(e.y-i.y,e.x-i.x);default:return ye()*Math.PI*2}}function OF(t){const e=ki.origin;return e.length=1,e.angle=t,e}function LF(t){var e,i;return{x:(((e=t.position)==null?void 0:e.x)??ye()*100)*t.size.width/100,y:(((i=t.position)==null?void 0:i.y)??ye()*100)*t.size.height/100}}function NF(t){var i,n;const e={x:((i=t.position)==null?void 0:i.x)!==void 0?le(t.position.x):void 0,y:((n=t.position)==null?void 0:n.y)!==void 0?le(t.position.y):void 0};return LF({size:t.size,position:e})}function RF(t){var e,i;return{x:((e=t.position)==null?void 0:e.x)??ye()*t.size.width,y:((i=t.position)==null?void 0:i.y)??ye()*t.size.height}}function kC(t){return t?t.endsWith("%")?parseFloat(t)/100:parseFloat(t):1}const MF={debug:console.debug,error:console.error,info:console.info,log:console.log,verbose:console.log,warning:console.warn};function rs(){return MF}function $l(){return typeof window>"u"||!window||typeof window.document>"u"||!window.document}function BF(){return!$l()&&typeof matchMedia<"u"}function wy(t){if(BF())return matchMedia(t)}function FF(t){if(!($l()||typeof MutationObserver>"u"))return new MutationObserver(t)}function Sy(t,e){return t===e||vt(e)&&e.indexOf(t)>-1}async function jF(t,e){try{await document.fonts.load(`${e??"400"} 36px '${t??"Verdana"}'`)}catch{}}function DC(t){return Math.floor(ye()*t.length)}function vh(t,e,i=!0){return t[e!==void 0&&i?e%t.length:DC(t)]}function _h(t,e,i,n,r){return UF(Ey(t,n??0),e,i,r)}function UF(t,e,i,n){let r=!0;return(!n||n==="bottom")&&(r=t.top<e.height+i.x),r&&(!n||n==="left")&&(r=t.right>i.x),r&&(!n||n==="right")&&(r=t.left<e.width+i.y),r&&(!n||n==="top")&&(r=t.bottom>i.y),r}function Ey(t,e){return{bottom:t.y+e,left:t.x-e,right:t.x+e,top:t.y-e}}function nt(t,...e){for(const i of e){if(i==null)continue;if(!Vs(i)){t=i;continue}const n=Array.isArray(i);n&&(Vs(t)||!t||!Array.isArray(t))?t=[]:!n&&(Vs(t)||!t||Array.isArray(t))&&(t={});for(const r in i){if(r==="__proto__")continue;const s=i,o=s[r],a=t;a[r]=Vs(o)&&Array.isArray(o)?o.map(l=>nt(a[r],l)):nt(a[r],o)}}return t}function Gi(t,e){return vt(t)?t.map((i,n)=>e(i,n)):e(t,0)}function gr(t,e,i){return vt(t)?vh(t,e,i):t}function AC(t,e){const i=t.value,n=t.animation,r={delayTime:le(n.delay)*1e3,enable:n.enable,value:le(t.value)*e,max:gh(i)*e,min:xy(i)*e,loops:0,maxLoops:le(n.count),time:0};if(n.enable){switch(r.decay=1-le(n.decay),n.mode){case"increase":r.status="increasing";break;case"decrease":r.status="decreasing";break;case"random":r.status=ye()>=.5?"increasing":"decreasing";break}const s=n.mode==="auto";switch(n.startValue){case"min":r.value=r.min,s&&(r.status="increasing");break;case"max":r.value=r.max,s&&(r.status="decreasing");break;case"random":default:r.value=Gt(r),s&&(r.status=ye()>=.5?"increasing":"decreasing");break}}return r.initialValue=r.value,r}function PC(t,e){if(!(t.mode==="percent")){const{mode:r,...s}=t;return s}return"x"in t?{x:t.x/100*e.width,y:t.y/100*e.height}:{width:t.width/100*e.width,height:t.height/100*e.height}}function IC(t,e){return PC(t,e)}function $F(t,e){return PC(t,e)}function yr(t){return typeof t=="boolean"}function Di(t){return typeof t=="string"}function ci(t){return typeof t=="number"}function OC(t){return typeof t=="function"}function Vs(t){return typeof t=="object"&&t!==null}function vt(t){return Array.isArray(t)}const zF="random",bh=new Map;function nb(t){bh.set(t.key,t)}function sp(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+(e-t)*6*i:i<1/2?e:i<2/3?t+(e-t)*(2/3-i)*6:t}function VF(t){for(const[,s]of bh)if(t.startsWith(s.stringPrefix))return s.parseString(t);const e=/^#?([a-f\d])([a-f\d])([a-f\d])([a-f\d])?$/i,i=t.replace(e,(s,o,a,l,u)=>o+o+a+a+l+l+(u!==void 0?u+u:"")),n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i,r=n.exec(i);return r?{a:r[4]!==void 0?parseInt(r[4],16)/255:1,b:parseInt(r[3],16),g:parseInt(r[2],16),r:parseInt(r[1],16)}:void 0}function no(t,e,i=!0){if(!t)return;const n=Di(t)?{value:t}:t;if(Di(n.value))return LC(n.value,e,i);if(vt(n.value))return no({value:vh(n.value,e,i)});for(const[,r]of bh){const s=r.handleRangeColor(n);if(s)return s}}function LC(t,e,i=!0){if(!t)return;const n=Di(t)?{value:t}:t;if(Di(n.value))return n.value===zF?GF():qF(n.value);if(vt(n.value))return LC({value:vh(n.value,e,i)});for(const[,r]of bh){const s=r.handleColor(n);if(s)return s}}function Sl(t,e,i=!0){const n=no(t,e,i);return n?HF(n):void 0}function HF(t){const e=t.r/255,i=t.g/255,n=t.b/255,r=Math.max(e,i,n),s=Math.min(e,i,n),o={h:0,l:(r+s)/2,s:0};return r!==s&&(o.s=o.l<.5?(r-s)/(r+s):(r-s)/(2-r-s),o.h=e===r?(i-n)/(r-s):o.h=i===r?2+(n-e)/(r-s):4+(e-i)/(r-s)),o.l*=100,o.s*=100,o.h*=60,o.h<0&&(o.h+=360),o.h>=360&&(o.h-=360),o}function qF(t){return VF(t)}function fg(t){const e={b:0,g:0,r:0},i={h:t.h/360,l:t.l/100,s:t.s/100};if(!i.s)e.r=e.g=e.b=i.l;else{const n=i.l<.5?i.l*(1+i.s):i.l+i.s-i.l*i.s,r=2*i.l-n;e.r=sp(r,n,i.h+1/3),e.g=sp(r,n,i.h),e.b=sp(r,n,i.h-1/3)}return e.r=Math.floor(e.r*255),e.g=Math.floor(e.g*255),e.b=Math.floor(e.b*255),e}function WF(t){const e=fg(t);return{a:t.a,b:e.b,g:e.g,r:e.r}}function GF(t){const e=t??0;return{b:Math.floor(Gt(he(e,256))),g:Math.floor(Gt(he(e,256))),r:Math.floor(Gt(he(e,256)))}}function pc(t,e){return`rgba(${t.r}, ${t.g}, ${t.b}, ${e??1})`}function pg(t,e){return`hsla(${t.h}, ${t.s}%, ${t.l}%, ${e??1})`}function rb(t){return t!==void 0?{h:t.h.value,s:t.s.value,l:t.l.value}:void 0}function XF(t,e,i){const n={h:{enable:!1,value:t.h},s:{enable:!1,value:t.s},l:{enable:!1,value:t.l}};return e&&(op(n.h,e.h,i),op(n.s,e.s,i),op(n.l,e.l,i)),n}function op(t,e,i){t.enable=e.enable,t.enable?(t.velocity=le(e.speed)/100*i,t.decay=1-le(e.decay),t.status="increasing",t.loops=0,t.maxLoops=le(e.count),t.time=0,t.delayTime=le(e.delay)*1e3,e.sync||(t.velocity*=ye(),t.value*=ye()),t.initialValue=t.value):t.velocity=0}function KF(t,e,i){t.fillStyle=i??"rgba(0,0,0,0)",t.fillRect(0,0,e.width,e.height)}function YF(t,e,i,n){i&&(t.globalAlpha=n,t.drawImage(i,0,0,e.width,e.height),t.globalAlpha=1)}function ap(t,e){t.clearRect(0,0,e.width,e.height)}function QF(t){const{container:e,context:i,particle:n,delta:r,colorStyles:s,backgroundMask:o,composite:a,radius:l,opacity:u,shadow:d,transform:p}=t,y=n.getPosition(),T=n.rotation+(n.pathRotation?n.velocity.angle:0),v={sin:Math.sin(T),cos:Math.cos(T)},w={a:v.cos*(p.a??1),b:v.sin*(p.b??1),c:-v.sin*(p.c??1),d:v.cos*(p.d??1)};i.setTransform(w.a,w.b,w.c,w.d,y.x,y.y),i.beginPath(),o&&(i.globalCompositeOperation=a);const k=n.shadowColor;d.enable&&k&&(i.shadowBlur=d.blur,i.shadowColor=pc(k),i.shadowOffsetX=d.offset.x,i.shadowOffsetY=d.offset.y),s.fill&&(i.fillStyle=s.fill);const x=n.strokeWidth??0;i.lineWidth=x,s.stroke&&(i.strokeStyle=s.stroke),JF(e,i,n,l,u,r),x>0&&i.stroke(),n.close&&i.closePath(),n.fill&&i.fill(),ZF(e,i,n,l,u,r),i.globalCompositeOperation="source-over",i.setTransform(1,0,0,1,0,0)}function JF(t,e,i,n,r,s){if(!i.shape)return;const o=t.drawers.get(i.shape);o&&o.draw(e,i,n,r,s,t.retina.pixelRatio)}function ZF(t,e,i,n,r,s){if(!i.shape)return;const o=t.drawers.get(i.shape);!o||!o.afterEffect||o.afterEffect(e,i,n,r,s,t.retina.pixelRatio)}function e9(t,e,i){e.draw&&e.draw(t,i)}function t9(t,e,i,n){e.drawParticle&&e.drawParticle(t,i,n)}function i9(t,e,i){return{h:t.h,s:t.s,l:t.l+(e==="darken"?-1:1)*i}}function n9(t,e,i){const n=e[i];n!==void 0&&(t[i]=(t[i]??1)*n)}class r9{constructor(e){this.container=e,this._applyPostDrawUpdaters=i=>{for(const n of this._postDrawUpdaters)n.afterDraw&&n.afterDraw(i)},this._applyPreDrawUpdaters=(i,n,r,s,o,a)=>{for(const l of this._preDrawUpdaters){if(l.getColorStyles){const{fill:u,stroke:d}=l.getColorStyles(n,i,r,s);u&&(o.fill=u),d&&(o.stroke=d)}if(l.getTransformValues){const u=l.getTransformValues(n);for(const d in u)n9(a,u,d)}l.beforeDraw&&l.beforeDraw(n)}},this._applyResizePlugins=()=>{for(const i of this._resizePlugins)i.resize&&i.resize()},this._getPluginParticleColors=i=>{let n,r;for(const s of this._colorPlugins)if(!n&&s.particleFillColor&&(n=Sl(s.particleFillColor(i))),!r&&s.particleStrokeColor&&(r=Sl(s.particleStrokeColor(i))),n&&r)break;return[n,r]},this._initCover=()=>{const i=this.container.actualOptions,n=i.backgroundMask.cover,r=n.color,s=no(r);if(s){const o={...s,a:n.opacity};this._coverColorStyle=pc(o,o.a)}},this._initStyle=()=>{const i=this.element,n=this.container.actualOptions;if(i){this._fullScreen?(this._originalStyle=nt({},i.style),this._setFullScreenStyle()):this._resetOriginalStyle();for(const r in n.style){if(!r||!n.style)continue;const s=n.style[r];s&&i.style.setProperty(r,s,"important")}}},this._initTrail=async()=>{const i=this.container.actualOptions,n=i.particles.move.trail,r=n.fill;if(n.enable)if(r.color){const s=no(r.color);if(!s)return;const o=i.particles.move.trail;this._trailFill={color:{...s},opacity:1/o.length}}else await new Promise((s,o)=>{if(!r.image)return;const a=document.createElement("img");a.addEventListener("load",()=>{this._trailFill={image:a,opacity:1/n.length},s()}),a.addEventListener("error",l=>{o(l.error)}),a.src=r.image})},this._paintBase=i=>{this.draw(n=>KF(n,this.size,i))},this._paintImage=(i,n)=>{this.draw(r=>YF(r,this.size,i,n))},this._repairStyle=()=>{const i=this.element;i&&(this._safeMutationObserver(n=>n.disconnect()),this._initStyle(),this.initBackground(),this._safeMutationObserver(n=>n.observe(i,{attributes:!0})))},this._resetOriginalStyle=()=>{const i=this.element,n=this._originalStyle;if(!(i&&n))return;const r=i.style;r.position=n.position,r.zIndex=n.zIndex,r.top=n.top,r.left=n.left,r.width=n.width,r.height=n.height},this._safeMutationObserver=i=>{this._mutationObserver&&i(this._mutationObserver)},this._setFullScreenStyle=()=>{const i=this.element;if(!i)return;const n="important",r=i.style;r.setProperty("position","fixed",n),r.setProperty("z-index",this.container.actualOptions.fullScreen.zIndex.toString(10),n),r.setProperty("top","0",n),r.setProperty("left","0",n),r.setProperty("width","100%",n),r.setProperty("height","100%",n)},this.size={height:0,width:0},this._context=null,this._generated=!1,this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}get _fullScreen(){return this.container.actualOptions.fullScreen.enable}clear(){const e=this.container.actualOptions,i=e.particles.move.trail,n=this._trailFill;e.backgroundMask.enable?this.paint():i.enable&&i.length>0&&n?n.color?this._paintBase(pc(n.color,n.opacity)):n.image&&this._paintImage(n.image,n.opacity):this.draw(r=>{ap(r,this.size)})}destroy(){if(this.stop(),this._generated){const e=this.element;e&&e.remove()}else this._resetOriginalStyle();this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}draw(e){const i=this._context;if(i)return e(i)}drawParticle(e,i){if(e.spawning||e.destroyed)return;const n=e.getRadius();if(n<=0)return;const r=e.getFillColor(),s=e.getStrokeColor()??r;let[o,a]=this._getPluginParticleColors(e);o||(o=r),a||(a=s),!(!o&&!a)&&this.draw(l=>{var S;const u=this.container,d=u.actualOptions,p=e.options.zIndex,y=(1-e.zIndexFactor)**p.opacityRate,T=e.bubble.opacity??((S=e.opacity)==null?void 0:S.value)??1,v=e.strokeOpacity??T,w=T*y,k=v*y,x={},b={fill:o?pg(o,w):void 0};b.stroke=a?pg(a,k):b.fill,this._applyPreDrawUpdaters(l,e,n,w,b,x),QF({container:u,context:l,particle:e,delta:i,colorStyles:b,backgroundMask:d.backgroundMask.enable,composite:d.backgroundMask.composite,radius:n*(1-e.zIndexFactor)**p.sizeRate,opacity:w,shadow:e.options.shadow,transform:x}),this._applyPostDrawUpdaters(e)})}drawParticlePlugin(e,i,n){this.draw(r=>t9(r,e,i,n))}drawPlugin(e,i){this.draw(n=>e9(n,e,i))}async init(){this._safeMutationObserver(e=>e.disconnect()),this._mutationObserver=FF(e=>{for(const i of e)i.type==="attributes"&&i.attributeName==="style"&&this._repairStyle()}),this.resize(),this._initStyle(),this._initCover();try{await this._initTrail()}catch(e){rs().error(e)}this.initBackground(),this._safeMutationObserver(e=>{this.element&&e.observe(this.element,{attributes:!0})}),this.initUpdaters(),this.initPlugins(),this.paint()}initBackground(){const e=this.container.actualOptions,i=e.background,n=this.element;if(!n)return;const r=n.style;if(r){if(i.color){const s=no(i.color);r.backgroundColor=s?pc(s,i.opacity):""}else r.backgroundColor="";r.backgroundImage=i.image||"",r.backgroundPosition=i.position||"",r.backgroundRepeat=i.repeat||"",r.backgroundSize=i.size||""}}initPlugins(){this._resizePlugins=[];for(const[,e]of this.container.plugins)e.resize&&this._resizePlugins.push(e),(e.particleFillColor||e.particleStrokeColor)&&this._colorPlugins.push(e)}initUpdaters(){this._preDrawUpdaters=[],this._postDrawUpdaters=[];for(const e of this.container.particles.updaters)e.afterDraw&&this._postDrawUpdaters.push(e),(e.getColorStyles||e.getTransformValues||e.beforeDraw)&&this._preDrawUpdaters.push(e)}loadCanvas(e){this._generated&&this.element&&this.element.remove(),this._generated=e.dataset&&Ga in e.dataset?e.dataset[Ga]==="true":this._generated,this.element=e,this.element.ariaHidden="true",this._originalStyle=nt({},this.element.style),this.size.height=e.offsetHeight,this.size.width=e.offsetWidth,this._context=this.element.getContext("2d"),this._safeMutationObserver(i=>{this.element&&i.observe(this.element,{attributes:!0})}),this.container.retina.init(),this.initBackground()}paint(){const e=this.container.actualOptions;this.draw(i=>{e.backgroundMask.enable&&e.backgroundMask.cover?(ap(i,this.size),this._paintBase(this._coverColorStyle)):this._paintBase()})}resize(){if(!this.element)return!1;const e=this.container,i=e.retina.pixelRatio,n=e.canvas.size,r={width:this.element.offsetWidth*i,height:this.element.offsetHeight*i};if(r.height===n.height&&r.width===n.width&&r.height===this.element.height&&r.width===this.element.width)return!1;const s={...n};return this.element.width=n.width=this.element.offsetWidth*i,this.element.height=n.height=this.element.offsetHeight*i,this.container.started&&(this.resizeFactor={width:n.width/s.width,height:n.height/s.height}),!0}stop(){this._safeMutationObserver(e=>e.disconnect()),this._mutationObserver=void 0,this.draw(e=>ap(e,this.size))}async windowResize(){if(!this.element||!this.resize())return;const e=this.container,i=e.updateActualOptions();e.particles.setDensity(),this._applyResizePlugins(),i&&await e.refresh()}}function _i(t,e,i,n,r){if(n){let s={passive:!0};yr(r)?s.capture=r:r!==void 0&&(s=r),t.addEventListener(e,i,s)}else{const s=r;t.removeEventListener(e,i,s)}}class s9{constructor(e){this.container=e,this._doMouseTouchClick=i=>{const n=this.container,r=n.actualOptions;if(this._canPush){const s=n.interactivity.mouse,o=s.position;if(!o)return;s.clickPosition={...o},s.clickTime=new Date().getTime();const a=r.interactivity.events.onClick;Gi(a.mode,l=>this.container.handleClickMode(l))}i.type==="touchend"&&setTimeout(()=>this._mouseTouchFinish(),500)},this._handleThemeChange=i=>{const n=i,r=this.container,s=r.options,o=s.defaultThemes,a=n.matches?o.dark:o.light,l=s.themes.find(u=>u.name===a);l&&l.default.auto&&r.loadTheme(a)},this._handleVisibilityChange=()=>{const i=this.container,n=i.actualOptions;this._mouseTouchFinish(),n.pauseOnBlur&&(document&&document.hidden?(i.pageHidden=!0,i.pause()):(i.pageHidden=!1,i.getAnimationStatus()?i.play(!0):i.draw(!0)))},this._handleWindowResize=async()=>{this._resizeTimeout&&(clearTimeout(this._resizeTimeout),delete this._resizeTimeout),this._resizeTimeout=setTimeout(async()=>{const i=this.container.canvas;i&&await i.windowResize()},this.container.actualOptions.interactivity.events.resize.delay*1e3)},this._manageInteractivityListeners=(i,n)=>{const r=this._handlers,s=this.container,o=s.actualOptions,a=s.interactivity.element;if(!a)return;const l=a,u=s.canvas.element;u&&(u.style.pointerEvents=l===u?"initial":"none"),(o.interactivity.events.onHover.enable||o.interactivity.events.onClick.enable)&&(_i(a,tb,r.mouseMove,n),_i(a,EF,r.touchStart,n),_i(a,CF,r.touchMove,n),o.interactivity.events.onClick.enable?(_i(a,ib,r.touchEndClick,n),_i(a,wF,r.mouseUp,n),_i(a,TF,r.mouseDown,n)):_i(a,ib,r.touchEnd,n),_i(a,i,r.mouseLeave,n),_i(a,kF,r.touchCancel,n))},this._manageListeners=i=>{const n=this._handlers,r=this.container,s=r.actualOptions,o=s.interactivity.detectsOn,a=r.canvas.element;let l=eb;o==="window"?(r.interactivity.element=window,l=SF):o==="parent"&&a?r.interactivity.element=a.parentElement??a.parentNode:r.interactivity.element=a,this._manageMediaMatch(i),this._manageResize(i),this._manageInteractivityListeners(l,i),document&&_i(document,AF,n.visibilityChange,i,!1)},this._manageMediaMatch=i=>{const n=this._handlers,r=wy("(prefers-color-scheme: dark)");if(r){if(r.addEventListener!==void 0){_i(r,"change",n.themeChange,i);return}r.addListener!==void 0&&(i?r.addListener(n.oldThemeChange):r.removeListener(n.oldThemeChange))}},this._manageResize=i=>{const n=this._handlers,r=this.container;if(!r.actualOptions.interactivity.events.resize)return;if(typeof ResizeObserver>"u"){_i(window,DF,n.resize,i);return}const o=r.canvas.element;this._resizeObserver&&!i?(o&&this._resizeObserver.unobserve(o),this._resizeObserver.disconnect(),delete this._resizeObserver):!this._resizeObserver&&i&&o&&(this._resizeObserver=new ResizeObserver(async a=>{a.find(u=>u.target===o)&&await this._handleWindowResize()}),this._resizeObserver.observe(o))},this._mouseDown=()=>{const{interactivity:i}=this.container;if(!i)return;const{mouse:n}=i;n.clicking=!0,n.downPosition=n.position},this._mouseTouchClick=i=>{const n=this.container,r=n.actualOptions,{mouse:s}=n.interactivity;s.inside=!0;let o=!1;const a=s.position;if(!(!a||!r.interactivity.events.onClick.enable)){for(const[,l]of n.plugins)if(l.clickPositionValid&&(o=l.clickPositionValid(a),o))break;o||this._doMouseTouchClick(i),s.clicking=!1}},this._mouseTouchFinish=()=>{const i=this.container.interactivity;if(!i)return;const n=i.mouse;delete n.position,delete n.clickPosition,delete n.downPosition,i.status=eb,n.inside=!1,n.clicking=!1},this._mouseTouchMove=i=>{const n=this.container,r=n.actualOptions,s=n.interactivity,o=n.canvas.element;if(!s||!s.element)return;s.mouse.inside=!0;let a;if(i.type.startsWith("pointer")){this._canPush=!0;const u=i;if(s.element===window){if(o){const d=o.getBoundingClientRect();a={x:u.clientX-d.left,y:u.clientY-d.top}}}else if(r.interactivity.detectsOn==="parent"){const d=u.target,p=u.currentTarget;if(d&&p&&o){const y=d.getBoundingClientRect(),T=p.getBoundingClientRect(),v=o.getBoundingClientRect();a={x:u.offsetX+2*y.left-(T.left+v.left),y:u.offsetY+2*y.top-(T.top+v.top)}}else a={x:u.offsetX??u.clientX,y:u.offsetY??u.clientY}}else u.target===o&&(a={x:u.offsetX??u.clientX,y:u.offsetY??u.clientY})}else if(this._canPush=i.type!=="touchmove",o){const u=i,d=u.touches[u.touches.length-1],p=o.getBoundingClientRect();a={x:d.clientX-(p.left??0),y:d.clientY-(p.top??0)}}const l=n.retina.pixelRatio;a&&(a.x*=l,a.y*=l),s.mouse.position=a,s.status=tb},this._touchEnd=i=>{const n=i,r=Array.from(n.changedTouches);for(const s of r)this._touches.delete(s.identifier);this._mouseTouchFinish()},this._touchEndClick=i=>{const n=i,r=Array.from(n.changedTouches);for(const s of r)this._touches.delete(s.identifier);this._mouseTouchClick(i)},this._touchStart=i=>{const n=i,r=Array.from(n.changedTouches);for(const s of r)this._touches.set(s.identifier,performance.now());this._mouseTouchMove(i)},this._canPush=!0,this._touches=new Map,this._handlers={mouseDown:()=>this._mouseDown(),mouseLeave:()=>this._mouseTouchFinish(),mouseMove:i=>this._mouseTouchMove(i),mouseUp:i=>this._mouseTouchClick(i),touchStart:i=>this._touchStart(i),touchMove:i=>this._mouseTouchMove(i),touchEnd:i=>this._touchEnd(i),touchCancel:i=>this._touchEnd(i),touchEndClick:i=>this._touchEndClick(i),visibilityChange:()=>this._handleVisibilityChange(),themeChange:i=>this._handleThemeChange(i),oldThemeChange:i=>this._handleThemeChange(i),resize:()=>{this._handleWindowResize()}}}addListeners(){this._manageListeners(!0)}removeListeners(){this._manageListeners(!1)}}class Xi{constructor(){this.value=""}static create(e,i){const n=new Xi;return n.load(e),i!==void 0&&(Di(i)||vt(i)?n.load({value:i}):n.load(i)),n}load(e){(e==null?void 0:e.value)!==void 0&&(this.value=e.value)}}class o9{constructor(){this.color=new Xi,this.color.value="",this.image="",this.position="",this.repeat="",this.size="",this.opacity=1}load(e){e&&(e.color!==void 0&&(this.color=Xi.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image),e.position!==void 0&&(this.position=e.position),e.repeat!==void 0&&(this.repeat=e.repeat),e.size!==void 0&&(this.size=e.size),e.opacity!==void 0&&(this.opacity=e.opacity))}}class a9{constructor(){this.color=new Xi,this.color.value="#fff",this.opacity=1}load(e){e&&(e.color!==void 0&&(this.color=Xi.create(this.color,e.color)),e.opacity!==void 0&&(this.opacity=e.opacity))}}class l9{constructor(){this.composite="destination-out",this.cover=new a9,this.enable=!1}load(e){if(e){if(e.composite!==void 0&&(this.composite=e.composite),e.cover!==void 0){const i=e.cover,n=Di(e.cover)?{color:e.cover}:e.cover;this.cover.load(i.color!==void 0?i:{color:n})}e.enable!==void 0&&(this.enable=e.enable)}}}class u9{constructor(){this.enable=!0,this.zIndex=0}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.zIndex!==void 0&&(this.zIndex=e.zIndex))}}class c9{constructor(){this.enable=!1,this.mode=[]}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode))}}class sb{constructor(){this.selectors=[],this.enable=!1,this.mode=[],this.type="circle"}get el(){return this.elementId}set el(e){this.elementId=e}get elementId(){return this.ids}set elementId(e){this.ids=e}get ids(){return Gi(this.selectors,e=>e.replace("#",""))}set ids(e){this.selectors=Gi(e,i=>`#${i}`)}load(e){if(!e)return;const i=e.ids??e.elementId??e.el;i!==void 0&&(this.ids=i),e.selectors!==void 0&&(this.selectors=e.selectors),e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),e.type!==void 0&&(this.type=e.type)}}class d9{constructor(){this.enable=!1,this.force=2,this.smooth=10}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.force!==void 0&&(this.force=e.force),e.smooth!==void 0&&(this.smooth=e.smooth))}}class h9{constructor(){this.enable=!1,this.mode=[],this.parallax=new d9}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),this.parallax.load(e.parallax))}}class f9{constructor(){this.delay=.5,this.enable=!0}load(e){e!==void 0&&(e.delay!==void 0&&(this.delay=e.delay),e.enable!==void 0&&(this.enable=e.enable))}}class p9{constructor(){this.onClick=new c9,this.onDiv=new sb,this.onHover=new h9,this.resize=new f9}get onclick(){return this.onClick}set onclick(e){this.onClick=e}get ondiv(){return this.onDiv}set ondiv(e){this.onDiv=e}get onhover(){return this.onHover}set onhover(e){this.onHover=e}load(e){if(!e)return;this.onClick.load(e.onClick??e.onclick);const i=e.onDiv??e.ondiv;i!==void 0&&(this.onDiv=Gi(i,n=>{const r=new sb;return r.load(n),r})),this.onHover.load(e.onHover??e.onhover),yr(e.resize)?this.resize.enable=e.resize:this.resize.load(e.resize)}}class m9{constructor(e,i){this._engine=e,this._container=i}load(e){if(!e||!this._container)return;const i=this._engine.plugins.interactors.get(this._container);if(i)for(const n of i)n.loadModeOptions&&n.loadModeOptions(this,e)}}class NC{constructor(e,i){this.detectsOn="window",this.events=new p9,this.modes=new m9(e,i)}get detect_on(){return this.detectsOn}set detect_on(e){this.detectsOn=e}load(e){if(!e)return;const i=e.detectsOn??e.detect_on;i!==void 0&&(this.detectsOn=i),this.events.load(e.events),this.modes.load(e.modes)}}class g9{load(e){e&&(e.position&&(this.position={x:e.position.x??50,y:e.position.y??50,mode:e.position.mode??"percent"}),e.options&&(this.options=nt({},e.options)))}}class y9{constructor(){this.maxWidth=1/0,this.options={},this.mode="canvas"}load(e){e&&(e.maxWidth!==void 0&&(this.maxWidth=e.maxWidth),e.mode!==void 0&&(e.mode==="screen"?this.mode="screen":this.mode="canvas"),e.options!==void 0&&(this.options=nt({},e.options)))}}class v9{constructor(){this.auto=!1,this.mode="any",this.value=!1}load(e){e&&(e.auto!==void 0&&(this.auto=e.auto),e.mode!==void 0&&(this.mode=e.mode),e.value!==void 0&&(this.value=e.value))}}class _9{constructor(){this.name="",this.default=new v9}load(e){e&&(e.name!==void 0&&(this.name=e.name),this.default.load(e.default),e.options!==void 0&&(this.options=nt({},e.options)))}}class lp{constructor(){this.count=0,this.enable=!1,this.offset=0,this.speed=1,this.delay=0,this.decay=0,this.sync=!0}load(e){e&&(e.count!==void 0&&(this.count=he(e.count)),e.enable!==void 0&&(this.enable=e.enable),e.offset!==void 0&&(this.offset=he(e.offset)),e.speed!==void 0&&(this.speed=he(e.speed)),e.decay!==void 0&&(this.decay=he(e.decay)),e.delay!==void 0&&(this.delay=he(e.delay)),e.sync!==void 0&&(this.sync=e.sync))}}class b9{constructor(){this.h=new lp,this.s=new lp,this.l=new lp}load(e){e&&(this.h.load(e.h),this.s.load(e.s),this.l.load(e.l))}}class Eo extends Xi{constructor(){super(),this.animation=new b9}static create(e,i){const n=new Eo;return n.load(e),i!==void 0&&(Di(i)||vt(i)?n.load({value:i}):n.load(i)),n}load(e){if(super.load(e),!e)return;const i=e.animation;i!==void 0&&(i.enable!==void 0?this.animation.h.load(i):this.animation.load(e.animation))}}class x9{constructor(){this.speed=2}load(e){e&&e.speed!==void 0&&(this.speed=e.speed)}}class T9{constructor(){this.enable=!0,this.retries=0}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.retries!==void 0&&(this.retries=e.retries))}}class w9{constructor(){this.count=0,this.enable=!1,this.speed=1,this.decay=0,this.delay=0,this.sync=!1}load(e){e&&(e.count!==void 0&&(this.count=he(e.count)),e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=he(e.speed)),e.decay!==void 0&&(this.decay=he(e.decay)),e.delay!==void 0&&(this.delay=he(e.delay)),e.sync!==void 0&&(this.sync=e.sync))}}class RC extends w9{constructor(){super(),this.mode="auto",this.startValue="random"}load(e){super.load(e),e&&(e.minimumValue!==void 0&&(this.minimumValue=e.minimumValue),e.mode!==void 0&&(this.mode=e.mode),e.startValue!==void 0&&(this.startValue=e.startValue))}}class S9{constructor(){this.enable=!1,this.minimumValue=0}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.minimumValue!==void 0&&(this.minimumValue=e.minimumValue))}}class Gn{constructor(){this.random=new S9,this.value=0}load(e){e&&(yr(e.random)?this.random.enable=e.random:this.random.load(e.random),e.value!==void 0&&(this.value=he(e.value,this.random.enable?this.random.minimumValue:void 0)))}}class ob extends Gn{constructor(){super(),this.random.minimumValue=.1,this.value=1}}class MC{constructor(){this.horizontal=new ob,this.vertical=new ob}load(e){e&&(this.horizontal.load(e.horizontal),this.vertical.load(e.vertical))}}class E9{constructor(){this.absorb=new x9,this.bounce=new MC,this.enable=!1,this.maxSpeed=50,this.mode="bounce",this.overlap=new T9}load(e){e&&(this.absorb.load(e.absorb),this.bounce.load(e.bounce),e.enable!==void 0&&(this.enable=e.enable),e.maxSpeed!==void 0&&(this.maxSpeed=he(e.maxSpeed)),e.mode!==void 0&&(this.mode=e.mode),this.overlap.load(e.overlap))}}class C9{constructor(){this.offset=0,this.value=90}load(e){e&&(e.offset!==void 0&&(this.offset=he(e.offset)),e.value!==void 0&&(this.value=he(e.value)))}}class k9{constructor(){this.distance=200,this.enable=!1,this.rotate={x:3e3,y:3e3}}get rotateX(){return this.rotate.x}set rotateX(e){this.rotate.x=e}get rotateY(){return this.rotate.y}set rotateY(e){this.rotate.y=e}load(e){var r,s;if(!e)return;e.distance!==void 0&&(this.distance=he(e.distance)),e.enable!==void 0&&(this.enable=e.enable);const i=((r=e.rotate)==null?void 0:r.x)??e.rotateX;i!==void 0&&(this.rotate.x=i);const n=((s=e.rotate)==null?void 0:s.y)??e.rotateY;n!==void 0&&(this.rotate.y=n)}}class D9{constructor(){this.x=50,this.y=50,this.mode="percent",this.radius=0}load(e){e&&(e.x!==void 0&&(this.x=e.x),e.y!==void 0&&(this.y=e.y),e.mode!==void 0&&(this.mode=e.mode),e.radius!==void 0&&(this.radius=e.radius))}}class A9{constructor(){this.acceleration=9.81,this.enable=!1,this.inverse=!1,this.maxSpeed=50}load(e){e&&(e.acceleration!==void 0&&(this.acceleration=he(e.acceleration)),e.enable!==void 0&&(this.enable=e.enable),e.inverse!==void 0&&(this.inverse=e.inverse),e.maxSpeed!==void 0&&(this.maxSpeed=he(e.maxSpeed)))}}class P9{constructor(){this.clamp=!0,this.delay=new Gn,this.enable=!1,this.options={}}load(e){e&&(e.clamp!==void 0&&(this.clamp=e.clamp),this.delay.load(e.delay),e.enable!==void 0&&(this.enable=e.enable),this.generator=e.generator,e.options&&(this.options=nt(this.options,e.options)))}}class I9{load(e){e&&(e.color!==void 0&&(this.color=Xi.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image))}}class O9{constructor(){this.enable=!1,this.length=10,this.fill=new I9}get fillColor(){return this.fill.color}set fillColor(e){this.fill.load({color:e})}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),(e.fill!==void 0||e.fillColor!==void 0)&&this.fill.load(e.fill||{color:e.fillColor}),e.length!==void 0&&(this.length=e.length))}}class L9{constructor(){this.default="out"}load(e){e&&(e.default!==void 0&&(this.default=e.default),this.bottom=e.bottom??e.default,this.left=e.left??e.default,this.right=e.right??e.default,this.top=e.top??e.default)}}class N9{constructor(){this.acceleration=0,this.enable=!1}load(e){e&&(e.acceleration!==void 0&&(this.acceleration=he(e.acceleration)),e.enable!==void 0&&(this.enable=e.enable),e.position&&(this.position=nt({},e.position)))}}class R9{constructor(){this.angle=new C9,this.attract=new k9,this.center=new D9,this.decay=0,this.distance={},this.direction="none",this.drift=0,this.enable=!1,this.gravity=new A9,this.path=new P9,this.outModes=new L9,this.random=!1,this.size=!1,this.speed=2,this.spin=new N9,this.straight=!1,this.trail=new O9,this.vibrate=!1,this.warp=!1}get bounce(){return this.collisions}set bounce(e){this.collisions=e}get collisions(){return!1}set collisions(e){}get noise(){return this.path}set noise(e){this.path=e}get outMode(){return this.outModes.default}set outMode(e){this.outModes.default=e}get out_mode(){return this.outMode}set out_mode(e){this.outMode=e}load(e){if(!e)return;this.angle.load(ci(e.angle)?{value:e.angle}:e.angle),this.attract.load(e.attract),this.center.load(e.center),e.decay!==void 0&&(this.decay=he(e.decay)),e.direction!==void 0&&(this.direction=e.direction),e.distance!==void 0&&(this.distance=ci(e.distance)?{horizontal:e.distance,vertical:e.distance}:{...e.distance}),e.drift!==void 0&&(this.drift=he(e.drift)),e.enable!==void 0&&(this.enable=e.enable),this.gravity.load(e.gravity);const i=e.outModes??e.outMode??e.out_mode;i!==void 0&&(Vs(i)?this.outModes.load(i):this.outModes.load({default:i})),this.path.load(e.path??e.noise),e.random!==void 0&&(this.random=e.random),e.size!==void 0&&(this.size=e.size),e.speed!==void 0&&(this.speed=he(e.speed)),this.spin.load(e.spin),e.straight!==void 0&&(this.straight=e.straight),this.trail.load(e.trail),e.vibrate!==void 0&&(this.vibrate=e.vibrate),e.warp!==void 0&&(this.warp=e.warp)}}class M9 extends RC{constructor(){super(),this.destroy="none",this.speed=2}get opacity_min(){return this.minimumValue}set opacity_min(e){this.minimumValue=e}load(e){(e==null?void 0:e.opacity_min)!==void 0&&e.minimumValue===void 0&&(e.minimumValue=e.opacity_min),super.load(e),e&&e.destroy!==void 0&&(this.destroy=e.destroy)}}class B9 extends Gn{constructor(){super(),this.animation=new M9,this.random.minimumValue=.1,this.value=1}get anim(){return this.animation}set anim(e){this.animation=e}load(e){if(!e)return;super.load(e);const i=e.animation??e.anim;i!==void 0&&(this.animation.load(i),this.value=he(this.value,this.animation.enable?this.animation.minimumValue:void 0))}}class F9{constructor(){this.enable=!1,this.width=1920,this.height=1080}get area(){return this.width}set area(e){this.width=e}get factor(){return this.height}set factor(e){this.height=e}get value_area(){return this.area}set value_area(e){this.area=e}load(e){if(!e)return;e.enable!==void 0&&(this.enable=e.enable);const i=e.width??e.area??e.value_area;i!==void 0&&(this.width=i);const n=e.height??e.factor;n!==void 0&&(this.height=n)}}class j9{constructor(){this.density=new F9,this.limit=0,this.value=0}get max(){return this.limit}set max(e){this.limit=e}load(e){if(!e)return;this.density.load(e.density);const i=e.limit??e.max;i!==void 0&&(this.limit=i),e.value!==void 0&&(this.value=e.value)}}class U9{constructor(){this.blur=0,this.color=new Xi,this.enable=!1,this.offset={x:0,y:0},this.color.value="#000"}load(e){e&&(e.blur!==void 0&&(this.blur=e.blur),this.color=Xi.create(this.color,e.color),e.enable!==void 0&&(this.enable=e.enable),e.offset!==void 0&&(e.offset.x!==void 0&&(this.offset.x=e.offset.x),e.offset.y!==void 0&&(this.offset.y=e.offset.y)))}}const up="character",cp="char",dp="image",hp="images",fp="polygon",pp="star";class $9{constructor(){this.loadShape=(e,i,n,r)=>{if(!e)return;const s=vt(e),o=s?[]:{},a=s!==vt(this.options[i]),l=s!==vt(this.options[n]);a&&(this.options[i]=o),l&&r&&(this.options[n]=o),this.options[i]=nt(this.options[i]??o,e),(!this.options[n]||r)&&(this.options[n]=nt(this.options[n]??o,e))},this.close=!0,this.fill=!0,this.options={},this.type="circle"}get character(){return this.options[up]??this.options[cp]}set character(e){this.options[cp]=this.options[up]=e}get custom(){return this.options}set custom(e){this.options=e}get image(){return this.options[dp]??this.options[hp]}set image(e){this.options[hp]=this.options[dp]=e}get images(){return this.image}set images(e){this.image=e}get polygon(){return this.options[fp]??this.options[pp]}set polygon(e){this.options[pp]=this.options[fp]=e}get stroke(){return[]}set stroke(e){}load(e){if(!e)return;const i=e.options??e.custom;if(i!==void 0)for(const n in i){const r=i[n];r&&(this.options[n]=nt(this.options[n]??{},r))}this.loadShape(e.character,up,cp,!0),this.loadShape(e.polygon,fp,pp,!1),this.loadShape(e.image??e.images,dp,hp,!0),e.close!==void 0&&(this.close=e.close),e.fill!==void 0&&(this.fill=e.fill),e.type!==void 0&&(this.type=e.type)}}class z9 extends RC{constructor(){super(),this.destroy="none",this.speed=5}get size_min(){return this.minimumValue}set size_min(e){this.minimumValue=e}load(e){(e==null?void 0:e.size_min)!==void 0&&e.minimumValue===void 0&&(e.minimumValue=e.size_min),super.load(e),e&&e.destroy!==void 0&&(this.destroy=e.destroy)}}class V9 extends Gn{constructor(){super(),this.animation=new z9,this.random.minimumValue=1,this.value=3}get anim(){return this.animation}set anim(e){this.animation=e}load(e){if(super.load(e),!e)return;const i=e.animation??e.anim;i!==void 0&&(this.animation.load(i),this.value=he(this.value,this.animation.enable?this.animation.minimumValue:void 0))}}class ab{constructor(){this.width=0}load(e){e&&(e.color!==void 0&&(this.color=Eo.create(this.color,e.color)),e.width!==void 0&&(this.width=he(e.width)),e.opacity!==void 0&&(this.opacity=he(e.opacity)))}}class H9 extends Gn{constructor(){super(),this.opacityRate=1,this.sizeRate=1,this.velocityRate=1}load(e){super.load(e),e&&(e.opacityRate!==void 0&&(this.opacityRate=e.opacityRate),e.sizeRate!==void 0&&(this.sizeRate=e.sizeRate),e.velocityRate!==void 0&&(this.velocityRate=e.velocityRate))}}class q9{constructor(e,i){this._engine=e,this._container=i,this.bounce=new MC,this.collisions=new E9,this.color=new Eo,this.color.value="#fff",this.groups={},this.move=new R9,this.number=new j9,this.opacity=new B9,this.reduceDuplicates=!1,this.shadow=new U9,this.shape=new $9,this.size=new V9,this.stroke=new ab,this.zIndex=new H9}load(e){var r,s,o;if(!e)return;if(this.bounce.load(e.bounce),this.color.load(Eo.create(this.color,e.color)),e.groups!==void 0)for(const a in e.groups){const l=e.groups[a];l!==void 0&&(this.groups[a]=nt(this.groups[a]??{},l))}this.move.load(e.move),this.number.load(e.number),this.opacity.load(e.opacity),e.reduceDuplicates!==void 0&&(this.reduceDuplicates=e.reduceDuplicates),this.shape.load(e.shape),this.size.load(e.size),this.shadow.load(e.shadow),this.zIndex.load(e.zIndex);const i=((r=e.move)==null?void 0:r.collisions)??((s=e.move)==null?void 0:s.bounce);i!==void 0&&(this.collisions.enable=i),this.collisions.load(e.collisions),e.interactivity!==void 0&&(this.interactivity=nt({},e.interactivity));const n=e.stroke??((o=e.shape)==null?void 0:o.stroke);if(n&&(this.stroke=Gi(n,a=>{const l=new ab;return l.load(a),l})),this._container){const a=this._engine.plugins.updaters.get(this._container);if(a)for(const u of a)u.loadOptions&&u.loadOptions(this,e);const l=this._engine.plugins.interactors.get(this._container);if(l)for(const u of l)u.loadParticlesOptions&&u.loadParticlesOptions(this,e)}}}function BC(t,...e){for(const i of e)t.load(i)}function FC(t,e,...i){const n=new q9(t,e);return BC(n,...i),n}class W9{constructor(e,i){this._findDefaultTheme=n=>this.themes.find(r=>r.default.value&&r.default.mode===n)??this.themes.find(r=>r.default.value&&r.default.mode==="any"),this._importPreset=n=>{this.load(this._engine.plugins.getPreset(n))},this._engine=e,this._container=i,this.autoPlay=!0,this.background=new o9,this.backgroundMask=new l9,this.defaultThemes={},this.delay=0,this.fullScreen=new u9,this.detectRetina=!0,this.duration=0,this.fpsLimit=120,this.interactivity=new NC(e,i),this.manualParticles=[],this.particles=FC(this._engine,this._container),this.pauseOnBlur=!0,this.pauseOnOutsideViewport=!0,this.responsive=[],this.smooth=!1,this.style={},this.themes=[],this.zLayers=100}get backgroundMode(){return this.fullScreen}set backgroundMode(e){this.fullScreen.load(e)}get fps_limit(){return this.fpsLimit}set fps_limit(e){this.fpsLimit=e}get retina_detect(){return this.detectRetina}set retina_detect(e){this.detectRetina=e}load(e){var o,a;if(!e)return;e.preset!==void 0&&Gi(e.preset,l=>this._importPreset(l)),e.autoPlay!==void 0&&(this.autoPlay=e.autoPlay),e.delay!==void 0&&(this.delay=he(e.delay));const i=e.detectRetina??e.retina_detect;i!==void 0&&(this.detectRetina=i),e.duration!==void 0&&(this.duration=he(e.duration));const n=e.fpsLimit??e.fps_limit;n!==void 0&&(this.fpsLimit=n),e.pauseOnBlur!==void 0&&(this.pauseOnBlur=e.pauseOnBlur),e.pauseOnOutsideViewport!==void 0&&(this.pauseOnOutsideViewport=e.pauseOnOutsideViewport),e.zLayers!==void 0&&(this.zLayers=e.zLayers),this.background.load(e.background);const r=e.fullScreen??e.backgroundMode;yr(r)?this.fullScreen.enable=r:this.fullScreen.load(r),this.backgroundMask.load(e.backgroundMask),this.interactivity.load(e.interactivity),e.manualParticles&&(this.manualParticles=e.manualParticles.map(l=>{const u=new g9;return u.load(l),u})),this.particles.load(e.particles),this.style=nt(this.style,e.style),this._engine.plugins.loadOptions(this,e),e.smooth!==void 0&&(this.smooth=e.smooth);const s=this._engine.plugins.interactors.get(this._container);if(s)for(const l of s)l.loadOptions&&l.loadOptions(this,e);if(e.responsive!==void 0)for(const l of e.responsive){const u=new y9;u.load(l),this.responsive.push(u)}if(this.responsive.sort((l,u)=>l.maxWidth-u.maxWidth),e.themes!==void 0)for(const l of e.themes){const u=this.themes.find(d=>d.name===l.name);if(u)u.load(l);else{const d=new _9;d.load(l),this.themes.push(d)}}this.defaultThemes.dark=(o=this._findDefaultTheme("dark"))==null?void 0:o.name,this.defaultThemes.light=(a=this._findDefaultTheme("light"))==null?void 0:a.name}setResponsive(e,i,n){this.load(n);const r=this.responsive.find(s=>s.mode==="screen"&&screen?s.maxWidth>screen.availWidth:s.maxWidth*i>e);return this.load(r==null?void 0:r.options),r==null?void 0:r.maxWidth}setTheme(e){if(e){const i=this.themes.find(n=>n.name===e);i&&this.load(i.options)}else{const i=wy("(prefers-color-scheme: dark)"),n=i&&i.matches,r=this._findDefaultTheme(n?"dark":"light");r&&this.load(r.options)}}}class G9{constructor(e,i){this.container=i,this._engine=e,this._interactors=e.plugins.getInteractors(this.container,!0),this._externalInteractors=[],this._particleInteractors=[]}async externalInteract(e){for(const i of this._externalInteractors)i.isEnabled()&&await i.interact(e)}handleClickMode(e){for(const i of this._externalInteractors)i.handleClickMode&&i.handleClickMode(e)}init(){this._externalInteractors=[],this._particleInteractors=[];for(const e of this._interactors){switch(e.type){case"external":this._externalInteractors.push(e);break;case"particles":this._particleInteractors.push(e);break}e.init()}}async particlesInteract(e,i){for(const n of this._externalInteractors)n.clear(e,i);for(const n of this._particleInteractors)n.isEnabled(e)&&await n.interact(e,i)}async reset(e){for(const i of this._externalInteractors)i.isEnabled()&&i.reset(e);for(const i of this._particleInteractors)i.isEnabled(e)&&i.reset(e)}}const lb=t=>{if(!Sy(t.outMode,t.checkModes))return;const e=t.radius*2;t.coord>t.maxCoord-e?t.setCb(-t.radius):t.coord<e&&t.setCb(t.radius)};class X9{constructor(e,i,n,r,s,o){this.container=n,this._calcPosition=(a,l,u,d=0)=>{for(const[,b]of a.plugins){const S=b.particlePosition!==void 0?b.particlePosition(l,this):void 0;if(S)return ri.create(S.x,S.y,u)}const p=a.canvas.size,y=RF({size:p,position:l}),T=ri.create(y.x,y.y,u),v=this.getRadius(),w=this.options.move.outModes,k=b=>{lb({outMode:b,checkModes:["bounce","bounce-horizontal"],coord:T.x,maxCoord:a.canvas.size.width,setCb:S=>T.x+=S,radius:v})},x=b=>{lb({outMode:b,checkModes:["bounce","bounce-vertical"],coord:T.y,maxCoord:a.canvas.size.height,setCb:S=>T.y+=S,radius:v})};return k(w.left??w.default),k(w.right??w.default),x(w.top??w.default),x(w.bottom??w.default),this._checkOverlap(T,d)?this._calcPosition(a,void 0,u,d+1):T},this._calculateVelocity=()=>{const a=OF(this.direction),l=a.copy(),u=this.options.move;if(u.direction==="inside"||u.direction==="outside")return l;const d=Math.PI/180*le(u.angle.value),p=Math.PI/180*le(u.angle.offset),y={left:p-d/2,right:p+d/2};return u.straight||(l.angle+=Gt(he(y.left,y.right))),u.random&&typeof u.speed=="number"&&(l.length*=ye()),l},this._checkOverlap=(a,l=0)=>{const u=this.options.collisions,d=this.getRadius();if(!u.enable)return!1;const p=u.overlap;if(p.enable)return!1;const y=p.retries;if(y>=0&&l>y)throw new Error(`${Li} particle is overlapping and can't be placed`);return!!this.container.particles.find(T=>yh(a,T.position)<d+T.getRadius())},this._getRollColor=a=>{if(!a||!this.roll||!this.backColor&&!this.roll.alter)return a;const l=this.roll.horizontal&&this.roll.vertical?2:1,u=this.roll.horizontal?Math.PI/2:0;return Math.floor(((this.roll.angle??0)+u)/(Math.PI/l))%2?this.backColor?this.backColor:this.roll.alter?i9(a,this.roll.alter.type,this.roll.alter.value):a:a},this._initPosition=a=>{const l=this.container,u=le(this.options.zIndex.value);this.position=this._calcPosition(l,a,So(u,0,l.zLayers)),this.initialPosition=this.position.copy();const d=l.canvas.size;switch(this.moveCenter={...IC(this.options.move.center,d),radius:this.options.move.center.radius??0,mode:this.options.move.center.mode??"percent"},this.direction=IF(this.options.move.direction,this.position,this.moveCenter),this.options.move.direction){case"inside":this.outType="inside";break;case"outside":this.outType="outside";break}this.offset=ki.origin},this._loadShapeData=(a,l)=>{const u=a.options[this.shape];if(u)return nt({close:a.close,fill:a.fill},gr(u,this.id,l))},this._engine=e,this.init(i,r,s,o)}destroy(e){if(this.unbreakable||this.destroyed)return;this.destroyed=!0,this.bubble.inRange=!1,this.slow.inRange=!1;const i=this.container,n=this.pathGenerator;for(const[,r]of i.plugins)r.particleDestroyed&&r.particleDestroyed(this,e);for(const r of i.particles.updaters)r.particleDestroyed&&r.particleDestroyed(this,e);n&&n.reset(this)}draw(e){const i=this.container;for(const[,n]of i.plugins)i.canvas.drawParticlePlugin(n,this,e);i.canvas.drawParticle(this,e)}getFillColor(){return this._getRollColor(this.bubble.color??rb(this.color))}getMass(){return this.getRadius()**2*Math.PI/2}getPosition(){return{x:this.position.x+this.offset.x,y:this.position.y+this.offset.y,z:this.position.z}}getRadius(){return this.bubble.radius??this.size.value}getStrokeColor(){return this._getRollColor(this.bubble.color??rb(this.strokeColor))}init(e,i,n,r){const s=this.container,o=this._engine;this.id=e,this.group=r,this.fill=!0,this.pathRotation=!1,this.close=!0,this.lastPathTime=0,this.destroyed=!1,this.unbreakable=!1,this.rotation=0,this.misplaced=!1,this.retina={maxDistance:{}},this.outType="normal",this.ignoresResizeRatio=!0;const a=s.retina.pixelRatio,l=s.actualOptions,u=FC(this._engine,s,l.particles),d=u.shape.type,{reduceDuplicates:p}=u;this.shape=gr(d,this.id,p);const y=u.shape;if(n&&n.shape&&n.shape.type){const S=n.shape.type,E=gr(S,this.id,p);E&&(this.shape=E,y.load(n.shape))}this.shapeData=this._loadShapeData(y,p),u.load(n);const T=this.shapeData;T&&u.load(T.particles);const v=new NC(o,s);v.load(s.actualOptions.interactivity),v.load(u.interactivity),this.interactivity=v,this.fill=(T==null?void 0:T.fill)??u.shape.fill,this.close=(T==null?void 0:T.close)??u.shape.close,this.options=u;const w=this.options.move.path;this.pathDelay=Ty(w.delay)*1e3,w.generator&&(this.pathGenerator=this._engine.plugins.getPathGenerator(w.generator),this.pathGenerator&&s.addPath(w.generator,this.pathGenerator)&&this.pathGenerator.init(s)),s.retina.initParticle(this),this.size=AC(this.options.size,a),this.bubble={inRange:!1},this.slow={inRange:!1,factor:1},this._initPosition(i),this.initialVelocity=this._calculateVelocity(),this.velocity=this.initialVelocity.copy(),this.moveDecay=1-le(this.options.move.decay);const k=s.particles;k.needsSort=k.needsSort||k.lastZIndex<this.position.z,k.lastZIndex=this.position.z,this.zIndexFactor=this.position.z/s.zLayers,this.sides=24;let x=s.drawers.get(this.shape);x||(x=this._engine.plugins.getShapeDrawer(this.shape),x&&s.drawers.set(this.shape,x)),x&&x.loadShape&&x.loadShape(this);const b=x==null?void 0:x.getSidesCount;b&&(this.sides=b(this)),this.spawning=!1,this.shadowColor=no(this.options.shadow.color);for(const S of s.particles.updaters)S.init(this);for(const S of s.particles.movers)S.init&&S.init(this);x&&x.particleInit&&x.particleInit(s,this);for(const[,S]of s.plugins)S.particleCreated&&S.particleCreated(this)}isInsideCanvas(){const e=this.getRadius(),i=this.container.canvas.size,n=this.position;return n.x>=-e&&n.y>=-e&&n.y<=i.height+e&&n.x<=i.width+e}isVisible(){return!this.destroyed&&!this.spawning&&this.isInsideCanvas()}reset(){for(const e of this.container.particles.updaters)e.reset&&e.reset(this)}}class K9{constructor(e,i){this.position=e,this.particle=i}}class jC{constructor(e,i){this.position={x:e,y:i}}}class Co extends jC{constructor(e,i,n,r){super(e,i),this.size={height:r,width:n}}contains(e){const i=this.size.width,n=this.size.height,r=this.position;return e.x>=r.x&&e.x<=r.x+i&&e.y>=r.y&&e.y<=r.y+n}intersects(e){e instanceof xh&&e.intersects(this);const i=this.size.width,n=this.size.height,r=this.position,s=e.position,o=e instanceof Co?e.size:{width:0,height:0},a=o.width,l=o.height;return s.x<r.x+i&&s.x+a>r.x&&s.y<r.y+n&&s.y+l>r.y}}class xh extends jC{constructor(e,i,n){super(e,i),this.radius=n}contains(e){return yh(e,this.position)<=this.radius}intersects(e){const i=this.position,n=e.position,r={x:Math.abs(n.x-i.x),y:Math.abs(n.y-i.y)},s=this.radius;if(e instanceof xh){const o=s+e.radius,a=Math.sqrt(r.x**2+r.y**2);return o>a}else if(e instanceof Co){const{width:o,height:a}=e.size;return Math.pow(r.x-o,2)+Math.pow(r.y-a,2)<=s**2||r.x<=s+o&&r.y<=s+a||r.x<=o||r.y<=a}return!1}}class md{constructor(e,i){this.rectangle=e,this.capacity=i,this._subdivide=()=>{const{x:n,y:r}=this.rectangle.position,{width:s,height:o}=this.rectangle.size,{capacity:a}=this;for(let l=0;l<4;l++)this._subs.push(new md(new Co(n+s/2*(l%2),r+o/2*(Math.round(l/2)-l%2),s/2,o/2),a));this._divided=!0},this._points=[],this._divided=!1,this._subs=[]}insert(e){return this.rectangle.contains(e.position)?this._points.length<this.capacity?(this._points.push(e),!0):(this._divided||this._subdivide(),this._subs.some(i=>i.insert(e))):!1}query(e,i,n){const r=n||[];if(!e.intersects(this.rectangle))return[];for(const s of this._points)!e.contains(s.position)&&yh(e.position,s.position)>s.particle.getRadius()&&(!i||i(s.particle))||r.push(s.particle);if(this._divided)for(const s of this._subs)s.query(e,i,r);return r}queryCircle(e,i,n){return this.query(new xh(e.x,e.y,i),n)}queryRectangle(e,i,n){return this.query(new Co(e.x,e.y,i.width,i.height),n)}}const ub=4,cb=t=>new Co(-t.width/4,-t.height/4,t.width*3/2,t.height*3/2);class Y9{constructor(e,i){this._applyDensity=(r,s,o)=>{var T;if(!((T=r.number.density)!=null&&T.enable))return;const a=r.number,l=this._initDensityFactor(a.density),u=a.value,d=a.limit>0?a.limit:u,p=Math.min(u,d)*l+s,y=Math.min(this.count,this.filter(v=>v.group===o).length);this.limit=a.limit*l,y<p?this.push(Math.abs(p-y),void 0,r,o):y>p&&this.removeQuantity(y-p,o)},this._initDensityFactor=r=>{const s=this._container;if(!s.canvas.element||!r.enable)return 1;const o=s.canvas.element,a=s.retina.pixelRatio;return o.width*o.height/(r.factor*a**2*r.area)},this._pushParticle=(r,s,o,a)=>{try{let l=this.pool.pop();l?l.init(this._nextId,r,s,o):l=new X9(this._engine,this._nextId,this._container,r,s,o);let u=!0;return a&&(u=a(l)),u?(this._array.push(l),this._zArray.push(l),this._nextId++,this._engine.dispatchEvent("particleAdded",{container:this._container,data:{particle:l}}),l):void 0}catch(l){rs().warning(`${Li} adding particle: ${l}`);return}},this._removeParticle=(r,s,o)=>{const a=this._array[r];if(!a||a.group!==s)return!1;a.destroy(o);const l=this._zArray.indexOf(a);return this._array.splice(r,1),this._zArray.splice(l,1),this.pool.push(a),this._engine.dispatchEvent("particleRemoved",{container:this._container,data:{particle:a}}),!0},this._engine=e,this._container=i,this._nextId=0,this._array=[],this._zArray=[],this.pool=[],this.limit=0,this.needsSort=!1,this.lastZIndex=0,this._interactionManager=new G9(e,i);const n=i.canvas.size;this.quadTree=new md(cb(n),ub),this.movers=this._engine.plugins.getMovers(i,!0),this.updaters=this._engine.plugins.getUpdaters(i,!0)}get count(){return this._array.length}addManualParticles(){const e=this._container,i=e.actualOptions;for(const n of i.manualParticles)this.addParticle(n.position?IC(n.position,e.canvas.size):void 0,n.options)}addParticle(e,i,n,r){const s=this._container,o=s.actualOptions,a=o.particles.number.limit;if(a>0){const l=this.count+1-a;l>0&&this.removeQuantity(l)}return this._pushParticle(e,i,n,r)}clear(){this._array=[],this._zArray=[]}destroy(){this._array=[],this._zArray=[],this.movers=[],this.updaters=[]}async draw(e){const i=this._container;i.canvas.clear(),await this.update(e);for(const[,n]of i.plugins)i.canvas.drawPlugin(n,e);for(const n of this._zArray)n.draw(e)}filter(e){return this._array.filter(e)}find(e){return this._array.find(e)}handleClickMode(e){this._interactionManager.handleClickMode(e)}init(){var r;const e=this._container,i=e.actualOptions;this.lastZIndex=0,this.needsSort=!1;let n=!1;this.updaters=this._engine.plugins.getUpdaters(e,!0),this._interactionManager.init();for(const[,s]of e.plugins)if(s.particlesInitialization!==void 0&&(n=s.particlesInitialization()),n)break;this._interactionManager.init();for(const[,s]of e.pathGenerators)s.init(e);if(this.addManualParticles(),!n){for(const s in i.particles.groups){const o=i.particles.groups[s];for(let a=this.count,l=0;l<((r=o.number)==null?void 0:r.value)&&a<i.particles.number.value;a++,l++)this.addParticle(void 0,o,s)}for(let s=this.count;s<i.particles.number.value;s++)this.addParticle()}}push(e,i,n,r){this.pushing=!0;for(let s=0;s<e;s++)this.addParticle(i==null?void 0:i.position,n,r);this.pushing=!1}async redraw(){this.clear(),this.init(),await this.draw({value:0,factor:0})}remove(e,i,n){this.removeAt(this._array.indexOf(e),void 0,i,n)}removeAt(e,i=1,n,r){if(e<0||e>this.count)return;let s=0;for(let o=e;s<i&&o<this.count;o++)this._removeParticle(o--,n,r)&&s++}removeQuantity(e,i){this.removeAt(0,e,i)}setDensity(){const e=this._container.actualOptions,i=e.particles.groups;for(const n in i)this._applyDensity(i[n],0,n);this._applyDensity(e.particles,e.manualParticles.length)}async update(e){const i=this._container,n=new Set;this.quadTree=new md(cb(i.canvas.size),ub);for(const[,r]of i.pathGenerators)r.update();for(const[,r]of i.plugins)r.update&&r.update(e);for(const r of this._array){const s=i.canvas.resizeFactor;s&&!r.ignoresResizeRatio&&(r.position.x*=s.width,r.position.y*=s.height,r.initialPosition.x*=s.width,r.initialPosition.y*=s.height),r.ignoresResizeRatio=!1,await this._interactionManager.reset(r);for(const[,o]of this._container.plugins){if(r.destroyed)break;o.particleUpdate&&o.particleUpdate(r,e)}for(const o of this.movers)o.isEnabled(r)&&o.move(r,e);if(r.destroyed){n.add(r);continue}this.quadTree.insert(new K9(r.getPosition(),r))}if(n.size){const r=s=>!n.has(s);this._array=this.filter(r),this._zArray=this._zArray.filter(r),this.pool.push(...n)}await this._interactionManager.externalInteract(e);for(const r of this._array){for(const s of this.updaters)s.update(r,e);!r.destroyed&&!r.spawning&&await this._interactionManager.particlesInteract(r,e)}if(delete i.canvas.resizeFactor,this.needsSort){const r=this._zArray;r.sort((s,o)=>o.position.z-s.position.z||s.id-o.id),this.lastZIndex=r[r.length-1].position.z,this.needsSort=!1}}}class Q9{constructor(e){this.container=e,this.pixelRatio=1,this.reduceFactor=1}init(){const e=this.container,i=e.actualOptions;this.pixelRatio=!i.detectRetina||$l()?1:window.devicePixelRatio,this.reduceFactor=1;const n=this.pixelRatio;if(e.canvas.element){const o=e.canvas.element;e.canvas.size.width=o.offsetWidth*n,e.canvas.size.height=o.offsetHeight*n}const r=i.particles,s=r.move;this.attractDistance=le(s.attract.distance)*n,this.maxSpeed=le(s.gravity.maxSpeed)*n,this.sizeAnimationSpeed=le(r.size.animation.speed)*n}initParticle(e){const i=e.options,n=this.pixelRatio,r=i.move,s=r.distance,o=e.retina;o.attractDistance=le(r.attract.distance)*n,o.moveDrift=le(r.drift)*n,o.moveSpeed=le(r.speed)*n,o.sizeAnimationSpeed=le(i.size.animation.speed)*n;const a=o.maxDistance;a.horizontal=s.horizontal!==void 0?s.horizontal*n:void 0,a.vertical=s.vertical!==void 0?s.vertical*n:void 0,o.maxSpeed=le(r.gravity.maxSpeed)*n}}function Ve(t){return t&&!t.destroyed}function J9(t,e=60,i=!1){return{value:t,factor:i?60/e:60*t/1e3}}function Es(t,e,...i){const n=new W9(t,e);return BC(n,...i),n}const Z9="default",db={generate:t=>t.velocity,init:()=>{},update:()=>{},reset:()=>{}};class e7{constructor(e,i,n){this.id=i,this._intersectionManager=r=>{if(!(!Ve(this)||!this.actualOptions.pauseOnOutsideViewport))for(const s of r)s.target===this.interactivity.element&&(s.isIntersecting?this.play:this.pause)()},this._nextFrame=async r=>{try{if(!this.smooth&&this.lastFrameTime!==void 0&&r<this.lastFrameTime+1e3/this.fpsLimit){this.draw(!1);return}this.lastFrameTime??(this.lastFrameTime=r);const s=J9(r-this.lastFrameTime,this.fpsLimit,this.smooth);if(this.addLifeTime(s.value),this.lastFrameTime=r,s.value>1e3){this.draw(!1);return}if(await this.particles.draw(s),!this.alive()){this.destroy();return}this.getAnimationStatus()&&this.draw(!1)}catch(s){rs().error(`${Li} in animation loop`,s)}},this._engine=e,this.fpsLimit=120,this.smooth=!1,this._delay=0,this._duration=0,this._lifeTime=0,this._firstStart=!0,this.started=!1,this.destroyed=!1,this._paused=!0,this.lastFrameTime=0,this.zLayers=100,this.pageHidden=!1,this._sourceOptions=n,this._initialSourceOptions=n,this.retina=new Q9(this),this.canvas=new r9(this),this.particles=new Y9(this._engine,this),this.pathGenerators=new Map,this.interactivity={mouse:{clicking:!1,inside:!1}},this.plugins=new Map,this.drawers=new Map,this._options=Es(this._engine,this),this.actualOptions=Es(this._engine,this),this._eventListeners=new s9(this),typeof IntersectionObserver<"u"&&IntersectionObserver&&(this._intersectionObserver=new IntersectionObserver(r=>this._intersectionManager(r))),this._engine.dispatchEvent("containerBuilt",{container:this})}get options(){return this._options}get sourceOptions(){return this._sourceOptions}addClickHandler(e){if(!Ve(this))return;const i=this.interactivity.element;if(!i)return;const n=(p,y,T)=>{if(!Ve(this))return;const v=this.retina.pixelRatio,w={x:y.x*v,y:y.y*v},k=this.particles.quadTree.queryCircle(w,T*v);e(p,k)},r=p=>{if(!Ve(this))return;const y=p,T={x:y.offsetX||y.clientX,y:y.offsetY||y.clientY};n(p,T,1)},s=()=>{Ve(this)&&(u=!0,d=!1)},o=()=>{Ve(this)&&(d=!0)},a=p=>{if(Ve(this)){if(u&&!d){const y=p;let T=y.touches[y.touches.length-1];if(!T&&(T=y.changedTouches[y.changedTouches.length-1],!T))return;const v=this.canvas.element,w=v?v.getBoundingClientRect():void 0,k={x:T.clientX-(w?w.left:0),y:T.clientY-(w?w.top:0)};n(p,k,Math.max(T.radiusX,T.radiusY))}u=!1,d=!1}},l=()=>{Ve(this)&&(u=!1,d=!1)};let u=!1,d=!1;i.addEventListener("click",r),i.addEventListener("touchstart",s),i.addEventListener("touchmove",o),i.addEventListener("touchend",a),i.addEventListener("touchcancel",l)}addLifeTime(e){this._lifeTime+=e}addPath(e,i,n=!1){return!Ve(this)||!n&&this.pathGenerators.has(e)?!1:(this.pathGenerators.set(e,i??db),!0)}alive(){return!this._duration||this._lifeTime<=this._duration}destroy(){if(!Ve(this))return;this.stop(),this.particles.destroy(),this.canvas.destroy();for(const[,n]of this.drawers)n.destroy&&n.destroy(this);for(const n of this.drawers.keys())this.drawers.delete(n);this._engine.plugins.destroy(this),this.destroyed=!0;const e=this._engine.dom(),i=e.findIndex(n=>n===this);i>=0&&e.splice(i,1),this._engine.dispatchEvent("containerDestroyed",{container:this})}draw(e){if(!Ve(this))return;let i=e;this._drawAnimationFrame=requestAnimationFrame(async n=>{i&&(this.lastFrameTime=void 0,i=!1),await this._nextFrame(n)})}async export(e,i={}){for(const[,n]of this.plugins){if(!n.export)continue;const r=await n.export(e,i);if(r.supported)return r.blob}rs().error(`${Li} - Export plugin with type ${e} not found`)}getAnimationStatus(){return!this._paused&&!this.pageHidden&&Ve(this)}handleClickMode(e){if(Ve(this)){this.particles.handleClickMode(e);for(const[,i]of this.plugins)i.handleClickMode&&i.handleClickMode(e)}}async init(){if(!Ve(this))return;const e=this._engine.plugins.getSupportedShapes();for(const n of e){const r=this._engine.plugins.getShapeDrawer(n);r&&this.drawers.set(n,r)}this._options=Es(this._engine,this,this._initialSourceOptions,this.sourceOptions),this.actualOptions=Es(this._engine,this,this._options);const i=this._engine.plugins.getAvailablePlugins(this);for(const[n,r]of i)this.plugins.set(n,r);this.retina.init(),await this.canvas.init(),this.updateActualOptions(),this.canvas.initBackground(),this.canvas.resize(),this.zLayers=this.actualOptions.zLayers,this._duration=le(this.actualOptions.duration)*1e3,this._delay=le(this.actualOptions.delay)*1e3,this._lifeTime=0,this.fpsLimit=this.actualOptions.fpsLimit>0?this.actualOptions.fpsLimit:120,this.smooth=this.actualOptions.smooth;for(const[,n]of this.drawers)n.init&&await n.init(this);for(const[,n]of this.plugins)n.init&&await n.init();this._engine.dispatchEvent("containerInit",{container:this}),this.particles.init(),this.particles.setDensity();for(const[,n]of this.plugins)n.particlesSetup&&n.particlesSetup();this._engine.dispatchEvent("particlesSetup",{container:this})}async loadTheme(e){Ve(this)&&(this._currentTheme=e,await this.refresh())}pause(){if(Ve(this)&&(this._drawAnimationFrame!==void 0&&(cancelAnimationFrame(this._drawAnimationFrame),delete this._drawAnimationFrame),!this._paused)){for(const[,e]of this.plugins)e.pause&&e.pause();this.pageHidden||(this._paused=!0),this._engine.dispatchEvent("containerPaused",{container:this})}}play(e){if(!Ve(this))return;const i=this._paused||e;if(this._firstStart&&!this.actualOptions.autoPlay){this._firstStart=!1;return}if(this._paused&&(this._paused=!1),i)for(const[,n]of this.plugins)n.play&&n.play();this._engine.dispatchEvent("containerPlay",{container:this}),this.draw(i||!1)}async refresh(){if(Ve(this))return this.stop(),this.start()}async reset(){if(Ve(this))return this._initialSourceOptions=void 0,this._options=Es(this._engine,this),this.actualOptions=Es(this._engine,this,this._options),this.refresh()}setNoise(e,i,n){Ve(this)&&this.setPath(e,i,n)}setPath(e,i,n){if(!e||!Ve(this))return;const r={...db};if(OC(e))r.generate=e,i&&(r.init=i),n&&(r.update=n);else{const s=r;r.generate=e.generate||s.generate,r.init=e.init||s.init,r.update=e.update||s.update}this.addPath(Z9,r,!0)}async start(){!Ve(this)||this.started||(await this.init(),this.started=!0,await new Promise(e=>{this._delayTimeout=setTimeout(async()=>{this._eventListeners.addListeners(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.observe(this.interactivity.element);for(const[,i]of this.plugins)i.start&&await i.start();this._engine.dispatchEvent("containerStarted",{container:this}),this.play(),e()},this._delay)}))}stop(){if(!(!Ve(this)||!this.started)){this._delayTimeout&&(clearTimeout(this._delayTimeout),delete this._delayTimeout),this._firstStart=!0,this.started=!1,this._eventListeners.removeListeners(),this.pause(),this.particles.clear(),this.canvas.stop(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.unobserve(this.interactivity.element);for(const[,e]of this.plugins)e.stop&&e.stop();for(const e of this.plugins.keys())this.plugins.delete(e);this._sourceOptions=this._options,this._engine.dispatchEvent("containerStopped",{container:this})}}updateActualOptions(){this.actualOptions.responsive=[];const e=this.actualOptions.setResponsive(this.canvas.size.width,this.retina.pixelRatio,this._options);return this.actualOptions.setTheme(this._currentTheme),this.responsiveMaxWidth===e?!1:(this.responsiveMaxWidth=e,!0)}}class t7{constructor(){this._listeners=new Map}addEventListener(e,i){this.removeEventListener(e,i);let n=this._listeners.get(e);n||(n=[],this._listeners.set(e,n)),n.push(i)}dispatchEvent(e,i){const n=this._listeners.get(e);n&&n.forEach(r=>r(i))}hasEventListener(e){return!!this._listeners.get(e)}removeAllEventListeners(e){e?this._listeners.delete(e):this._listeners=new Map}removeEventListener(e,i){const n=this._listeners.get(e);if(!n)return;const r=n.length,s=n.indexOf(i);s<0||(r===1?this._listeners.delete(e):n.splice(s,1))}}function mp(t,e,i,n=!1){let r=e.get(t);return(!r||n)&&(r=[...i.values()].map(s=>s(t)),e.set(t,r)),r}class i7{constructor(e){this._engine=e,this.plugins=[],this._initializers={interactors:new Map,movers:new Map,updaters:new Map},this.interactors=new Map,this.movers=new Map,this.updaters=new Map,this.presets=new Map,this.drawers=new Map,this.pathGenerators=new Map}addInteractor(e,i){this._initializers.interactors.set(e,i)}addParticleMover(e,i){this._initializers.movers.set(e,i)}addParticleUpdater(e,i){this._initializers.updaters.set(e,i)}addPathGenerator(e,i){!this.getPathGenerator(e)&&this.pathGenerators.set(e,i)}addPlugin(e){!this.getPlugin(e.id)&&this.plugins.push(e)}addPreset(e,i,n=!1){(n||!this.getPreset(e))&&this.presets.set(e,i)}addShapeDrawer(e,i){Gi(e,n=>{!this.getShapeDrawer(n)&&this.drawers.set(n,i)})}destroy(e){this.updaters.delete(e),this.movers.delete(e),this.interactors.delete(e)}getAvailablePlugins(e){const i=new Map;for(const n of this.plugins)n.needsPlugin(e.actualOptions)&&i.set(n.id,n.getPlugin(e));return i}getInteractors(e,i=!1){return mp(e,this.interactors,this._initializers.interactors,i)}getMovers(e,i=!1){return mp(e,this.movers,this._initializers.movers,i)}getPathGenerator(e){return this.pathGenerators.get(e)}getPlugin(e){return this.plugins.find(i=>i.id===e)}getPreset(e){return this.presets.get(e)}getShapeDrawer(e){return this.drawers.get(e)}getSupportedShapes(){return this.drawers.keys()}getUpdaters(e,i=!1){return mp(e,this.updaters,this._initializers.updaters,i)}loadOptions(e,i){for(const n of this.plugins)n.loadOptions(e,i)}loadParticlesOptions(e,i,...n){const r=this.updaters.get(e);if(r)for(const s of r)s.loadOptions&&s.loadOptions(i,...n)}}async function n7(t){const e=gr(t.url,t.index);if(!e)return t.fallback;const i=await fetch(e);return i.ok?i.json():(rs().error(`${Li} ${i.status} while retrieving config file`),t.fallback)}function r7(t){return!t.id&&!t.element&&!t.url&&!t.options}function s7(t){return!r7(t)}class o7{constructor(){this._configs=new Map,this._domArray=[],this._eventDispatcher=new t7,this._initialized=!1,this.plugins=new i7(this)}get configs(){const e={};for(const[i,n]of this._configs)e[i]=n;return e}get version(){return"2.12.0"}addConfig(e,i){Di(e)?i&&(i.name=e,this._configs.set(e,i)):this._configs.set(e.name??"default",e)}addEventListener(e,i){this._eventDispatcher.addEventListener(e,i)}async addInteractor(e,i,n=!0){this.plugins.addInteractor(e,i),await this.refresh(n)}async addMover(e,i,n=!0){this.plugins.addParticleMover(e,i),await this.refresh(n)}async addParticleUpdater(e,i,n=!0){this.plugins.addParticleUpdater(e,i),await this.refresh(n)}async addPathGenerator(e,i,n=!0){this.plugins.addPathGenerator(e,i),await this.refresh(n)}async addPlugin(e,i=!0){this.plugins.addPlugin(e),await this.refresh(i)}async addPreset(e,i,n=!1,r=!0){this.plugins.addPreset(e,i,n),await this.refresh(r)}async addShape(e,i,n,r,s,o=!0){let a,l=o,u,d,p;yr(n)?(l=n,u=void 0):u=n,yr(r)?(l=r,d=void 0):d=r,yr(s)?(l=s,p=void 0):p=s,OC(i)?a={afterEffect:d,destroy:p,draw:i,init:u}:a=i,this.plugins.addShapeDrawer(e,a),await this.refresh(l)}dispatchEvent(e,i){this._eventDispatcher.dispatchEvent(e,i)}dom(){return this._domArray}domItem(e){const i=this.dom(),n=i[e];if(!n||n.destroyed){i.splice(e,1);return}return n}init(){this._initialized||(this._initialized=!0)}async load(e,i){return this.loadFromArray(e,i)}async loadFromArray(e,i,n){let r;return s7(e)?r=e:(r={},Di(e)?r.id=e:r.options=e,ci(i)?r.index=i:r.options=i??r.options,r.index=n??r.index),this._loadParams(r)}async loadJSON(e,i,n){let r,s;return ci(i)||i===void 0?r=e:(s=e,r=i),this._loadParams({id:s,url:r,index:n})}async refresh(e=!0){e&&this.dom().forEach(i=>i.refresh())}removeEventListener(e,i){this._eventDispatcher.removeEventListener(e,i)}async set(e,i,n,r){const s={index:r};return Di(e)?s.id=e:s.element=e,i instanceof HTMLElement?s.element=i:s.options=i,ci(n)?s.index=n:s.options=n??s.options,this._loadParams(s)}async setJSON(e,i,n,r){const s={};return e instanceof HTMLElement?(s.element=e,s.url=i,s.index=n):(s.id=e,s.element=i,s.url=n,s.index=r),this._loadParams(s)}setOnClickHandler(e){const i=this.dom();if(!i.length)throw new Error(`${Li} can only set click handlers after calling tsParticles.load()`);for(const n of i)n.addClickHandler(e)}async _loadParams(e){const i=e.id??`tsparticles${Math.floor(ye()*1e4)}`,{index:n,url:r}=e,s=r?await n7({fallback:e.options,url:r,index:n}):e.options;let o=e.element??document.getElementById(i);o||(o=document.createElement("div"),o.id=i,document.body.append(o));const a=gr(s,n),l=this.dom(),u=l.findIndex(y=>y.id===i);if(u>=0){const y=this.domItem(u);y&&!y.destroyed&&(y.destroy(),l.splice(u,1))}let d;if(o.tagName.toLowerCase()==="canvas")d=o,d.dataset[Ga]="false";else{const y=o.getElementsByTagName("canvas");y.length?(d=y[0],d.dataset[Ga]="false"):(d=document.createElement("canvas"),d.dataset[Ga]="true",o.appendChild(d))}d.style.width||(d.style.width="100%"),d.style.height||(d.style.height="100%");const p=new e7(this,i,a);return u>=0?l.splice(u,0,p):l.push(p),p.canvas.loadCanvas(d),await p.start(),p}}class a7{constructor(){this.key="hsl",this.stringPrefix="hsl"}handleColor(e){const i=e.value,n=i.hsl??e.value;if(n.h!==void 0&&n.s!==void 0&&n.l!==void 0)return fg(n)}handleRangeColor(e){const i=e.value,n=i.hsl??e.value;if(n.h!==void 0&&n.l!==void 0)return fg({h:le(n.h),l:le(n.l),s:le(n.s)})}parseString(e){if(!e.startsWith("hsl"))return;const i=/hsla?\(\s*(\d+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([\d.%]+)\s*)?\)/i,n=i.exec(e);return n?WF({a:n.length>4?kC(n[5]):1,h:parseInt(n[1],10),l:parseInt(n[3],10),s:parseInt(n[2],10)}):void 0}}class l7{constructor(){this.key="rgb",this.stringPrefix="rgb"}handleColor(e){const i=e.value,n=i.rgb??e.value;if(n.r!==void 0)return n}handleRangeColor(e){const i=e.value,n=i.rgb??e.value;if(n.r!==void 0)return{r:le(n.r),g:le(n.g),b:le(n.b)}}parseString(e){if(!e.startsWith(this.stringPrefix))return;const i=/rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([\d.%]+)\s*)?\)/i,n=i.exec(e);return n?{a:n.length>4?kC(n[5]):1,b:parseInt(n[3],10),g:parseInt(n[2],10),r:parseInt(n[1],10)}:void 0}}function u7(){const t=new l7,e=new a7;nb(t),nb(e);const i=new o7;return i.init(),i}const zl=u7();$l()||(window.tsParticles=zl);class c7{constructor(){this.angle=90,this.count=50,this.spread=45,this.startVelocity=45,this.decay=.9,this.gravity=1,this.drift=0,this.ticks=200,this.position={x:50,y:50},this.colors=["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],this.shapes=["square","circle"],this.scalar=1,this.zIndex=100,this.disableForReducedMotion=!0,this.shapeOptions={}}get origin(){return{x:this.position.x/100,y:this.position.y/100}}set origin(e){this.position.x=e.x*100,this.position.y=e.y*100}get particleCount(){return this.count}set particleCount(e){this.count=e}load(e){if(!e)return;e.angle!==void 0&&(this.angle=e.angle);const i=e.count??e.particleCount;i!==void 0&&(this.count=i),e.spread!==void 0&&(this.spread=e.spread),e.startVelocity!==void 0&&(this.startVelocity=e.startVelocity),e.decay!==void 0&&(this.decay=e.decay),e.gravity!==void 0&&(this.gravity=e.gravity),e.drift!==void 0&&(this.drift=e.drift),e.ticks!==void 0&&(this.ticks=e.ticks);const n=e.origin;n&&!e.position&&(e.position={x:n.x!==void 0?n.x*100:void 0,y:n.y!==void 0?n.y*100:void 0});const r=e.position;r&&(r.x!==void 0&&(this.position.x=r.x),r.y!==void 0&&(this.position.y=r.y)),e.colors!==void 0&&(vt(e.colors)?this.colors=[...e.colors]:this.colors=e.colors);const s=e.shapeOptions;if(s!==void 0)for(const o in s){const a=s[o];a&&(this.shapeOptions[o]=nt(this.shapeOptions[o]??{},a))}e.shapes!==void 0&&(vt(e.shapes)?this.shapes=[...e.shapes]:this.shapes=e.shapes),e.scalar!==void 0&&(this.scalar=e.scalar),e.zIndex!==void 0&&(this.zIndex=e.zIndex),e.disableForReducedMotion!==void 0&&(this.disableForReducedMotion=e.disableForReducedMotion)}}function d7(t){const e=t.initialPosition,{dx:i,dy:n}=io(e,t.position),r=Math.abs(i),s=Math.abs(n),{maxDistance:o}=t.retina,a=o.horizontal,l=o.vertical;if(!(!a&&!l)){if((a&&r>=a||l&&s>=l)&&!t.misplaced)t.misplaced=!!a&&r>a||!!l&&s>l,a&&(t.velocity.x=t.velocity.y/2-t.velocity.x),l&&(t.velocity.y=t.velocity.x/2-t.velocity.y);else if((!a||r<a)&&(!l||s<l)&&t.misplaced)t.misplaced=!1;else if(t.misplaced){const u=t.position,d=t.velocity;a&&(u.x<e.x&&d.x<0||u.x>e.x&&d.x>0)&&(d.x*=-ye()),l&&(u.y<e.y&&d.y<0||u.y>e.y&&d.y>0)&&(d.y*=-ye())}}}function h7(t,e,i,n,r,s){p7(t,s);const o=t.gravity,a=o!=null&&o.enable&&o.inverse?-1:1;r&&i&&(t.velocity.x+=r*s.factor/(60*i)),o!=null&&o.enable&&i&&(t.velocity.y+=a*(o.acceleration*s.factor)/(60*i));const l=t.moveDecay;t.velocity.multTo(l);const u=t.velocity.mult(i);o!=null&&o.enable&&n>0&&(!o.inverse&&u.y>=0&&u.y>=n||o.inverse&&u.y<=0&&u.y<=-n)&&(u.y=a*n,i&&(t.velocity.y=u.y/i));const d=t.options.zIndex,p=(1-t.zIndexFactor)**d.velocityRate;u.multTo(p);const{position:y}=t;y.addTo(u),e.vibrate&&(y.x+=Math.sin(y.x*Math.cos(y.y)),y.y+=Math.cos(y.y*Math.sin(y.x)))}function f7(t,e){const i=t.container;if(!t.spin)return;const n={x:t.spin.direction==="clockwise"?Math.cos:Math.sin,y:t.spin.direction==="clockwise"?Math.sin:Math.cos};t.position.x=t.spin.center.x+t.spin.radius*n.x(t.spin.angle),t.position.y=t.spin.center.y+t.spin.radius*n.y(t.spin.angle),t.spin.radius+=t.spin.acceleration;const r=Math.max(i.canvas.size.width,i.canvas.size.height);t.spin.radius>r/2?(t.spin.radius=r/2,t.spin.acceleration*=-1):t.spin.radius<0&&(t.spin.radius=0,t.spin.acceleration*=-1),t.spin.angle+=e/100*(1-t.spin.radius/r)}function p7(t,e){var o;const i=t.options,n=i.move.path;if(!n.enable)return;if(t.lastPathTime<=t.pathDelay){t.lastPathTime+=e.value;return}const s=(o=t.pathGenerator)==null?void 0:o.generate(t,e);s&&t.velocity.addTo(s),n.clamp&&(t.velocity.x=So(t.velocity.x,-1,1),t.velocity.y=So(t.velocity.y,-1,1)),t.lastPathTime-=t.pathDelay}function m7(t){return t.slow.inRange?t.slow.factor:1}const g7=2;class y7{constructor(){this._initSpin=e=>{const i=e.container,n=e.options,r=n.move.spin;if(!r.enable)return;const s=r.position??{x:50,y:50},o={x:s.x/100*i.canvas.size.width,y:s.y/100*i.canvas.size.height},a=e.getPosition(),l=yh(a,o),u=le(r.acceleration);e.retina.spinAcceleration=u*i.retina.pixelRatio,e.spin={center:o,direction:e.velocity.x>=0?"clockwise":"counter-clockwise",angle:e.velocity.angle,radius:l,acceleration:e.retina.spinAcceleration}}}init(e){const i=e.options,n=i.move.gravity;e.gravity={enable:n.enable,acceleration:le(n.acceleration),inverse:n.inverse},this._initSpin(e)}isEnabled(e){return!e.destroyed&&e.options.move.enable}move(e,i){var v,w;const n=e.options,r=n.move;if(!r.enable)return;const s=e.container,o=s.retina.pixelRatio,a=m7(e),l=((v=e.retina).moveSpeed??(v.moveSpeed=le(r.speed)*o))*s.retina.reduceFactor,u=(w=e.retina).moveDrift??(w.moveDrift=le(e.options.move.drift)*o),d=gh(n.size.value)*o,p=r.size?e.getRadius()/d:1,y=l*p*a*(i.factor||1)/g7,T=e.retina.maxSpeed??s.retina.maxSpeed;r.spin.enable?f7(e,y):h7(e,r,y,T,u,i),d7(e)}}async function v7(t,e=!0){await t.addMover("base",()=>new y7,e)}class _7{draw(e,i,n){i.circleRange||(i.circleRange={min:0,max:Math.PI*2});const r=i.circleRange;e.arc(0,0,n,r.min,r.max,!1)}getSidesCount(){return 12}particleInit(e,i){const n=i.shapeData,r=(n==null?void 0:n.angle)??{max:360,min:0};i.circleRange=Vs(r)?{min:r.min*Math.PI/180,max:r.max*Math.PI/180}:{min:0,max:r*Math.PI/180}}}async function b7(t,e=!0){await t.addShape("circle",new _7,e)}function gp(t,e,i,n,r){if(!e||!i.enable||(e.maxLoops??0)>0&&(e.loops??0)>(e.maxLoops??0)||(e.time||(e.time=0),(e.delayTime??0)>0&&e.time<(e.delayTime??0)&&(e.time+=t.value),(e.delayTime??0)>0&&e.time<(e.delayTime??0)))return;const s=Gt(i.offset),o=(e.velocity??0)*t.factor+s*3.6,a=e.decay??1;!r||e.status==="increasing"?(e.value+=o,e.value>n&&(e.loops||(e.loops=0),e.loops++,r&&(e.status="decreasing",e.value-=e.value%n))):(e.value-=o,e.value<0&&(e.loops||(e.loops=0),e.loops++,e.status="increasing",e.value+=e.value)),e.velocity&&a!==1&&(e.velocity*=a),e.value>n&&(e.value%=n)}function x7(t,e){const{h:i,s:n,l:r}=t.options.color.animation,{color:s}=t;if(!s)return;const{h:o,s:a,l}=s;o&&gp(e,o,i,360,!1),a&&gp(e,a,n,100,!0),l&&gp(e,l,r,100,!0)}class T7{constructor(e){this.container=e}init(e){const i=Sl(e.options.color,e.id,e.options.reduceDuplicates);i&&(e.color=XF(i,e.options.color.animation,this.container.retina.reduceFactor))}isEnabled(e){const{h:i,s:n,l:r}=e.options.color.animation,{color:s}=e;return!e.destroyed&&!e.spawning&&((s==null?void 0:s.h.value)!==void 0&&i.enable||(s==null?void 0:s.s.value)!==void 0&&n.enable||(s==null?void 0:s.l.value)!==void 0&&r.enable)}update(e,i){x7(e,i)}}async function w7(t,e=!0){await t.addParticleUpdater("color",i=>new T7(i),e)}function S7(t,e,i,n){switch(t.options.opacity.animation.destroy){case"max":e>=n&&t.destroy();break;case"min":e<=i&&t.destroy();break}}function E7(t,e){const i=t.opacity;if(t.destroyed||!(i!=null&&i.enable)||(i.maxLoops??0)>0&&(i.loops??0)>(i.maxLoops??0))return;const n=i.min,r=i.max,s=i.decay??1;if(i.time||(i.time=0),(i.delayTime??0)>0&&i.time<(i.delayTime??0)&&(i.time+=e.value),!((i.delayTime??0)>0&&i.time<(i.delayTime??0))){switch(i.status){case"increasing":i.value>=r?(i.status="decreasing",i.loops||(i.loops=0),i.loops++):i.value+=(i.velocity??0)*e.factor;break;case"decreasing":i.value<=n?(i.status="increasing",i.loops||(i.loops=0),i.loops++):i.value-=(i.velocity??0)*e.factor;break}i.velocity&&i.decay!==1&&(i.velocity*=s),S7(t,i.value,n,r),t.destroyed||(i.value=So(i.value,n,r))}}class C7{constructor(e){this.container=e}init(e){const i=e.options.opacity;e.opacity=AC(i,1);const n=i.animation;n.enable&&(e.opacity.velocity=le(n.speed)/100*this.container.retina.reduceFactor,n.sync||(e.opacity.velocity*=ye()))}isEnabled(e){return!e.destroyed&&!e.spawning&&!!e.opacity&&e.opacity.enable&&((e.opacity.maxLoops??0)<=0||(e.opacity.maxLoops??0)>0&&(e.opacity.loops??0)<(e.opacity.maxLoops??0))}reset(e){e.opacity&&(e.opacity.time=0,e.opacity.loops=0)}update(e,i){this.isEnabled(e)&&E7(e,i)}}async function k7(t,e=!0){await t.addParticleUpdater("opacity",i=>new C7(i),e)}function D7(t){if(t.outMode!=="bounce"&&t.outMode!=="bounce-horizontal"&&t.outMode!=="bounceHorizontal"&&t.outMode!=="split"||t.direction!=="left"&&t.direction!=="right")return;t.bounds.right<0&&t.direction==="left"?t.particle.position.x=t.size+t.offset.x:t.bounds.left>t.canvasSize.width&&t.direction==="right"&&(t.particle.position.x=t.canvasSize.width-t.size-t.offset.x);const e=t.particle.velocity.x;let i=!1;if(t.direction==="right"&&t.bounds.right>=t.canvasSize.width&&e>0||t.direction==="left"&&t.bounds.left<=0&&e<0){const r=Ty(t.particle.options.bounce.horizontal);t.particle.velocity.x*=-r,i=!0}if(!i)return;const n=t.offset.x+t.size;t.bounds.right>=t.canvasSize.width&&t.direction==="right"?t.particle.position.x=t.canvasSize.width-n:t.bounds.left<=0&&t.direction==="left"&&(t.particle.position.x=n),t.outMode==="split"&&t.particle.destroy()}function A7(t){if(t.outMode!=="bounce"&&t.outMode!=="bounce-vertical"&&t.outMode!=="bounceVertical"&&t.outMode!=="split"||t.direction!=="bottom"&&t.direction!=="top")return;t.bounds.bottom<0&&t.direction==="top"?t.particle.position.y=t.size+t.offset.y:t.bounds.top>t.canvasSize.height&&t.direction==="bottom"&&(t.particle.position.y=t.canvasSize.height-t.size-t.offset.y);const e=t.particle.velocity.y;let i=!1;if(t.direction==="bottom"&&t.bounds.bottom>=t.canvasSize.height&&e>0||t.direction==="top"&&t.bounds.top<=0&&e<0){const r=Ty(t.particle.options.bounce.vertical);t.particle.velocity.y*=-r,i=!0}if(!i)return;const n=t.offset.y+t.size;t.bounds.bottom>=t.canvasSize.height&&t.direction==="bottom"?t.particle.position.y=t.canvasSize.height-n:t.bounds.top<=0&&t.direction==="top"&&(t.particle.position.y=n),t.outMode==="split"&&t.particle.destroy()}class P7{constructor(e){this.container=e,this.modes=["bounce","bounce-vertical","bounce-horizontal","bounceVertical","bounceHorizontal","split"]}update(e,i,n,r){if(!this.modes.includes(r))return;const s=this.container;let o=!1;for(const[,y]of s.plugins)if(y.particleBounce!==void 0&&(o=y.particleBounce(e,n,i)),o)break;if(o)return;const a=e.getPosition(),l=e.offset,u=e.getRadius(),d=Ey(a,u),p=s.canvas.size;D7({particle:e,outMode:r,direction:i,bounds:d,canvasSize:p,offset:l,size:u}),A7({particle:e,outMode:r,direction:i,bounds:d,canvasSize:p,offset:l,size:u})}}class I7{constructor(e){this.container=e,this.modes=["destroy"]}update(e,i,n,r){if(!this.modes.includes(r))return;const s=this.container;switch(e.outType){case"normal":case"outside":if(_h(e.position,s.canvas.size,ki.origin,e.getRadius(),i))return;break;case"inside":{const{dx:o,dy:a}=io(e.position,e.moveCenter),{x:l,y:u}=e.velocity;if(l<0&&o>e.moveCenter.radius||u<0&&a>e.moveCenter.radius||l>=0&&o<-e.moveCenter.radius||u>=0&&a<-e.moveCenter.radius)return;break}}s.particles.remove(e,void 0,!0)}}class O7{constructor(e){this.container=e,this.modes=["none"]}update(e,i,n,r){if(!this.modes.includes(r)||e.options.move.distance.horizontal&&(i==="left"||i==="right")||e.options.move.distance.vertical&&(i==="top"||i==="bottom"))return;const s=e.options.move.gravity,o=this.container,a=o.canvas.size,l=e.getRadius();if(s.enable){const u=e.position;(!s.inverse&&u.y>a.height+l&&i==="bottom"||s.inverse&&u.y<-l&&i==="top")&&o.particles.remove(e)}else{if(e.velocity.y>0&&e.position.y<=a.height+l||e.velocity.y<0&&e.position.y>=-l||e.velocity.x>0&&e.position.x<=a.width+l||e.velocity.x<0&&e.position.x>=-l)return;_h(e.position,o.canvas.size,ki.origin,l,i)||o.particles.remove(e)}}}class L7{constructor(e){this.container=e,this.modes=["out"]}update(e,i,n,r){if(!this.modes.includes(r))return;const s=this.container;switch(e.outType){case"inside":{const{x:o,y:a}=e.velocity,l=ki.origin;l.length=e.moveCenter.radius,l.angle=e.velocity.angle+Math.PI,l.addTo(ki.create(e.moveCenter));const{dx:u,dy:d}=io(e.position,l);if(o<=0&&u>=0||a<=0&&d>=0||o>=0&&u<=0||a>=0&&d<=0)return;e.position.x=Math.floor(Gt({min:0,max:s.canvas.size.width})),e.position.y=Math.floor(Gt({min:0,max:s.canvas.size.height}));const{dx:p,dy:y}=io(e.position,e.moveCenter);e.direction=Math.atan2(-y,-p),e.velocity.angle=e.direction;break}default:{if(_h(e.position,s.canvas.size,ki.origin,e.getRadius(),i))return;switch(e.outType){case"outside":{e.position.x=Math.floor(Gt({min:-e.moveCenter.radius,max:e.moveCenter.radius}))+e.moveCenter.x,e.position.y=Math.floor(Gt({min:-e.moveCenter.radius,max:e.moveCenter.radius}))+e.moveCenter.y;const{dx:o,dy:a}=io(e.position,e.moveCenter);e.moveCenter.radius&&(e.direction=Math.atan2(a,o),e.velocity.angle=e.direction);break}case"normal":{const o=e.options.move.warp,a=s.canvas.size,l={bottom:a.height+e.getRadius()+e.offset.y,left:-e.getRadius()-e.offset.x,right:a.width+e.getRadius()+e.offset.x,top:-e.getRadius()-e.offset.y},u=e.getRadius(),d=Ey(e.position,u);i==="right"&&d.left>a.width+e.offset.x?(e.position.x=l.left,e.initialPosition.x=e.position.x,o||(e.position.y=ye()*a.height,e.initialPosition.y=e.position.y)):i==="left"&&d.right<-e.offset.x&&(e.position.x=l.right,e.initialPosition.x=e.position.x,o||(e.position.y=ye()*a.height,e.initialPosition.y=e.position.y)),i==="bottom"&&d.top>a.height+e.offset.y?(o||(e.position.x=ye()*a.width,e.initialPosition.x=e.position.x),e.position.y=l.top,e.initialPosition.y=e.position.y):i==="top"&&d.bottom<-e.offset.y&&(o||(e.position.x=ye()*a.width,e.initialPosition.x=e.position.x),e.position.y=l.bottom,e.initialPosition.y=e.position.y);break}}break}}}}class N7{constructor(e){this.container=e,this._updateOutMode=(i,n,r,s)=>{for(const o of this.updaters)o.update(i,s,n,r)},this.updaters=[new P7(e),new I7(e),new L7(e),new O7(e)]}init(){}isEnabled(e){return!e.destroyed&&!e.spawning}update(e,i){const n=e.options.move.outModes;this._updateOutMode(e,i,n.bottom??n.default,"bottom"),this._updateOutMode(e,i,n.left??n.default,"left"),this._updateOutMode(e,i,n.right??n.default,"right"),this._updateOutMode(e,i,n.top??n.default,"top")}}async function R7(t,e=!0){await t.addParticleUpdater("outModes",i=>new N7(i),e)}function M7(t,e,i,n){switch(t.options.size.animation.destroy){case"max":e>=n&&t.destroy();break;case"min":e<=i&&t.destroy();break}}function B7(t,e){const i=t.size;if(t.destroyed||!i||!i.enable||(i.maxLoops??0)>0&&(i.loops??0)>(i.maxLoops??0))return;const n=(i.velocity??0)*e.factor,r=i.min,s=i.max,o=i.decay??1;if(i.time||(i.time=0),(i.delayTime??0)>0&&i.time<(i.delayTime??0)&&(i.time+=e.value),!((i.delayTime??0)>0&&i.time<(i.delayTime??0))){switch(i.status){case"increasing":i.value>=s?(i.status="decreasing",i.loops||(i.loops=0),i.loops++):i.value+=n;break;case"decreasing":i.value<=r?(i.status="increasing",i.loops||(i.loops=0),i.loops++):i.value-=n}i.velocity&&o!==1&&(i.velocity*=o),M7(t,i.value,r,s),t.destroyed||(i.value=So(i.value,r,s))}}class F7{init(e){const i=e.container,n=e.options.size,r=n.animation;r.enable&&(e.size.velocity=(e.retina.sizeAnimationSpeed??i.retina.sizeAnimationSpeed)/100*i.retina.reduceFactor,r.sync||(e.size.velocity*=ye()))}isEnabled(e){return!e.destroyed&&!e.spawning&&e.size.enable&&((e.size.maxLoops??0)<=0||(e.size.maxLoops??0)>0&&(e.size.loops??0)<(e.size.maxLoops??0))}reset(e){e.size.loops=0}update(e,i){this.isEnabled(e)&&B7(e,i)}}async function j7(t,e=!0){await t.addParticleUpdater("size",()=>new F7,e)}async function U7(t,e=!0){await v7(t,!1),await b7(t,!1),await w7(t,!1),await k7(t,!1),await R7(t,!1),await j7(t,!1),await t.refresh(e)}function Th(t,e,i){if(!(!i.segments.length||!i.segments[0].values.length)){t.moveTo(i.segments[0].values[0].x*e,i.segments[0].values[0].y*e);for(let n=0;n<i.segments.length;n++){const r=i.segments[n];t.bezierCurveTo(r.values[1].x*e,r.values[1].y*e,r.values[2].x*e,r.values[2].y*e,r.values[3].x*e,r.values[3].y*e)}for(let n=i.segments.length-1;n>=0;n--){const r=i.segments[n];t.bezierCurveTo(-r.values[2].x*e,r.values[2].y*e,-r.values[1].x*e,r.values[1].y*e,-r.values[0].x*e,r.values[0].y*e)}}}const G=1/2,wh={heart:{segments:[{values:[{x:0,y:G},{x:0,y:G},{x:G,y:0},{x:G,y:-G/2}]},{values:[{x:G,y:-G/2},{x:G,y:-G/2},{x:G,y:-G},{x:G/2,y:-G}]},{values:[{x:G/2,y:-G},{x:G/2,y:-G},{x:0,y:-G},{x:0,y:-G/2}]}]},diamond:{segments:[{values:[{x:0,y:G},{x:0,y:G},{x:3*G/4,y:0},{x:3*G/4,y:0}]},{values:[{x:3*G/4,y:0},{x:3*G/4,y:0},{x:0,y:-G},{x:0,y:-G}]}]},club:{segments:[{values:[{x:0,y:-G},{x:0,y:-G},{x:G/2,y:-G},{x:G/2,y:-G/2}]},{values:[{x:G/2,y:-G/2},{x:G/2,y:-G/2},{x:G,y:-G/2},{x:G,y:0}]},{values:[{x:G,y:0},{x:G,y:0},{x:G,y:G/2},{x:G/2,y:G/2}]},{values:[{x:G/2,y:G/2},{x:G/2,y:G/2},{x:G/8,y:G/2},{x:G/8,y:G/8}]},{values:[{x:G/8,y:G/8},{x:G/8,y:G/2},{x:G/2,y:G},{x:G/2,y:G}]},{values:[{x:G/2,y:G},{x:G/2,y:G},{x:0,y:G},{x:0,y:G}]}]},spade:{segments:[{values:[{x:0,y:-G},{x:0,y:-G},{x:G,y:-G/2},{x:G,y:0}]},{values:[{x:G,y:0},{x:G,y:0},{x:G,y:G/2},{x:G/2,y:G/2}]},{values:[{x:G/2,y:G/2},{x:G/2,y:G/2},{x:G/8,y:G/2},{x:G/8,y:G/8}]},{values:[{x:G/8,y:G/8},{x:G/8,y:G/2},{x:G/2,y:G},{x:G/2,y:G}]},{values:[{x:G/2,y:G},{x:G/2,y:G},{x:0,y:G},{x:0,y:G}]}]}};class $7{draw(e,i,n){Th(e,n,wh.spade)}}let z7=class{draw(e,i,n){Th(e,n,wh.heart)}};class V7{draw(e,i,n){Th(e,n,wh.diamond)}}class H7{draw(e,i,n){Th(e,n,wh.club)}}async function q7(t,e=!0){await t.addShape(["spade","spades"],new $7,e),await t.addShape(["heart","hearts"],new z7,e),await t.addShape(["diamond","diamonds"],new V7,e),await t.addShape(["club","clubs"],new H7,e)}class W7{randomPosition(e,i,n){const r=(p,y)=>{const T=ye()/4,v=Math.atan(y/p*Math.tan(2*Math.PI*T)),w=ye();return w<.25?v:w<.5?Math.PI-v:w<.75?Math.PI+v:-v},s=(p,y,T)=>p*y/Math.sqrt((y*Math.cos(T))**2+(p*Math.sin(T))**2),[o,a]=[i.width/2,i.height/2],l=r(o,a),u=s(o,a,l),d=n?u*Math.sqrt(ye()):u;return{x:e.x+d*Math.cos(l),y:e.y+d*Math.sin(l)}}}class G7{constructor(){this.wait=!1}load(e){e&&(e.count!==void 0&&(this.count=e.count),e.delay!==void 0&&(this.delay=he(e.delay)),e.duration!==void 0&&(this.duration=he(e.duration)),e.wait!==void 0&&(this.wait=e.wait))}}class X7{constructor(){this.quantity=1,this.delay=.1}load(e){e!==void 0&&(e.quantity!==void 0&&(this.quantity=he(e.quantity)),e.delay!==void 0&&(this.delay=he(e.delay)))}}class UC{constructor(){this.mode="percent",this.height=0,this.width=0}load(e){e!==void 0&&(e.mode!==void 0&&(this.mode=e.mode),e.height!==void 0&&(this.height=e.height),e.width!==void 0&&(this.width=e.width))}}class rr{constructor(){this.autoPlay=!0,this.fill=!0,this.life=new G7,this.rate=new X7,this.shape="square",this.startCount=0}load(e){e&&(e.autoPlay!==void 0&&(this.autoPlay=e.autoPlay),e.size!==void 0&&(this.size||(this.size=new UC),this.size.load(e.size)),e.direction!==void 0&&(this.direction=e.direction),this.domId=e.domId,e.fill!==void 0&&(this.fill=e.fill),this.life.load(e.life),this.name=e.name,this.particles=Gi(e.particles,i=>nt({},i)),this.rate.load(e.rate),e.shape!==void 0&&(this.shape=e.shape),e.position!==void 0&&(this.position={},e.position.x!==void 0&&(this.position.x=he(e.position.x)),e.position.y!==void 0&&(this.position.y=he(e.position.y))),e.spawnColor!==void 0&&(this.spawnColor===void 0&&(this.spawnColor=new Eo),this.spawnColor.load(e.spawnColor)),e.startCount!==void 0&&(this.startCount=e.startCount))}}class K7{constructor(e,i,n,r,s){var a,l;this.emitters=i,this.container=n,this._calcPosition=()=>NF({size:this.container.canvas.size,position:this.options.position}),this._destroy=()=>{this.emitters.removeEmitter(this),this._engine.dispatchEvent("emitterDestroyed",{container:this.container,data:{emitter:this}})},this._emit=()=>{if(this._paused)return;const u=le(this.options.rate.quantity);this._emitParticles(u)},this._emitParticles=u=>{var T,v;const d=this.getPosition(),p=this.getSize(),y=gr(this._particlesOptions);for(let w=0;w<u;w++){const k=nt({},y);if(this.spawnColor){const b=(T=this.options.spawnColor)==null?void 0:T.animation;b&&(this.spawnColor.h=this._setColorAnimation(b.h,this.spawnColor.h,360),this.spawnColor.s=this._setColorAnimation(b.s,this.spawnColor.s,100),this.spawnColor.l=this._setColorAnimation(b.l,this.spawnColor.l,100)),k.color?k.color.value=this.spawnColor:k.color={value:this.spawnColor}}if(!d)return;const x=((v=this._shape)==null?void 0:v.randomPosition(d,p,this.fill))??d;this.container.particles.addParticle(x,k)}},this._prepareToDie=()=>{var d;if(this._paused)return;const u=((d=this.options.life)==null?void 0:d.duration)!==void 0?le(this.options.life.duration):void 0;this.container.retina.reduceFactor&&(this._lifeCount>0||this._immortal)&&u!==void 0&&u>0&&(this._duration=u*1e3)},this._setColorAnimation=(u,d,p)=>{const y=this.container;if(!u.enable)return d;const T=Gt(u.offset),v=le(this.options.rate.delay),w=1e3*v/y.retina.reduceFactor,k=le(u.speed??0);return(d+k*y.fpsLimit/w+T*3.6)%p},this._engine=e,this._currentDuration=0,this._currentEmitDelay=0,this._currentSpawnDelay=0,this._initialPosition=s,r instanceof rr?this.options=r:(this.options=new rr,this.options.load(r)),this._spawnDelay=le(this.options.life.delay??0)*1e3/this.container.retina.reduceFactor,this.position=this._initialPosition??this._calcPosition(),this.name=this.options.name,this._shape=(a=this._engine.emitterShapeManager)==null?void 0:a.getShape(this.options.shape),this.fill=this.options.fill,this._firstSpawn=!this.options.life.wait,this._startParticlesAdded=!1;let o=nt({},this.options.particles);o??(o={}),o.move??(o.move={}),(l=o.move).direction??(l.direction=this.options.direction),this.options.spawnColor&&(this.spawnColor=Sl(this.options.spawnColor)),this._paused=!this.options.autoPlay,this._particlesOptions=o,this.size=this.options.size??(()=>{const u=new UC;return u.load({height:0,mode:"percent",width:0}),u})(),this._lifeCount=this.options.life.count??-1,this._immortal=this._lifeCount<=0,this._engine.dispatchEvent("emitterCreated",{container:n,data:{emitter:this}}),this.play()}externalPause(){this._paused=!0,this.pause()}externalPlay(){this._paused=!1,this.play()}getPosition(){if(this.options.domId){const e=this.container,i=document.getElementById(this.options.domId);if(i){const n=i.getBoundingClientRect();return{x:(n.x+n.width/2)*e.retina.pixelRatio,y:(n.y+n.height/2)*e.retina.pixelRatio}}}return this.position}getSize(){const e=this.container;if(this.options.domId){const i=document.getElementById(this.options.domId);if(i){const n=i.getBoundingClientRect();return{width:n.width*e.retina.pixelRatio,height:n.height*e.retina.pixelRatio}}}return $F(this.size,e.canvas.size)}pause(){this._paused||delete this._emitDelay}play(){if(!this._paused&&this.container.retina.reduceFactor&&(this._lifeCount>0||this._immortal||!this.options.life.count)&&(this._firstSpawn||this._currentSpawnDelay>=(this._spawnDelay??0))){if(this._emitDelay===void 0){const e=le(this.options.rate.delay);this._emitDelay=1e3*e/this.container.retina.reduceFactor}(this._lifeCount>0||this._immortal)&&this._prepareToDie()}}resize(){const e=this._initialPosition;this.position=e&&_h(e,this.container.canvas.size,ki.origin)?e:this._calcPosition()}update(e){this._paused||(this._firstSpawn&&(this._firstSpawn=!1,this._currentSpawnDelay=this._spawnDelay??0,this._currentEmitDelay=this._emitDelay??0),this._startParticlesAdded||(this._startParticlesAdded=!0,this._emitParticles(this.options.startCount)),this._duration!==void 0&&(this._currentDuration+=e.value,this._currentDuration>=this._duration&&(this.pause(),this._spawnDelay!==void 0&&delete this._spawnDelay,this._immortal||this._lifeCount--,this._lifeCount>0||this._immortal?(this.position=this._calcPosition(),this._spawnDelay=le(this.options.life.delay??0)*1e3/this.container.retina.reduceFactor):this._destroy(),this._currentDuration-=this._duration,delete this._duration)),this._spawnDelay!==void 0&&(this._currentSpawnDelay+=e.value,this._currentSpawnDelay>=this._spawnDelay&&(this._engine.dispatchEvent("emitterPlay",{container:this.container}),this.play(),this._currentSpawnDelay-=this._currentSpawnDelay,delete this._spawnDelay)),this._emitDelay!==void 0&&(this._currentEmitDelay+=e.value,this._currentEmitDelay>=this._emitDelay&&(this._emit(),this._currentEmitDelay-=this._emitDelay)))}}class Y7{constructor(e,i){this.container=i,this._engine=e,this.array=[],this.emitters=[],this.interactivityEmitters={random:{count:1,enable:!1},value:[]},i.getEmitter=n=>n===void 0||ci(n)?this.array[n||0]:this.array.find(r=>r.name===n),i.addEmitter=(n,r)=>this.addEmitter(n,r),i.removeEmitter=n=>{const r=i.getEmitter(n);r&&this.removeEmitter(r)},i.playEmitter=n=>{const r=i.getEmitter(n);r&&r.externalPlay()},i.pauseEmitter=n=>{const r=i.getEmitter(n);r&&r.externalPause()}}addEmitter(e,i){const n=new rr;n.load(e);const r=new K7(this._engine,this,this.container,n,i);return this.array.push(r),r}handleClickMode(e){const i=this.emitters,n=this.interactivityEmitters;if(e!=="emitter")return;let r;if(n&&vt(n.value))if(n.value.length>0&&n.random.enable){r=[];const a=[];for(let l=0;l<n.random.count;l++){const u=DC(n.value);if(a.includes(u)&&a.length<n.value.length){l--;continue}a.push(u),r.push(vh(n.value,u))}}else r=n.value;else r=n==null?void 0:n.value;const s=r??i,o=this.container.interactivity.mouse.clickPosition;Gi(s,a=>{this.addEmitter(a,o)})}async init(){if(this.emitters=this.container.actualOptions.emitters,this.interactivityEmitters=this.container.actualOptions.interactivity.modes.emitters,!!this.emitters)if(vt(this.emitters))for(const e of this.emitters)this.addEmitter(e);else this.addEmitter(this.emitters)}pause(){for(const e of this.array)e.pause()}play(){for(const e of this.array)e.play()}removeEmitter(e){const i=this.array.indexOf(e);i>=0&&this.array.splice(i,1)}resize(){for(const e of this.array)e.resize()}stop(){this.array=[]}update(e){for(const i of this.array)i.update(e)}}const yp=new Map;class Q7{constructor(e){this._engine=e}addShape(e,i){this.getShape(e)||yp.set(e,i)}getShape(e){return yp.get(e)}getSupportedShapes(){return yp.keys()}}function hb(t,e){return t+e*(ye()-.5)}class J7{randomPosition(e,i,n){if(n)return{x:hb(e.x,i.width),y:hb(e.y,i.height)};{const r=i.width/2,s=i.height/2,o=Math.floor(ye()*4),a=(ye()-.5)*2;switch(o){case 0:return{x:e.x+a*r,y:e.y-s};case 1:return{x:e.x-r,y:e.y+a*s};case 2:return{x:e.x+a*r,y:e.y+s};case 3:default:return{x:e.x+r,y:e.y+a*s}}}}}class Z7{constructor(e){this._engine=e,this.id="emitters"}getPlugin(e){return new Y7(this._engine,e)}loadOptions(e,i){var r,s;if(!this.needsPlugin(e)&&!this.needsPlugin(i))return;i!=null&&i.emitters&&(e.emitters=Gi(i.emitters,o=>{const a=new rr;return a.load(o),a}));const n=(s=(r=i==null?void 0:i.interactivity)==null?void 0:r.modes)==null?void 0:s.emitters;if(n)if(vt(n))e.interactivity.modes.emitters={random:{count:1,enable:!0},value:n.map(o=>{const a=new rr;return a.load(o),a})};else{const o=n;if(o.value!==void 0)if(vt(o.value))e.interactivity.modes.emitters={random:{count:o.random.count??1,enable:o.random.enable??!1},value:o.value.map(a=>{const l=new rr;return l.load(a),l})};else{const a=new rr;a.load(o.value),e.interactivity.modes.emitters={random:{count:o.random.count??1,enable:o.random.enable??!1},value:a}}else(e.interactivity.modes.emitters={random:{count:1,enable:!1},value:new rr}).value.load(n)}}needsPlugin(e){var n,r,s;if(!e)return!1;const i=e.emitters;return vt(i)&&!!i.length||i!==void 0||!!((s=(r=(n=e.interactivity)==null?void 0:n.events)==null?void 0:r.onClick)!=null&&s.mode)&&Sy("emitter",e.interactivity.events.onClick.mode)}}async function ej(t,e=!0){t.emitterShapeManager||(t.emitterShapeManager=new Q7(t)),t.addEmitterShape||(t.addEmitterShape=(n,r)=>{var s;(s=t.emitterShapeManager)==null||s.addShape(n,r)});const i=new Z7(t);await t.addPlugin(i,e),t.addEmitterShape("circle",new W7),t.addEmitterShape("square",new J7)}class tj{draw(e,i,n){const r=-n,s=-n;e.moveTo(r,s+n/2),e.quadraticCurveTo(r,s,r+n/2,s),e.quadraticCurveTo(r+n,s,r+n,s+n/2),e.quadraticCurveTo(r+n,s,r+n*3/2,s),e.quadraticCurveTo(r+n*2,s,r+n*2,s+n/2),e.quadraticCurveTo(r+n*2,s+n,r+n*3/2,s+n*3/2),e.lineTo(r+n,s+n*2),e.lineTo(r+n/2,s+n*3/2),e.quadraticCurveTo(r,s+n,r,s+n/2)}}async function ij(t,e=!0){await t.addShape("heart",new tj,e)}const vp=[0,4,2,1],fb=[8,8,4,2];class nj{constructor(e){this.pos=0,this.data=new Uint8ClampedArray(e)}getString(e){const i=this.data.slice(this.pos,this.pos+e);return this.pos+=i.length,i.reduce((n,r)=>n+String.fromCharCode(r),"")}nextByte(){return this.data[this.pos++]}nextTwoBytes(){return this.pos+=2,this.data[this.pos-2]+(this.data[this.pos-1]<<8)}readSubBlocks(){let e="",i=0;do{i=this.data[this.pos++];for(let n=i;--n>=0;e+=String.fromCharCode(this.data[this.pos++]));}while(i!==0);return e}readSubBlocksBin(){let e=0,i=0;for(let r=0;(e=this.data[this.pos+r])!==0;r+=e+1)i+=e;const n=new Uint8Array(i);for(let r=0;(e=this.data[this.pos++])!==0;)for(let s=e;--s>=0;n[r++]=this.data[this.pos++]);return n}skipSubBlocks(){for(;this.data[this.pos]!==0;this.pos+=this.data[this.pos]+1);this.pos++}}function $C(t,e){const i=[];for(let n=0;n<e;n++)i.push({r:t.data[t.pos],g:t.data[t.pos+1],b:t.data[t.pos+2]}),t.pos+=3;return i}async function rj(t,e,i,n){switch(t.nextByte()){case 249:{const r=e.frames[i(!1)];t.pos++;const s=t.nextByte();r.GCreserved=(s&224)>>>5,r.disposalMethod=(s&28)>>>2,r.userInputDelayFlag=(s&2)===2;const o=(s&1)===1;r.delayTime=t.nextTwoBytes()*10;const a=t.nextByte();o&&n(a),t.pos++;break}case 255:{t.pos++;const r={identifier:t.getString(8),authenticationCode:t.getString(3),data:t.readSubBlocksBin()};e.applicationExtensions.push(r);break}case 254:{e.comments.push([i(!1),t.readSubBlocks()]);break}case 1:{if(e.globalColorTable.length===0)throw new EvalError("plain text extension without global color table");t.pos++,e.frames[i(!1)].plainTextData={left:t.nextTwoBytes(),top:t.nextTwoBytes(),width:t.nextTwoBytes(),height:t.nextTwoBytes(),charSize:{width:t.nextTwoBytes(),height:t.nextTwoBytes()},foregroundColor:t.nextByte(),backgroundColor:t.nextByte(),text:t.readSubBlocks()};break}default:t.skipSubBlocks();break}}async function sj(t,e,i,n,r,s){const o=e.frames[n(!0)];o.left=t.nextTwoBytes(),o.top=t.nextTwoBytes(),o.width=t.nextTwoBytes(),o.height=t.nextTwoBytes();const a=t.nextByte(),l=(a&128)===128,u=(a&64)===64;o.sortFlag=(a&32)===32,o.reserved=(a&24)>>>3;const d=1<<(a&7)+1;l&&(o.localColorTable=$C(t,d));const p=x=>{const{r:b,g:S,b:E}=(l?o.localColorTable:e.globalColorTable)[x];return{r:b,g:S,b:E,a:x===r(null)?i?~~((b+S+E)/3):0:255}},y=(()=>{try{return new ImageData(o.width,o.height,{colorSpace:"srgb"})}catch(x){if(x instanceof DOMException&&x.name==="IndexSizeError")return null;throw x}})();if(y==null)throw new EvalError("GIF frame size is to large");const T=t.nextByte(),v=t.readSubBlocksBin(),w=1<<T,k=(x,b)=>{const S=x>>>3,E=x&7;return(v[S]+(v[S+1]<<8)+(v[S+2]<<16)&(1<<b)-1<<E)>>>E};if(u){for(let x=0,b=T+1,S=0,E=[[0]],A=0;A<4;A++){if(vp[A]<o.height)for(let N=0,M=0;;){const U=x;if(x=k(S,b),S+=b+1,x===w){b=T+1,E.length=w+2;for(let H=0;H<E.length;H++)E[H]=H<w?[H]:[]}else{x>=E.length?E.push(E[U].concat(E[U][0])):U!==w&&E.push(E[U].concat(E[x][0]));for(let H=0;H<E[x].length;H++){const{r:j,g:Q,b:ie,a:q}=p(E[x][H]);y.data.set([j,Q,ie,q],vp[A]*o.width+fb[A]*M+N%(o.width*4)),N+=4}E.length===1<<b&&b<12&&b++}if(N===o.width*4*(M+1)&&(M++,vp[A]+fb[A]*M>=o.height))break}s==null||s(t.pos/(t.data.length-1),n(!1)+1,y,{x:o.left,y:o.top},{width:e.width,height:e.height})}o.image=y,o.bitmap=await createImageBitmap(y)}else{for(let x=0,b=T+1,S=0,E=[[0]],A=-4;;){const N=x;if(x=k(S,b),S+=b,x===w){b=T+1,E.length=w+2;for(let M=0;M<E.length;M++)E[M]=M<w?[M]:[]}else{if(x===w+1)break;x>=E.length?E.push(E[N].concat(E[N][0])):N!==w&&E.push(E[N].concat(E[x][0]));for(let M=0;M<E[x].length;M++){const{r:U,g:H,b:j,a:Q}=p(E[x][M]);y.data.set([U,H,j,Q],A+=4)}E.length>=1<<b&&b<12&&b++}}o.image=y,o.bitmap=await createImageBitmap(y),s==null||s((t.pos+1)/t.data.length,n(!1)+1,o.image,{x:o.left,y:o.top},{width:e.width,height:e.height})}}async function oj(t,e,i,n,r,s){switch(t.nextByte()){case 59:return!0;case 44:await sj(t,e,i,n,r,s);break;case 33:await rj(t,e,n,r);break;default:throw new EvalError("undefined block found")}return!1}function aj(t){for(const e of t.applicationExtensions)if(e.identifier+e.authenticationCode==="NETSCAPE2.0")return e.data[1]+(e.data[2]<<8);return NaN}async function lj(t,e,i){i||(i=!1);const n=await fetch(t);if(!n.ok&&n.status===404)throw new EvalError("file not found");const r=await n.arrayBuffer(),s={width:0,height:0,totalTime:0,colorRes:0,pixelAspectRatio:0,frames:[],sortFlag:!1,globalColorTable:[],backgroundImage:new ImageData(1,1,{colorSpace:"srgb"}),comments:[],applicationExtensions:[]},o=new nj(new Uint8ClampedArray(r));if(o.getString(6)!=="GIF89a")throw new Error("not a supported GIF file");s.width=o.nextTwoBytes(),s.height=o.nextTwoBytes();const a=o.nextByte(),l=(a&128)===128;s.colorRes=(a&112)>>>4,s.sortFlag=(a&8)===8;const u=1<<(a&7)+1,d=o.nextByte();s.pixelAspectRatio=o.nextByte(),s.pixelAspectRatio!==0&&(s.pixelAspectRatio=(s.pixelAspectRatio+15)/64),l&&(s.globalColorTable=$C(o,u));const p=(()=>{try{return new ImageData(s.width,s.height,{colorSpace:"srgb"})}catch(E){if(E instanceof DOMException&&E.name==="IndexSizeError")return null;throw E}})();if(p==null)throw new Error("GIF frame size is to large");const{r:y,g:T,b:v}=s.globalColorTable[d];p.data.set(l?[y,T,v,255]:[0,0,0,0]);for(let E=4;E<p.data.length;E*=2)p.data.copyWithin(E,0,E);s.backgroundImage=p;let w=-1,k=!0,x=-1;const b=E=>(E&&(k=!0),w),S=E=>(E!=null&&(x=E),x);try{do k&&(s.frames.push({left:0,top:0,width:0,height:0,disposalMethod:0,image:new ImageData(1,1,{colorSpace:"srgb"}),plainTextData:null,userInputDelayFlag:!1,delayTime:0,sortFlag:!1,localColorTable:[],reserved:0,GCreserved:0}),w++,x=-1,k=!1);while(!await oj(o,s,i,b,S,e));s.frames.length--;for(const E of s.frames){if(E.userInputDelayFlag&&E.delayTime===0){s.totalTime=1/0;break}s.totalTime+=E.delayTime}return s}catch(E){throw E instanceof EvalError?new Error(`error while parsing frame ${w} "${E.message}"`):E}}const uj=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d.]+%?\))|currentcolor/gi;function cj(t,e,i){const{svgData:n}=t;if(!n)return"";const r=pg(e,i);if(n.includes("fill"))return n.replace(uj,()=>r);const s=n.indexOf(">");return`${n.substring(0,s)} fill="${r}"${n.substring(s)}`}async function Sh(t){return new Promise(e=>{t.loading=!0;const i=new Image;t.element=i,i.addEventListener("load",()=>{t.loading=!1,e()}),i.addEventListener("error",()=>{t.element=void 0,t.error=!0,t.loading=!1,rs().error(`${Li} loading image: ${t.source}`),e()}),i.src=t.source})}async function dj(t){if(t.type!=="gif"){await Sh(t);return}t.loading=!0;try{t.gifData=await lj(t.source),t.gifLoopCount=aj(t.gifData)??0,t.gifLoopCount===0&&(t.gifLoopCount=1/0)}catch{t.error=!0}t.loading=!1}async function hj(t){if(t.type!=="svg"){await Sh(t);return}t.loading=!0;const e=await fetch(t.source);e.ok?t.svgData=await e.text():(rs().error(`${Li} Image not found`),t.error=!0),t.loading=!1}function fj(t,e,i,n){var o;const r=cj(t,i,((o=n.opacity)==null?void 0:o.value)??1),s={color:i,gif:e.gif,data:{...t,svgData:r},loaded:!1,ratio:e.width/e.height,replaceColor:e.replaceColor??e.replace_color,source:e.src};return new Promise(a=>{const l=new Blob([r],{type:"image/svg+xml"}),u=URL||window.URL||window.webkitURL||window,d=u.createObjectURL(l),p=new Image;p.addEventListener("load",()=>{s.loaded=!0,s.element=p,a(s),u.revokeObjectURL(d)}),p.addEventListener("error",async()=>{u.revokeObjectURL(d);const y={...t,error:!1,loading:!0};await Sh(y),s.loaded=!0,s.element=y.element,a(s)}),p.src=d})}class pj{constructor(e){this.loadImageShape=async i=>{if(!this._engine.loadImage)throw new Error(`${Li} image shape not initialized`);await this._engine.loadImage({gif:i.gif,name:i.name,replaceColor:i.replaceColor??i.replace_color??!1,src:i.src})},this._engine=e}addImage(e){this._engine.images||(this._engine.images=[]),this._engine.images.push(e)}draw(e,i,n,r,s){const o=i.image,a=o==null?void 0:o.element;if(o){if(e.globalAlpha=r,o.gif&&o.gifData){const l=new OffscreenCanvas(o.gifData.width,o.gifData.height),u=l.getContext("2d");if(!u)throw new Error("could not create offscreen canvas context");u.imageSmoothingQuality="low",u.imageSmoothingEnabled=!1,u.clearRect(0,0,l.width,l.height),i.gifLoopCount===void 0&&(i.gifLoopCount=o.gifLoopCount??0);let d=i.gifFrame??0;const p={x:-o.gifData.width*.5,y:-o.gifData.height*.5},y=o.gifData.frames[d];if(i.gifTime===void 0&&(i.gifTime=0),!y.bitmap)return;switch(e.scale(n/o.gifData.width,n/o.gifData.height),y.disposalMethod){case 4:case 5:case 6:case 7:case 0:u.drawImage(y.bitmap,y.left,y.top),e.drawImage(l,p.x,p.y),u.clearRect(0,0,l.width,l.height);break;case 1:u.drawImage(y.bitmap,y.left,y.top),e.drawImage(l,p.x,p.y);break;case 2:u.drawImage(y.bitmap,y.left,y.top),e.drawImage(l,p.x,p.y),u.clearRect(0,0,l.width,l.height),o.gifData.globalColorTable.length===0?u.putImageData(o.gifData.frames[0].image,p.x+y.left,p.y+y.top):u.putImageData(o.gifData.backgroundImage,p.x,p.y);break;case 3:{const T=u.getImageData(0,0,l.width,l.height);u.drawImage(y.bitmap,y.left,y.top),e.drawImage(l,p.x,p.y),u.clearRect(0,0,l.width,l.height),u.putImageData(T,0,0)}break}if(i.gifTime+=s.value,i.gifTime>y.delayTime){if(i.gifTime-=y.delayTime,++d>=o.gifData.frames.length){if(--i.gifLoopCount<=0)return;d=0,u.clearRect(0,0,l.width,l.height)}i.gifFrame=d}e.scale(o.gifData.width/n,o.gifData.height/n)}else if(a){const l=o.ratio,u={x:-n,y:-n};e.drawImage(a,u.x,u.y,n*2,n*2/l)}e.globalAlpha=1}}getSidesCount(){return 12}async init(e){const i=e.actualOptions;if(!(!i.preload||!this._engine.loadImage))for(const n of i.preload)await this._engine.loadImage(n)}loadShape(e){if(e.shape!=="image"&&e.shape!=="images")return;this._engine.images||(this._engine.images=[]);const i=e.shapeData;this._engine.images.find(r=>r.name===i.name||r.source===i.src)||this.loadImageShape(i).then(()=>{this.loadShape(e)})}particleInit(e,i){if(i.shape!=="image"&&i.shape!=="images")return;this._engine.images||(this._engine.images=[]);const n=this._engine.images,r=i.shapeData,s=i.getFillColor(),o=n.find(l=>l.name===r.name||l.source===r.src);if(!o)return;const a=r.replaceColor??r.replace_color??o.replaceColor;if(o.loading){setTimeout(()=>{this.particleInit(e,i)});return}(async()=>{let l;o.svgData&&s?l=await fj(o,r,s,i):l={color:s,data:o,element:o.element,gif:o.gif,gifData:o.gifData,gifLoopCount:o.gifLoopCount,loaded:!0,ratio:r.width&&r.height?r.width/r.height:o.ratio??1,replaceColor:a,source:r.src},l.ratio||(l.ratio=1);const u=r.fill??i.fill,d=r.close??i.close,p={image:l,fill:u,close:d};i.image=p.image,i.fill=p.fill,i.close=p.close})()}}class mj{constructor(){this.src="",this.gif=!1}load(e){e&&(e.gif!==void 0&&(this.gif=e.gif),e.height!==void 0&&(this.height=e.height),e.name!==void 0&&(this.name=e.name),e.replaceColor!==void 0&&(this.replaceColor=e.replaceColor),e.src!==void 0&&(this.src=e.src),e.width!==void 0&&(this.width=e.width))}}class gj{constructor(e){this.id="imagePreloader",this._engine=e}getPlugin(){return{}}loadOptions(e,i){if(!i||!i.preload)return;e.preload||(e.preload=[]);const n=e.preload;for(const r of i.preload){const s=n.find(o=>o.name===r.name||o.src===r.src);if(s)s.load(r);else{const o=new mj;o.load(r),n.push(o)}}}needsPlugin(){return!0}}function yj(t){t.loadImage||(t.loadImage=async e=>{if(!e.name&&!e.src)throw new Error(`${Li} no image source provided`);if(t.images||(t.images=[]),!t.images.find(i=>i.name===e.name||i.source===e.src))try{const i={gif:e.gif??!1,name:e.name??e.src,source:e.src,type:e.src.substring(e.src.length-3),error:!1,loading:!0,replaceColor:e.replaceColor,ratio:e.width&&e.height?e.width/e.height:void 0};t.images.push(i),await(e.gif?dj:e.replaceColor?hj:Sh)(i)}catch{throw new Error(`${Li} ${e.name??e.src} not found`)}})}async function vj(t,e=!0){yj(t);const i=new gj(t);await t.addPlugin(i,e),await t.addShape(["image","images"],new pj(t),e)}class _j extends Gn{constructor(){super(),this.sync=!1}load(e){e&&(super.load(e),e.sync!==void 0&&(this.sync=e.sync))}}class bj extends Gn{constructor(){super(),this.random.minimumValue=1e-4,this.sync=!1}load(e){e&&(super.load(e),e.sync!==void 0&&(this.sync=e.sync))}}class xj{constructor(){this.count=0,this.delay=new _j,this.duration=new bj}load(e){e&&(e.count!==void 0&&(this.count=e.count),this.delay.load(e.delay),this.duration.load(e.duration))}}class Tj{constructor(e){this.container=e}init(e){const i=this.container,n=e.options,r=n.life;r&&(e.life={delay:i.retina.reduceFactor?le(r.delay.value)*(r.delay.sync?1:ye())/i.retina.reduceFactor*1e3:0,delayTime:0,duration:i.retina.reduceFactor?le(r.duration.value)*(r.duration.sync?1:ye())/i.retina.reduceFactor*1e3:0,time:0,count:r.count},e.life.duration<=0&&(e.life.duration=-1),e.life.count<=0&&(e.life.count=-1),e.life&&(e.spawning=e.life.delay>0))}isEnabled(e){return!e.destroyed}loadOptions(e,...i){e.life||(e.life=new xj);for(const n of i)e.life.load(n==null?void 0:n.life)}update(e,i){if(!this.isEnabled(e)||!e.life)return;const n=e.life;let r=!1;if(e.spawning)if(n.delayTime+=i.value,n.delayTime>=e.life.delay)r=!0,e.spawning=!1,n.delayTime=0,n.time=0;else return;if(n.duration===-1||e.spawning||(r?n.time=0:n.time+=i.value,n.time<n.duration))return;if(n.time=0,e.life.count>0&&e.life.count--,e.life.count===0){e.destroy();return}const s=this.container.canvas.size,o=he(0,s.width),a=he(0,s.width);e.position.x=Gt(o),e.position.y=Gt(a),e.spawning=!0,n.delayTime=0,n.time=0,e.reset();const l=e.options.life;l&&(n.delay=le(l.delay.value)*1e3,n.duration=le(l.duration.value)*1e3)}}async function wj(t,e=!0){await t.addParticleUpdater("life",i=>new Tj(i),e)}class Sj{constructor(){this.factor=4,this.value=!0}load(e){e&&(e.factor!==void 0&&(this.factor=e.factor),e.value!==void 0&&(this.value=e.value))}}class Ej{constructor(){this.disable=!1,this.reduce=new Sj}load(e){e&&(e.disable!==void 0&&(this.disable=e.disable),this.reduce.load(e.reduce))}}class Cj{constructor(e,i){this._handleMotionChange=n=>{const r=this._container,s=r.actualOptions.motion;s&&(r.retina.reduceFactor=n.matches?s.disable?0:s.reduce.value?1/s.reduce.factor:1:1)},this._container=e,this._engine=i}async init(){const e=this._container,i=e.actualOptions.motion;if(!(i&&(i.disable||i.reduce.value))){e.retina.reduceFactor=1;return}const n=wy("(prefers-reduced-motion: reduce)");if(!n){e.retina.reduceFactor=1;return}this._handleMotionChange(n);const r=async()=>{this._handleMotionChange(n);try{await e.refresh()}catch{}};n.addEventListener!==void 0?n.addEventListener("change",r):n.addListener!==void 0&&n.addListener(r)}}class kj{constructor(e){this.id="motion",this._engine=e}getPlugin(e){return new Cj(e,this._engine)}loadOptions(e,i){if(!this.needsPlugin())return;let n=e.motion;n!=null&&n.load||(e.motion=n=new Ej),n.load(i==null?void 0:i.motion)}needsPlugin(){return!0}}async function Dj(t,e=!0){await t.addPlugin(new kj(t),e)}class zC{draw(e,i,n){const r=this.getCenter(i,n),s=this.getSidesData(i,n),o=s.count.numerator*s.count.denominator,a=s.count.numerator/s.count.denominator,l=180*(a-2)/a,u=Math.PI-Math.PI*l/180;if(e){e.beginPath(),e.translate(r.x,r.y),e.moveTo(0,0);for(let d=0;d<o;d++)e.lineTo(s.length,0),e.translate(s.length,0),e.rotate(u)}}getSidesCount(e){const i=e.shapeData;return Math.round(le((i==null?void 0:i.sides)??(i==null?void 0:i.nb_sides)??5))}}class Aj extends zC{getCenter(e,i){return{x:-i/(e.sides/3.5),y:-i/(2.66/3.5)}}getSidesData(e,i){const n=e.sides;return{count:{denominator:1,numerator:n},length:i*2.66/(n/3)}}}class Pj extends zC{getCenter(e,i){return{x:-i,y:i/1.66}}getSidesCount(){return 3}getSidesData(e,i){return{count:{denominator:2,numerator:3},length:i*2}}}async function Ij(t,e=!0){await t.addShape("polygon",new Aj,e)}async function Oj(t,e=!0){await t.addShape("triangle",new Pj,e)}async function Lj(t,e=!0){await Ij(t,e),await Oj(t,e)}function Nj(t){const e=t.options.roll;if(!(e!=null&&e.enable)){t.roll={enable:!1,horizontal:!1,vertical:!1,angle:0,speed:0};return}if(t.roll={enable:e.enable,horizontal:e.mode==="horizontal"||e.mode==="both",vertical:e.mode==="vertical"||e.mode==="both",angle:ye()*Math.PI*2,speed:le(e.speed)/360},e.backColor)t.backColor=Sl(e.backColor);else if(e.darken.enable&&e.enlighten.enable){const i=ye()>=.5?"darken":"enlighten";t.roll.alter={type:i,value:le(i==="darken"?e.darken.value:e.enlighten.value)}}else e.darken.enable?t.roll.alter={type:"darken",value:le(e.darken.value)}:e.enlighten.enable&&(t.roll.alter={type:"enlighten",value:le(e.enlighten.value)})}function Rj(t,e){const i=t.options.roll,n=t.roll;if(!n||!(i!=null&&i.enable))return;const r=n.speed*e.factor,s=2*Math.PI;n.angle+=r,n.angle>s&&(n.angle-=s)}class pb{constructor(){this.enable=!1,this.value=0}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.value!==void 0&&(this.value=he(e.value)))}}class Mj{constructor(){this.darken=new pb,this.enable=!1,this.enlighten=new pb,this.mode="vertical",this.speed=25}load(e){e&&(e.backColor!==void 0&&(this.backColor=Xi.create(this.backColor,e.backColor)),this.darken.load(e.darken),e.enable!==void 0&&(this.enable=e.enable),this.enlighten.load(e.enlighten),e.mode!==void 0&&(this.mode=e.mode),e.speed!==void 0&&(this.speed=he(e.speed)))}}class Bj{getTransformValues(e){var s;const i=((s=e.roll)==null?void 0:s.enable)&&e.roll,n=i&&i.horizontal,r=i&&i.vertical;return{a:n?Math.cos(i.angle):void 0,d:r?Math.sin(i.angle):void 0}}init(e){Nj(e)}isEnabled(e){const i=e.options.roll;return!e.destroyed&&!e.spawning&&!!(i!=null&&i.enable)}loadOptions(e,...i){e.roll||(e.roll=new Mj);for(const n of i)e.roll.load(n==null?void 0:n.roll)}update(e,i){this.isEnabled(e)&&Rj(e,i)}}async function Fj(t,e=!0){await t.addParticleUpdater("roll",()=>new Bj,e)}class jj{constructor(){this.enable=!1,this.speed=0,this.decay=0,this.sync=!1}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=he(e.speed)),e.decay!==void 0&&(this.decay=he(e.decay)),e.sync!==void 0&&(this.sync=e.sync))}}class Uj extends Gn{constructor(){super(),this.animation=new jj,this.direction="clockwise",this.path=!1,this.value=0}load(e){e&&(super.load(e),e.direction!==void 0&&(this.direction=e.direction),this.animation.load(e.animation),e.path!==void 0&&(this.path=e.path))}}function $j(t,e){const i=t.rotate,n=t.options.rotate;if(!i||!n)return;const r=n.animation,s=(i.velocity??0)*e.factor,o=2*Math.PI,a=i.decay??1;if(r.enable){switch(i.status){case"increasing":i.value+=s,i.value>o&&(i.value-=o);break;case"decreasing":default:i.value-=s,i.value<0&&(i.value+=o);break}i.velocity&&a!==1&&(i.velocity*=a)}}class zj{constructor(e){this.container=e}init(e){const i=e.options.rotate;if(!i)return;e.rotate={enable:i.animation.enable,value:le(i.value)*Math.PI/180},e.pathRotation=i.path;let n=i.direction;switch(n==="random"&&(n=Math.floor(ye()*2)>0?"counter-clockwise":"clockwise"),n){case"counter-clockwise":case"counterClockwise":e.rotate.status="decreasing";break;case"clockwise":e.rotate.status="increasing";break}const r=i.animation;r.enable&&(e.rotate.decay=1-le(r.decay),e.rotate.velocity=le(r.speed)/360*this.container.retina.reduceFactor,r.sync||(e.rotate.velocity*=ye())),e.rotation=e.rotate.value}isEnabled(e){const i=e.options.rotate;return i?!e.destroyed&&!e.spawning&&i.animation.enable&&!i.path:!1}loadOptions(e,...i){e.rotate||(e.rotate=new Uj);for(const n of i)e.rotate.load(n==null?void 0:n.rotate)}update(e,i){var n;this.isEnabled(e)&&($j(e,i),e.rotation=((n=e.rotate)==null?void 0:n.value)??0)}}async function Vj(t,e=!0){await t.addParticleUpdater("rotate",i=>new zj(i),e)}const Hj=Math.sqrt(2);class qj{draw(e,i,n){const r=n/Hj,s=r*2;e.rect(-r,-r,s,s)}getSidesCount(){return 4}}async function Wj(t,e=!0){await t.addShape(["edge","square"],new qj,e)}class Gj{draw(e,i,n){const r=i.sides,s=i.starInset??2;e.moveTo(0,0-n);for(let o=0;o<r;o++)e.rotate(Math.PI/r),e.lineTo(0,0-n*s),e.rotate(Math.PI/r),e.lineTo(0,0-n)}getSidesCount(e){const i=e.shapeData;return Math.round(le((i==null?void 0:i.sides)??(i==null?void 0:i.nb_sides)??5))}particleInit(e,i){const n=i.shapeData,r=le((n==null?void 0:n.inset)??2);i.starInset=r}}async function Xj(t,e=!0){await t.addShape("star",new Gj,e)}const mc=["text","character","char"];class Kj{draw(e,i,n,r){const s=i.shapeData;if(s===void 0)return;const o=s.value;if(o===void 0)return;i.text===void 0&&(i.text=gr(o,i.randomIndexData));const a=i.text,l=s.style??"",u=s.weight??"400",d=Math.round(n)*2,p=s.font??"Verdana",y=i.fill,T=a.length*n/2;e.font=`${l} ${u} ${d}px "${p}"`;const v={x:-T,y:n/2};e.globalAlpha=r,y?e.fillText(a,v.x,v.y):e.strokeText(a,v.x,v.y),e.globalAlpha=1}getSidesCount(){return 12}async init(e){const i=e.actualOptions;if(mc.find(n=>Sy(n,i.particles.shape.type))){const n=mc.map(s=>i.particles.shape.options[s]).find(s=>!!s),r=[];Gi(n,s=>{r.push(jF(s.font,s.weight))}),await Promise.all(r)}}particleInit(e,i){if(!i.shape||!mc.includes(i.shape))return;const n=i.shapeData;if(n===void 0)return;const r=n.value;r!==void 0&&(i.text=gr(r,i.randomIndexData))}}async function Yj(t,e=!0){await t.addShape(mc,new Kj,e)}class Qj{constructor(){this.enable=!1,this.speed=0,this.decay=0,this.sync=!1}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=he(e.speed)),e.decay!==void 0&&(this.decay=he(e.decay)),e.sync!==void 0&&(this.sync=e.sync))}}class Jj extends Gn{constructor(){super(),this.animation=new Qj,this.direction="clockwise",this.enable=!1,this.value=0}load(e){super.load(e),e&&(this.animation.load(e.animation),e.direction!==void 0&&(this.direction=e.direction),e.enable!==void 0&&(this.enable=e.enable))}}function Zj(t,e){if(!t.tilt||!t.options.tilt)return;const i=t.options.tilt,n=i.animation,r=(t.tilt.velocity??0)*e.factor,s=2*Math.PI,o=t.tilt.decay??1;if(n.enable){switch(t.tilt.status){case"increasing":t.tilt.value+=r,t.tilt.value>s&&(t.tilt.value-=s);break;case"decreasing":default:t.tilt.value-=r,t.tilt.value<0&&(t.tilt.value+=s);break}t.tilt.velocity&&o!==1&&(t.tilt.velocity*=o)}}class eU{constructor(e){this.container=e}getTransformValues(e){var n;const i=((n=e.tilt)==null?void 0:n.enable)&&e.tilt;return{b:i?Math.cos(i.value)*i.cosDirection:void 0,c:i?Math.sin(i.value)*i.sinDirection:void 0}}init(e){var s;const i=e.options.tilt;if(!i)return;e.tilt={enable:i.enable,value:le(i.value)*Math.PI/180,sinDirection:ye()>=.5?1:-1,cosDirection:ye()>=.5?1:-1};let n=i.direction;switch(n==="random"&&(n=Math.floor(ye()*2)>0?"counter-clockwise":"clockwise"),n){case"counter-clockwise":case"counterClockwise":e.tilt.status="decreasing";break;case"clockwise":e.tilt.status="increasing";break}const r=(s=e.options.tilt)==null?void 0:s.animation;r!=null&&r.enable&&(e.tilt.decay=1-le(r.decay),e.tilt.velocity=le(r.speed)/360*this.container.retina.reduceFactor,r.sync||(e.tilt.velocity*=ye()))}isEnabled(e){var n;const i=(n=e.options.tilt)==null?void 0:n.animation;return!e.destroyed&&!e.spawning&&!!(i!=null&&i.enable)}loadOptions(e,...i){e.tilt||(e.tilt=new Jj);for(const n of i)e.tilt.load(n==null?void 0:n.tilt)}update(e,i){this.isEnabled(e)&&Zj(e,i)}}async function tU(t,e=!0){await t.addParticleUpdater("tilt",i=>new eU(i),e)}class iU{constructor(){this.angle=50,this.move=10}load(e){e&&(e.angle!==void 0&&(this.angle=he(e.angle)),e.move!==void 0&&(this.move=he(e.move)))}}class nU{constructor(){this.distance=5,this.enable=!1,this.speed=new iU}load(e){if(e&&(e.distance!==void 0&&(this.distance=he(e.distance)),e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0))if(ci(e.speed))this.speed.load({angle:e.speed});else{const i=e.speed;i.min!==void 0?this.speed.load({angle:i}):this.speed.load(e.speed)}}}function rU(t,e){const{wobble:i}=t.options,{wobble:n}=t;if(!(i!=null&&i.enable)||!n)return;const r=n.angleSpeed*e.factor,s=n.moveSpeed*e.factor,o=s*((t.retina.wobbleDistance??0)*e.factor)/(1e3/60),a=2*Math.PI,{position:l}=t;n.angle+=r,n.angle>a&&(n.angle-=a),l.x+=o*Math.cos(n.angle),l.y+=o*Math.abs(Math.sin(n.angle))}class sU{constructor(e){this.container=e}init(e){const i=e.options.wobble;i!=null&&i.enable?e.wobble={angle:ye()*Math.PI*2,angleSpeed:le(i.speed.angle)/360,moveSpeed:le(i.speed.move)/10}:e.wobble={angle:0,angleSpeed:0,moveSpeed:0},e.retina.wobbleDistance=le((i==null?void 0:i.distance)??0)*this.container.retina.pixelRatio}isEnabled(e){var i;return!e.destroyed&&!e.spawning&&!!((i=e.options.wobble)!=null&&i.enable)}loadOptions(e,...i){e.wobble||(e.wobble=new nU);for(const n of i)e.wobble.load(n==null?void 0:n.wobble)}update(e,i){this.isEnabled(e)&&rU(e,i)}}async function oU(t,e=!0){await t.addParticleUpdater("wobble",i=>new sU(i),e)}let _p=!1,bp=!1;const xp=new Map;async function VC(t){if(!_p){if(bp)return new Promise(e=>{const i=setInterval(()=>{_p&&(clearInterval(i),e())},100)});bp=!0,await U7(t),await ej(t),await Dj(t),await q7(t),await ij(t),await vj(t),await Lj(t),await Wj(t),await Xj(t),await Yj(t),await Vj(t),await wj(t),await Fj(t),await tU(t),await oU(t),bp=!1,_p=!0}}async function HC(t){const e=new c7;e.load(t.options);let i;const n=120,r=e.ticks*1e3/(3600*n);if(xp.has(t.id)&&(i=xp.get(t.id),i&&!i.destroyed)){const o=i;if(o.addEmitter){o.addEmitter({startCount:e.count,position:e.position,size:{width:0,height:0},rate:{delay:0,quantity:0},life:{duration:.1,count:1},particles:{color:{value:e.colors},shape:{type:e.shapes,options:e.shapeOptions},life:{count:1},opacity:{value:{min:0,max:1},animation:{enable:!0,sync:!0,speed:r,startValue:"max",destroy:"min"}},size:{value:5*e.scalar},move:{angle:{value:e.spread,offset:0},drift:{min:-e.drift,max:e.drift},gravity:{acceleration:e.gravity*9.81},speed:e.startVelocity*3,decay:1-e.decay,direction:-e.angle}}});return}}const s={fullScreen:{enable:!t.canvas,zIndex:e.zIndex},fpsLimit:120,particles:{number:{value:0},color:{value:e.colors},shape:{type:e.shapes,options:e.shapeOptions},opacity:{value:{min:0,max:1},animation:{enable:!0,sync:!0,speed:r,startValue:"max",destroy:"min"}},size:{value:5*e.scalar},links:{enable:!1},life:{count:1},move:{angle:{value:e.spread,offset:0},drift:{min:-e.drift,max:e.drift},enable:!0,gravity:{enable:!0,acceleration:e.gravity*9.81},speed:e.startVelocity*3,decay:1-e.decay,direction:-e.angle,random:!0,straight:!1,outModes:{default:"none",bottom:"destroy"}},rotate:{value:{min:0,max:360},direction:"random",animation:{enable:!0,speed:60}},tilt:{direction:"random",enable:!0,value:{min:0,max:360},animation:{enable:!0,speed:60}},roll:{darken:{enable:!0,value:25},enable:!0,speed:{min:15,max:25}},wobble:{distance:30,enable:!0,speed:{min:-15,max:15}}},detectRetina:!0,motion:{disable:e.disableForReducedMotion},emitters:{name:"confetti",startCount:e.count,position:e.position,size:{width:0,height:0},rate:{delay:0,quantity:0},life:{duration:.1,count:1}}};return i=await zl.load({id:t.id,element:t.canvas,options:s}),xp.set(t.id,i),i}async function ko(t,e){await VC(zl);let i,n;return Di(t)?(n=t,i=e??{}):(n="confetti",i=t),HC({id:n,options:i})}ko.create=async(t,e)=>{if(!t)return ko;await VC(zl);const i=t.getAttribute("id")||"confetti";return t.setAttribute("id",i),async(n,r)=>{let s,o;return Di(n)?(o=n,s=r??e):(o=i,s=n),HC({id:o,canvas:t,options:s})}};ko.version=zl.version;$l()||(window.confetti=ko);function aU(){const[t,e]=z.useState(!1),[i,n]=z.useState(!1),[r,s]=z.useState(!1),[o,a]=z.useState(null),[l,u]=z.useState(!0),[d,p]=z.useState(null),[y,T]=z.useState(!0),[v,w]=z.useState({}),[k,x]=z.useState({}),b=z.useRef([]);let S=!1,E=!1;const A=async()=>{const Q=Date.now()+500,ie={startVelocity:30,spread:360,ticks:60,zIndex:0};function q(ae,Z){return Math.random()*(Z-ae)+ae}const oe=setInterval(function(){const ae=Q-Date.now();if(ae<=0)return clearInterval(oe);const Z=50*(ae/500);ko(Object.assign({},ie,{particleCount:Z,origin:{x:q(.1,.5),y:Math.random()-.5}})),ko(Object.assign({},ie,{particleCount:Z,origin:{x:q(.5,.9),y:Math.random()-.5}}))},50)},N=()=>{e(!t)},M=()=>{const j=new Date().toLocaleDateString("fi-FI"),Q=new Date().toLocaleTimeString("fi-FI");let ie=!1;Object.entries(ni).forEach(q=>{const oe=q[1],ae=oe.premiereDate,Z=oe.premiereTime,ee=oe.expireTime,W=oe.ticket;j===ae&&Q>=Z&&Q<=ee&&(ie=!0,E||(E=!0,T(!1),u(!1),localStorage.getItem(W)?(a({src:"./movies/countdown.mp4",type:"video/mp4"}),setTimeout(()=>{a({src:oe.source,type:"video/mp4"})},13e3)):(u(!0),a({src:"./noTicket.mp4",type:"video/mp4"}))))}),!ie&&E&&(E=!1,T(!0),u(!0),a(null))},U=()=>{const j=new Date().toLocaleDateString("fi-FI"),Q=new Date().toLocaleTimeString("fi-FI"),ie=[];Object.entries(ni).forEach(q=>{ie.push(q[1])});for(let q=0;q<ie.length;q++){const oe=ie[q],ae=oe.premiereDate,Z=oe.premiereTime,ee=oe.expireTime;j==ae&&Q<=Z?p(oe):j==ae&&Q>=ee?p(ie[q+1]):j==ae&&q==ie.length-1&&p(null)}};z.useEffect(()=>{const j=document.querySelector("video"),Q=document.querySelector(".vjs-control-bar");t?(j.style.borderRadius="0px",j.style.backgroundColor="#191e39",Q.style.borderRadius="0px"):(j.style.borderRadius="0.375rem",j.style.backgroundColor="#37436d",Q.style.borderRadius="0 0 0.375rem 0.375rem")},[t]);const H=()=>{const j=b.current[0];j&&(x(j),n(!0),setTimeout(()=>{s(!0),j.donateProgress>=j.donateGoal&&(S||(S=!0,A()))},300),setTimeout(()=>{s(!1),n(!1)},5e3),setTimeout(()=>{b.current.shift(),H()},6e3))};return z.useEffect(()=>{v.username&&(b.current.push(v),b.current.length==1&&H())},[v]),z.useEffect(()=>{M(),U(),setInterval(()=>{M(),U()},1e3)},[]),C.jsxs("div",{className:t?"flex justify-center h-full overflow-hidden":"flex flex-col lg:flex-row items-center h-full",children:[C.jsxs("div",{id:"video",className:t?"h-full w-full":"h-full w-full flex-1 p-4 pb-2 lg:pb-4 lg:pr-2 relative",children:[C.jsx("div",{className:i?"donate-box":"donate-box h-0 p-0",style:{transition:"height 0.3s ease-in-out"},children:C.jsx("div",{className:"w-full h-full rounded-md bg-oc-space-blue",children:r&&C.jsxs("div",{className:"donate-box-content",children:[C.jsx("p",{className:"text-white",children:(k==null?void 0:k.username)+" donated "+(k==null?void 0:k.donateAmount)+"€!"}),C.jsx("p",{className:"text-white break-all",children:"Message: "+((k==null?void 0:k.donateMessage.length)>200?k==null?void 0:k.donateMessage.slice(0,200):k==null?void 0:k.donateMessage)}),C.jsx("div",{className:"w-full h-7 px-4 rounded-md",children:C.jsxs("div",{className:"w-full h-full flex items-center relative bg-oc-pastel-blue rounded-md",children:[C.jsx("div",{className:"h-full bg-oc-hover-pink rounded-md",style:{width:(k==null?void 0:k.donateProgress)/(k==null?void 0:k.donateGoal)*100+"%"}}),C.jsx("p",{className:"absolute w-full text-center text-white",children:"Progress: "+(k==null?void 0:k.donateProgress)+" / "+(k==null?void 0:k.donateGoal)+" €"})]})})]})})}),d&&y&&C.jsxs("div",{className:"w-fit h-fit absolute top-[2rem] transform translate-x-1/2 right-1/2 z-10 py-4 px-10 bg-oc-space-blue rounded-md flex flex-col gap-2 items-center",children:[C.jsxs("div",{className:"text-white text-[0.6rem] sm:text-[1.5vw] xl:text-[1.2rem] text-center",children:["Next Movie: ",d.title]}),C.jsx("div",{className:"text-white text-[0.6rem] sm:text-[1.5vw] xl:text-[1.2rem] text-center",children:"Time: "+d.premiereDate.substring(0,5)+" at "+d.premiereTime.substring(0,5)})]}),C.jsx("div",{className:t?"h-full":"rounded-md h-full overflow-hidden",children:C.jsx(dC,{source:o,loop:l})})]}),C.jsx("div",{id:"chat",className:t?"":"w-full h-[65%] lg:flex-none lg:w-[25rem] lg:h-full p-4 pt-2 lg:pt-4 lg:pl-2",children:t?C.jsx(sg,{children:C.jsx(hg,{handleWindow:N,windowed:t,setDonationData:w})}):C.jsx(hg,{handleWindow:N,windowed:t,setDonationData:w})})]})}const Cy=({setShowModal:t,blurBackground:e})=>{const[i,n]=z.useState("none"),[r,s]=z.useState(!1),o=u=>{localStorage.getItem(u.target.value)?(n("none"),s(!0)):(n(u.target.value),s(!1))},a=u=>{u.target.id==="background"&&t(!1)},l=()=>{console.log(i),localStorage.setItem(i,"true")};return C.jsx("div",{className:e?"text-oc-cold-white fixed inset-0 bg-oc-space-blue bg-opacity-20 backdrop-blur-sm flex justify-center items-center z-50 ":"w-full flex justify-center items-center",id:"background",onClick:a,children:C.jsxs("div",{className:" w-5/6 lg:w-[830px] flex flex-col bg-oc-pastel-blue rounded-md justify-center mb-10",children:[e&&C.jsx("h1",{className:" font-IM-Fell-English-SC font-bold text-4xl text-center p-4 ",children:"Tickets"}),C.jsx("div",{className:" p-1 rounded-md",children:C.jsx("div",{className:" flex flex-block items-center justify-center p-4 w-full",children:C.jsxs("form",{className:"w-full max-w-3xl",children:[C.jsxs("div",{className:"  pb-2 flex flex-col items-center gap-2",children:[r&&C.jsx("label",{htmlFor:"ticket-select",children:"You already have this ticket!"}),C.jsxs("select",{className:r?" w-1/2 bg-gray-200 focus:bg-white p-3 rounded-md text-oc-space-blue flex justify-center text-center focus:outline-none focus:ring-2 focus:ring-red-500":" w-1/2 bg-gray-200 focus:bg-white p-3 rounded-md text-oc-space-blue flex justify-center text-center",id:"ticket-select",value:i,onChange:o,children:[C.jsx("option",{value:"none",children:"Choose your ticket!"}),C.jsx("option",{value:"ticket1",children:"Tuesday Ticket"}),C.jsx("option",{value:"ticket2",children:"Wednesday Ticket"}),C.jsx("option",{value:"ticket3",children:"Thursday Ticket"}),C.jsx("option",{value:"ticket4",children:"Friday Ticket"}),C.jsx("option",{value:"ticket5",children:"Week Pass"})]})]}),C.jsx("h2",{className:" text-oc-cold-white font-IM-Fell-English-SC font-bold text-3xl text-center h-1/6 p-10",children:"Fill Out Your Information"}),C.jsx("div",{className:" flex justify-end",children:C.jsxs("div",{className:" w-full",children:[C.jsxs("div",{className:" flex w-full justify-between",children:[C.jsx("label",{className:" uppercase text-oc-cold-white text-xs font-bold mb-2 w-1/2",htmlFor:"grid-first-name",children:"First Name"}),C.jsx("label",{className:" block uppercase text-oc-cold-white text-xs font-bold mb-2 w-1/2",htmlFor:"grid-first-name",children:"Last Name"})]}),C.jsxs("div",{className:" flex w-full justify-between mb-3",children:[C.jsx("input",{className:" w-1/2 bg-gray-200 focus:bg-white text-oc-space-blue rounded-md p-2 mr-2",id:"grid-first-name",type:"text",placeholder:"Sammy",required:!0}),C.jsx("input",{className:" w-1/2 bg-gray-200 focus:bg-white text-oc-space-blue rounded-md p-2",id:"grid-first-name",type:"text",placeholder:"Makko",required:!0})]})]})}),C.jsx("div",{className:"flex flex-wrap -mx-3 mb-3",children:C.jsxs("div",{className:"w-full px-3",children:[C.jsx("label",{className:"block uppercase tracking-wide text-oc-cold-white text-xs font-bold mb-2",children:"Credit Card Number"}),C.jsx("input",{className:" block w-full text-oc-space-blue bg-gray-200 focus:bg-white p-2 rounded-md ",placeholder:"XXXX-XXXX-XXXX-XXXX",required:!0})]})}),C.jsxs("div",{className:" flex w-full justify-between",children:[C.jsx("label",{className:" uppercase text-oc-cold-white text-xs font-bold mb-2 w-1/2",htmlFor:"grid-first-name",children:"E-mail"}),C.jsx("label",{className:" block uppercase text-oc-cold-white text-xs font-bold mb-2 w-1/2",htmlFor:"grid-first-name",children:"Phone Number"})]}),C.jsxs("div",{className:" flex w-full justify-between mb-3",children:[C.jsx("input",{className:" w-1/2 bg-gray-200 focus:bg-white text-oc-space-blue rounded-md p-2 mr-2",id:"grid-first-name",type:"text",placeholder:"ex@example.com",required:!0}),C.jsx("input",{className:" w-1/2 bg-gray-200 focus:bg-white text-oc-space-blue rounded-md p-2",id:"grid-first-name",type:"text",placeholder:"+358 12345678"})]}),C.jsx("button",{className:" text-lg font-semibold text-oc-space-blue bg-oc-desert-yellow hover:bg-oc-test rounded-md p-2 my-4 w-full",onClick:l,children:"Order"})]})})})]})})};Cy.propTypes={setShowModal:Ie.func,blurBackground:Ie.bool};function lU(){const[t,e]=z.useState(!1);function i(){document.getElementById("vid1").play()}function n(){document.getElementById("vid1").pause()}function r(){document.getElementById("vid2").play()}function s(){document.getElementById("vid2").pause()}function o(){document.getElementById("vid3").play()}function a(){document.getElementById("vid3").pause()}function l(){document.getElementById("vid4").play()}function u(){document.getElementById("vid4").pause()}function d(){document.getElementById("vid5").play()}function p(){document.getElementById("vid5").pause()}return C.jsxs(z.Fragment,{children:[C.jsx("div",{children:C.jsxs("div",{className:" flex flex-col xl:h-screen bg-oc-space-blue items-center",children:[C.jsxs("div",{className:" flex flex-col h-1/6 justify-center xs:my-4 sm:my-4",children:[C.jsx("h1",{className:" text-oc-cold-white font-bold text-5xl flex justify-center text-center font-IM-Fell-English-SC",children:"Ciné Kela"}),C.jsxs("h1",{className:" text-oc-cold-white font-bold text-3xl text-center",children:["11.10.2023 - ",ni[5].premiereDate]})]}),C.jsxs("div",{className:"flex flex-col xl:flex-row w-full h-full lg:h-4/6 md:w-[750px] xl:w-5/6 bg-oc-space-blue rounded-md gap-4 xl:gap-0 py-4",children:[C.jsxs("div",{className:" card flex flex-col flex-1 grow shrink hover:grow-[10] h-full items-center rounded-md lg:px-2 md:px-2 bg-oc-space-blue",children:[C.jsx("h1",{className:" day text-3xl font-semibold font-IM-Fell-English-SC bg-oc-pastel-blue text-oc-cold-white w-full rounded-t-md text-center py-2 px-4",children:"Wednesday"}),C.jsxs("div",{className:" flex flex-col justify-center h-full items-center w-full bg-oc-cold-white rounded-b-md hover:rounded-md cardImg",children:[C.jsx("video",{src:"/placeholder.mp4",className:" rounded-t-md",muted:!0,loop:!0}),C.jsxs("div",{className:" w-full flex flex-col",children:[C.jsx("h2",{className:" text-oc-cold-white text-xl  font-semibold py-2 bg-oc-pastel-blue w-full text-center",children:"Stream"}),C.jsx("h2",{className:" text-oc-cold-white font-semibold py-2 bg-oc-pastel-blue w-full text-center",children:"To be announced"})]}),C.jsx("h3",{className:" w-full bg-oc-hover-pink font-semibold pl-4",children:"Drama"}),C.jsx("p",{className:" text-lg font-medium text-oc-space-blue p-4 bg-oc-cold-white h-full w-full rounded-b-md",children:"Join in to watch the horror of 3 stooges struggling their way through a glamorous film festival opening ceremony."})]})]}),C.jsxs("div",{className:" card flex flex-col flex-1 shrink hover:grow-[10] rounded-md items-center lg:px-2 md:px-2 bg-oc-space-blue ",onMouseEnter:i,onMouseLeave:n,children:[C.jsx("h1",{className:" day text-3xl font-semibold font-IM-Fell-English-SC bg-oc-pastel-blue text-oc-cold-white w-full rounded-t-md text-center py-2 px-4",children:"Thursday"}),C.jsxs("div",{className:" flex flex-col justify-center h-full items-center w-full bg-oc-cold-white rounded-b-md hover:rounded-md cardImg2",children:[C.jsx("video",{id:"vid1",src:"./movies/Democompo_trailer.mp4",muted:!0,loop:!0,className:" rounded-t-md"}),C.jsxs("div",{className:" w-full flex flex-col",children:[C.jsx("h2",{className:" text-oc-cold-white text-xl  font-semibold py-2 bg-oc-pastel-blue w-full text-center",children:"Democompo"}),C.jsxs("h2",{className:" text-oc-cold-white font-semibold py-2 bg-oc-pastel-blue w-full text-center",children:[ni[1].premiereTime.substring(0,5)," -"," ",ni[1].expireTime.substring(0,5)]})]}),C.jsx("h3",{className:" w-full bg-oc-hover-pink font-semibold pl-4",children:"3D, CGI, Horror"}),C.jsx("p",{className:" text-lg font-medium text-oc-space-blue p-4 bg-oc-cold-white h-full w-full ",children:"Sit back and enjoy The vision of a skilled 3d animation student!"}),C.jsx("div",{className:" buttonDiv bg-oc-cold-white w-full flex justify-center items-center rounded-b-md pb-4",children:C.jsx("button",{className:" text-lg font-semibold text-oc-space-blue hover:text-oc-cold-white bg-oc-rosy-pink hover:bg-oc-hover-pink rounded-md p-2 flex justify-center",onClick:()=>e(!0),children:"Buy Ticket"})})]})]}),C.jsxs("div",{className:" card flex flex-col flex-1 grow shrink  hover:grow-[10] h-full items-center rounded lg:px-2 md:px-2 bg-oc-space-blue",onMouseEnter:r,onMouseLeave:s,children:[C.jsx("h1",{className:" day text-3xl font-semibold font-IM-Fell-English-SC bg-oc-pastel-blue text-oc-cold-white w-full rounded-t-md text-center py-2 px-4",children:"Friday"}),C.jsxs("div",{className:" flex flex-col justify-center h-full items-center w-full bg-oc-cold-white rounded-b-md cardImg3",children:[C.jsx("video",{id:"vid2",src:"./movies/Mikko_EVTEKtoAlaska_trailer.mp4",loop:!0,muted:!0,className:" rounded-t-md"}),C.jsxs("div",{className:" w-full flex flex-col",children:[C.jsx("h2",{className:" text-oc-cold-white text-xl font-semibold py-2 bg-oc-pastel-blue w-full text-center",children:"Evtek to Alaska"}),C.jsxs("h2",{className:" text-oc-cold-white font-semibold py-2 bg-oc-pastel-blue w-full text-center",children:[ni[2].premiereTime.substring(0,5)," -"," ",ni[2].expireTime.substring(0,5)]})]}),C.jsx("h3",{className:" w-full bg-oc-hover-pink font-semibold pl-4",children:"Relaxing, Adventure"}),C.jsx("p",{className:" text-lg font-medium text-oc-space-blue p-4 bg-oc-cold-white h-full w-full ",children:"This lovely nostalgia blast truly captures the idyllic feeling of years past. Join us on this roadtrip to memory lane!"}),C.jsx("div",{className:" buttonDiv bg-oc-cold-white w-full flex justify-center items-center rounded-b-md pb-4",children:C.jsx("button",{className:" text-lg font-semibold text-oc-space-blue hover:text-oc-cold-white bg-oc-rosy-pink hover:bg-oc-hover-pink  rounded-md p-2 flex justify-center",onClick:()=>e(!0),children:"Buy Ticket"})})]})]}),C.jsxs("div",{className:" card flex flex-col flex-1 grow shrink hover:grow-[10] h-full items-center rounded-md lg:px-2 md:px-2 bg-oc-space-blue",onMouseEnter:o,onMouseLeave:a,children:[C.jsx("h1",{className:" day text-3xl font-semibold font-IM-Fell-English-SC bg-oc-pastel-blue text-oc-cold-white w-full rounded-t-md text-center py-2 px-4",children:"Saturday"}),C.jsxs("div",{className:" flex flex-col justify-center h-full items-center w-full bg-oc-cold-white rounded-b-md hover:rounded-md cardImg4",children:[C.jsx("video",{id:"vid3",src:"./movies/Morning_after_trailer.mp4",loop:!0,muted:!0,className:" rounded-t-md"}),C.jsxs("div",{className:" w-full flex flex-col",children:[C.jsx("h2",{className:" text-oc-cold-white text-xl font-semibold py-2 bg-oc-pastel-blue w-full text-center",children:"Morning After"}),C.jsxs("h2",{className:" text-oc-cold-white font-semibold py-2 bg-oc-pastel-blue w-full text-center",children:[ni[3].premiereTime.substring(0,5)," -"," ",ni[3].expireTime.substring(0,5)]})]}),C.jsx("h3",{className:" w-full bg-oc-hover-pink font-semibold pl-4",children:"Scifi, Horror, Comedy"}),C.jsx("p",{className:" text-lg font-medium text-oc-space-blue p-4 bg-oc-cold-white h-full w-full ",children:`First look at this film will make you think its "just" a
                  showcase of a 3d model of Leppävaara campus, but it quickly
                  evolves into something far more sinister...`}),C.jsx("div",{className:" buttonDiv bg-oc-cold-white w-full flex justify-center items-center rounded-b-md pb-4",children:C.jsx("button",{className:" text-lg font-semibold text-oc-space-blue hover:text-oc-cold-white bg-oc-rosy-pink hover:bg-oc-hover-pink  rounded-md p-2 flex justify-center",onClick:()=>e(!0),children:"Buy Ticket"})})]})]}),C.jsxs("div",{className:" card flex flex-col flex-1 grow shrink  hover:grow-[10] h-full items-center rounded-md lg:px-2 md:px-2 bg-oc-space-blue",onMouseEnter:l,onMouseLeave:u,children:[C.jsx("h1",{className:" day text-3xl font-semibold font-IM-Fell-English-SC bg-oc-pastel-blue text-oc-cold-white w-full rounded-t-md text-center py-2 px-4",children:"Sunday"}),C.jsxs("div",{className:" flex flex-col g justify-center h-full items-center w-full bg-oc-cold-white rounded-b-md hover:rounded-md cardImg5",children:[C.jsx("video",{id:"vid4",src:"./movies/Museo_olohuoneena_trailer.mp4",loop:!0,muted:!0,className:" rounded-t-md"}),C.jsxs("div",{className:" w-full flex flex-col",children:[C.jsx("h2",{className:" text-oc-cold-white text-xl  font-semibold py-2 bg-oc-pastel-blue w-full text-center px-2",children:"Museo Olohuoneena"}),C.jsxs("h2",{className:" text-oc-cold-white font-semibold py-2 bg-oc-pastel-blue w-full text-center",children:[ni[4].premiereTime.substring(0,5)," -"," ",ni[4].expireTime.substring(0,5)]})]}),C.jsx("h3",{className:" w-full bg-oc-hover-pink font-semibold pl-4",children:"Documentary"}),C.jsx("p",{className:" text-lg font-medium text-oc-space-blue p-4 bg-oc-cold-white h-full w-full",children:"This movie features the showcase of an artproject of a Metropolia student. You can feel as if you were in the middle of the hubbub of Arabia campus!"}),C.jsx("div",{className:" buttonDiv bg-oc-cold-white w-full flex justify-center items-center rounded-b-md pb-4",children:C.jsx("button",{className:" text-lg font-semibold text-oc-space-blue hover:text-oc-cold-white bg-oc-rosy-pink hover:bg-oc-hover-pink  rounded-md p-2 flex justify-center",onClick:()=>e(!0),children:"Buy Ticket"})})]})]}),C.jsxs("div",{className:" card flex flex-col flex-1 grow shrink  hover:grow-[10] h-full items-center rounded-md lg:px-2 md:px-2 bg-oc-space-blue",onMouseEnter:d,onMouseLeave:p,children:[C.jsx("h1",{className:" day text-3xl font-semibold font-IM-Fell-English-SC bg-oc-pastel-blue text-oc-cold-white w-full rounded-t-md text-center py-2 px-4",children:"Monday"}),C.jsxs("div",{className:" flex flex-col justify-center h-full items-center w-full bg-oc-cold-white rounded-b-md hover:rounded-md cardImg6",children:[C.jsx("video",{id:"vid5",src:"./movies/Opiskelijaelämää_2009_trailer.mp4",loop:!0,muted:!0,className:" rounded-t-md"}),C.jsxs("div",{className:" w-full flex flex-col",children:[C.jsx("h2",{className:" text-oc-cold-white text-xl font-semibold py-2 bg-oc-pastel-blue w-full text-center px-2",children:"Opiskelijaelamaa 2009"}),C.jsxs("h2",{className:" text-oc-cold-white font-semibold py-2 bg-oc-pastel-blue w-full text-center",children:[ni[5].premiereTime.substring(0,5)," -"," ",ni[5].expireTime.substring(0,5)]})]}),C.jsx("h3",{className:" w-full bg-oc-hover-pink font-semibold pl-4",children:"Horror"}),C.jsx("p",{className:" text-lg font-medium text-oc-space-blue p-4 bg-oc-cold-white h-full w-full",children:"Join us on an adventure to 2009 to take a look at the schoollife of a Metropolia student. This blast from the past will be sure to make you miss the calm of student life!"}),C.jsx("div",{className:" buttonDiv bg-oc-cold-white w-full flex justify-center items-center rounded-b-md pb-4",children:C.jsx("button",{className:" text-lg font-semibold text-oc-space-blue hover:text-oc-cold-white bg-oc-rosy-pink hover:bg-oc-hover-pink  rounded-md p-2 flex justify-center",onClick:()=>e(!0),children:"Buy Ticket"})})]})]})]})]})}),t&&C.jsx(Cy,{setShowModal:e,blurBackground:!0})]})}function uU(){const[t,e]=z.useState(!1),[i,n]=z.useState(!1),[r,s]=z.useState(!1),[o,a]=z.useState(!1),l=()=>{e(!t)},u=()=>{n(!i)},d=()=>{s(!r)},p=T=>{T.preventDefault(),a(!o);const v=document.querySelector("body");o?v.style.overflow="visible":v.style.overflow="hidden"},y=()=>{window.location.reload()};return C.jsx(C.Fragment,{children:C.jsx("div",{className:"bg-oc-space-blue text-white",children:C.jsxs("div",{className:"w-full lg:w-10/12 m-auto",children:[C.jsxs("section",{className:"bg-oc-pastel-blue flex flex-col items-center py-8 my-8 roundedn-none lg:rounded-md",children:[C.jsx("h1",{className:"text-3xl py-4",children:"FAQ'S"}),C.jsxs("div",{className:"px-8 w-11/12",children:[C.jsxs("div",{className:"relative",children:[C.jsxs("div",{className:t?"flex hover:text-oc-rosy-pink liisa":"flex hover:text-oc-rosy-pink pekka",onClick:l,children:[C.jsx("h1",{className:"text-xl font-bold py-4",children:"Where does Ciné Kela take place?"}),C.jsx("button",{className:t?"infoPlus bg-[url(./minus.svg)]":"infoPlus"})]}),t&&C.jsx("p",{className:"text-base",children:"Ciné Kela is an online film festival. You can watch the films from the comfort of your own home."})]}),C.jsx("hr",{className:"my-8"}),C.jsxs("div",{className:"relative",children:[C.jsxs("div",{className:i?"flex hover:text-oc-rosy-pink liisa":"flex hover:text-oc-rosy-pink pekka",onClick:u,children:[C.jsx("h1",{className:"text-xl font-bold py-4",children:"When will Ciné Kela take place?"}),C.jsx("button",{className:i?"infoPlus bg-[url(./minus.svg)]":"infoPlus"})]}),i&&C.jsx("p",{className:"text-base",children:"The festival takes place between 11.10.2023 and 16.10.2023. For more information, please visit the schedule page."})]}),C.jsx("hr",{className:"my-8"}),C.jsxs("div",{className:"relative",children:[C.jsxs("div",{className:r?"flex hover:text-oc-rosy-pink liisa":"flex hover:text-oc-rosy-pink pekka",onClick:d,children:[C.jsx("h1",{className:"text-xl font-bold py-4",children:"Do I need to buy a ticket?"}),C.jsx("button",{className:r?"infoPlus bg-[url(./minus.svg)]":"infoPlus"})]}),r&&C.jsx("p",{className:"text-base",children:"The opening ceremony is free to watch. To watch the films, you need to buy a ticket. You can buy a ticket from our website."})]}),C.jsx("hr",{className:"my-8"}),C.jsx("p",{children:"Couldn't find what you were looking for? Contact us through the form at the bottom of the page."})]})]}),C.jsxs("section",{className:"bg-oc-pastel-blue flex flex-col items-center py-8 my-8 roundedn-none lg:rounded-md",children:[C.jsx("h1",{className:"text-3xl mb-4",children:"Contact us"}),C.jsxs("form",{className:"w-full max-w-lg",children:[C.jsxs("div",{className:"flex flex-wrap -mx-3 mb-6",children:[C.jsxs("div",{className:"w-full md:w-1/2 px-3 mb-6 md:mb-0",children:[C.jsx("label",{className:"block uppercase tracking-wide text-white text-xs font-bold mb-2",htmlFor:"grid-first-name",children:"First Name"}),C.jsx("input",{className:"shadow-lg appearance-none block w-full bg-gray-200 text-black rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white",id:"grid-first-name",type:"text",placeholder:"Jane",required:!0})]}),C.jsxs("div",{className:"w-full md:w-1/2 px-3",children:[C.jsx("label",{className:"block uppercase tracking-wide text-white text-xs font-bold mb-2",htmlFor:"grid-last-name",children:"Last Name"}),C.jsx("input",{className:"shadow-lg appearance-none block w-full bg-gray-200 text-black border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500",id:"grid-last-name",type:"text",placeholder:"Doe"})]})]}),C.jsxs("div",{className:"flex flex-wrap -mx-3 mb-6",children:[C.jsxs("div",{className:"w-full md:w-1/2 px-3 mb-6 md:mb-0",children:[C.jsx("label",{className:"block uppercase tracking-wide text-white text-xs font-bold mb-2",htmlFor:"grid-first-name",children:"E-mail"}),C.jsx("input",{className:"shadow-lg appearance-none block w-full bg-gray-200 text-black rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white",id:"grid-first-name",type:"text",placeholder:"ex@example.com",required:!0})]}),C.jsxs("div",{className:"w-full md:w-1/2 px-3",children:[C.jsx("label",{className:"block uppercase tracking-wide text-white text-xs font-bold mb-2",htmlFor:"grid-last-name",children:"Phone number"}),C.jsx("input",{className:"shadow-lg appearance-none block w-full bg-gray-200 text-black border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500",id:"grid-last-name",type:"text",placeholder:"+358 12345678"})]})]}),C.jsxs("div",{className:"mb-4",children:[C.jsx("h2",{className:"block tracking-wide text-white text-xl mb-2",children:"Are you"}),C.jsx("input",{type:"radio",id:"private",name:"person"}),C.jsx("label",{htmlFor:"private",className:"tracking-wide text-white mb-2 mr-8",children:"Private"}),C.jsx("input",{type:"radio",id:"company",name:"person"}),C.jsx("label",{htmlFor:"company",className:"tracking-wide text-white mb-2",children:"Business"})]}),C.jsxs("div",{children:[C.jsx("h2",{className:"block tracking-wide text-white text-xl mb-2",children:"Summary of your inquiry"}),C.jsx("div",{className:"textareacontainer shadow-lg",children:C.jsx("textarea",{required:!0,className:"appearance-none block w-full bg-gray-200 text-black rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white"})})]}),C.jsx("div",{className:"flex justify-center mt-2",children:C.jsx("input",{type:"submit",value:"Submit",onClick:p,className:"bg-oc-desert-yellow w-full rounded p-2 text-black font-bold hover:bg-oc-test "})})]})]}),o&&C.jsx("div",{className:" bg-oc-space-blue/[.95] fixed h-screen w-screen top-0 left-0 z-[100] py-8",children:C.jsxs("div",{className:"flex flex-col bg-oc-cold-white text-black text-center rounded-md p-8 w-4/12 m-auto",children:[C.jsx("p",{children:"Thank you for contacting us."}),C.jsx("p",{children:"We will get back to you soon."}),C.jsx("button",{onClick:y,className:"newsbtn",children:"Close"})]})})]})})})}function qC({source:t,loop:e}){const i=z.useRef(null),n=z.useRef(null);return z.useEffect(()=>{const r={autoplay:!0,muted:!0,controls:!0,responsive:!1,fluid:!1,loop:!1,liveui:!0,sources:[{src:"./movies/streamVod.mp4",type:"video/mp4"},{src:"./placeholderVod.mp4",type:"video/mp4"}]};if(n.current){const s=n.current;s.autoplay(r.autoplay),s.src(r.sources),s.loop(e),t&&s.src(t)}else{const s=document.createElement("video-js");s.classList.add("vjs-big-play-centered"),i.current.appendChild(s),(n.current=F(s,r,()=>{})).addClass("vjs-theme-city")}},[i,t,e]),z.useEffect(()=>{const r=n.current;return()=>{r&&!r.isDisposed()&&(r.dispose(),n.current=null)}},[n]),C.jsx("div",{"data-vjs-player":!0,className:"h-full",children:C.jsx("div",{ref:i,className:"h-full"})})}qC.propTypes={source:Ie.object,loop:Ie.bool};function cU(){return z.useEffect(()=>{const t=document.querySelector("video");t.style.backgroundColor="#37436d"},[]),C.jsx(C.Fragment,{children:C.jsxs("div",{className:" bg-oc-space-blue h-screen w-full flex flex-col items-center",children:[C.jsx("h1",{className:" text-oc-cold-white font-bold text-5xl text-center p-12 font-IM-Fell-English-SC",children:"Stream Archive"}),C.jsx("div",{className:" flex flex-col h-4/5 w-4/5 justify-center",children:C.jsx(qC,{})})]})})}function dU(){return C.jsx("div",{className:" h-full",children:C.jsxs("div",{className:"  text-oc-cold-white flex flex-col items-center h-full w-full",children:[C.jsx("h1",{className:" font-IM-Fell-English-SC text-oc-cold-white font-bold text-5xl h-1/5 flex justify-center items-center p-10",children:"Get Your Tickets Now"}),C.jsx(Cy,{blurBackground:!1})]})})}function hU(){return C.jsx(SP,{basename:"/cine-kela/",children:C.jsx(TP,{children:C.jsxs(Jn,{element:C.jsx(T5,{}),children:[C.jsx(Jn,{path:"/",element:C.jsx(_5,{})}),C.jsx(Jn,{path:"/stream",element:C.jsx(aU,{})}),C.jsx(Jn,{path:"/schedule",element:C.jsx(lU,{})}),C.jsx(Jn,{path:"/info",element:C.jsx(uU,{})}),C.jsx(Jn,{path:"/archive",element:C.jsx(cU,{})}),C.jsx(Jn,{path:"/tickets",element:C.jsx(dU,{})})]})})})}Tp.createRoot(document.getElementById("root")).render(C.jsx(J.StrictMode,{children:C.jsx(hU,{})}));
